(()=>{var Au=Object.create;var Aa=Object.defineProperty;var Nu=Object.getOwnPropertyDescriptor;var Mu=Object.getOwnPropertyNames;var qu=Object.getPrototypeOf,Ou=Object.prototype.hasOwnProperty;var x=(e,t)=>Aa(e,"name",{value:t,configurable:!0}),d=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var Lo=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Uu=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Mu(t))!Ou.call(e,a)&&a!==r&&Aa(e,a,{get:()=>t[a],enumerable:!(o=Nu(t,a))||o.enumerable});return e};var U=(e,t,r)=>(r=e!=null?Au(qu(e)):{},Uu(t||!e||!e.__esModule?Aa(r,"default",{value:e,enumerable:!0}):r,e));var Qo=Lo((Qp,ri)=>{var $u=Object.create,_o=Object.defineProperty,zu=Object.getOwnPropertyDescriptor,Hu=Object.getOwnPropertyNames,Wu=Object.getPrototypeOf,ju=Object.prototype.hasOwnProperty,Vu=x((e,t)=>{for(var r in t)_o(e,r,{get:t[r],enumerable:!0})},"N"),Gn=x((e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Hu(t))!ju.call(e,a)&&a!==r&&_o(e,a,{get:()=>t[a],enumerable:!(o=zu(t,a))||o.enumerable});return e},"E"),Ku=x((e,t,r)=>(r=e!=null?$u(Wu(e)):{},Gn(t||!e||!e.__esModule?_o(r,"default",{value:e,enumerable:!0}):r,e)),"A"),_u=x(e=>Gn(_o({},"__esModule",{value:!0}),e),"V"),Xn={};Vu(Xn,{DevToolsContext:()=>ti,DevToolsContextProvider:()=>Ru,DevtoolsEvent:()=>Zn,hooksByScope:()=>Qu,receive:()=>ei,scopes:()=>Yn,send:()=>Jn});ri.exports=_u(Xn);var Zn=(e=>(e.RELOAD="devtools:reload",e.DEVTOOLS_INIT="devtools:init",e.DEVTOOLS_HANDSHAKE="devtools:handshake",e.DEVTOOLS_ALREADY_CONNECTED="devtools:already-connected",e.ACTIVITY="devtools:send-activity",e.DEVTOOLS_ACTIVITY_UPDATE="devtools:activity-update",e.DEVTOOLS_CONNECTED_APP="devtools:connected-app",e.DEVTOOLS_DISCONNECTED_APP="devtools:disconnected-app",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR="devtools:highlight-in-monitor",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR_ACTION="devtools:highlight-in-monitor-action",e.DEVTOOLS_LOGIN_SUCCESS="devtools:login-success",e.DEVTOOLS_RELOAD_AFTER_LOGIN="devtools:reload-after-login",e))(Zn||{}),Yn={useCan:"access-control",useLog:"audit-log",useLogList:"audit-log",useCreate:"data",useCreateMany:"data",useCustom:"data",useCustomMutation:"data",useDelete:"data",useDeleteMany:"data",useInfiniteList:"data",useList:"data",useMany:"data",useOne:"data",useUpdate:"data",useUpdateMany:"data",useForgotPassword:"auth",useGetIdentity:"auth",useIsAuthenticated:"auth",useLogin:"auth",useLogout:"auth",useOnError:"auth",usePermissions:"auth",useRegister:"auth",useUpdatePassword:"auth"},Qu=Object.entries(Yn).reduce((e,[t,r])=>(e[r]||(e[r]=[]),e[r].push(t),e),{}),Qr=Ku(d("react"));async function Jn(e,t,r){if(e.readyState!==e.OPEN){await new Promise(o=>{let a=x(()=>{e.send(JSON.stringify({event:t,payload:r})),o(),e.removeEventListener("open",a)},"a");e.addEventListener("open",a)});return}else{e.send(JSON.stringify({event:t,payload:r}));return}}x(Jn,"d");function ei(e,t,r){let o=x(a=>{let{event:n,payload:i}=JSON.parse(a.data);t===n&&r(i)},"s");return e.addEventListener("message",o),()=>{e.removeEventListener("message",o)}}x(ei,"c");var ti=Qr.default.createContext({__devtools:!1,port:5002,url:"localhost",secure:!1,ws:null}),Ru=x(({__devtools:e,port:t,children:r})=>{let[o,a]=Qr.default.useState({__devtools:e??!1,port:t??5002,url:"localhost",secure:!1,ws:null}),[n,i]=Qr.default.useState(null);Qr.default.useEffect(()=>{let m=new WebSocket(`${o.secure?"wss":"ws"}://localhost:${o.port}`),c=ei(m,"devtools:handshake",f=>{a(y=>({...y,devtoolsUrl:f.url})),c()});return m.addEventListener("open",()=>{o.__devtools||Jn(m,"devtools:init",{url:window.location.origin})}),i(m),()=>{c(),m.close(1e3,window.location.origin)}},[]);let l=Qr.default.useMemo(()=>({...o,ws:n}),[o,n]);return Qr.default.createElement(ti.Provider,{value:l},r)},"S")});var ce=Lo((Yp,li)=>{var Gu=Object.create,Ro=Object.defineProperty,Xu=Object.getOwnPropertyDescriptor,Zu=Object.getOwnPropertyNames,Yu=Object.getPrototypeOf,Ju=Object.prototype.hasOwnProperty,ed=x((e,t)=>{for(var r in t)Ro(e,r,{get:t[r],enumerable:!0})},"L"),oi=x((e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Zu(t))!Ju.call(e,a)&&a!==r&&Ro(e,a,{get:()=>t[a],enumerable:!(o=Xu(t,a))||o.enumerable});return e},"d"),ai=x((e,t,r)=>(r=e!=null?Gu(Yu(e)):{},oi(t||!e||!e.__esModule?Ro(r,"default",{value:e,enumerable:!0}):r,e)),"E"),td=x(e=>oi(Ro({},"__esModule",{value:!0}),e),"M"),ni={};ed(ni,{getTrace:()=>si,getXRay:()=>ld,useQuerySubscription:()=>ud});li.exports=td(ni);var rd=ai(d("error-stack-parser")),od="renderWithHooks",ad=x(e=>{let t=e.findIndex(r=>r.functionName===od);return t!==-1?e.slice(0,t):e},"T"),ii=/node_modules\/refinedev\/(?<name>.*?)\//,nd=x(e=>e?!!e.match(ii):!1,"_"),id=x(e=>{var t;if(!e)return;let r=e.match(ii),o=(t=r==null?void 0:r.groups)==null?void 0:t.name;if(o)return`@refinedev/${o}`},"R");function si(){return[];try{let e=new Error,t=rd.default.parse(e);return ad(t).map(r=>({file:r.fileName,line:r.lineNumber,column:r.columnNumber,function:r.functionName,isRefine:nd(r.fileName),packageName:id(r.fileName)})).filter(r=>r.function).slice(1)}catch{return[]}}x(si,"l");var Na=Qo(),sd=x((e,t)=>{if(Na.scopes[e]==="auth")return null;if(e==="useCan")return t?"key[1].resource":"key[1]";if(Na.scopes[e]==="audit-log")return e==="useLog"?"variables.resource":"key[1]";if(Na.scopes[e]==="data"){if(e==="useCustom"||e==="useCustomMutation")return null;switch(e){case"useList":case"useInfiniteList":case"useOne":case"useMany":return t?"key[1]":"key[2]";case"useCreate":case"useCreateMany":case"useDelete":case"useDeleteMany":case"useUpdate":case"useUpdateMany":return"variables.resource"}}return null},"v");function ld(e,t){return{hookName:"",trace:[],resourcePath:null,legacyKey:!1}}x(ld,"I");var Gp=Qo(),Xp=ai(d("react")),Zp=Qo(),ud=()=>({})});var ae=Lo((ef,ml)=>{var dd=Object.create,So=Object.defineProperty,cd=Object.getOwnPropertyDescriptor,md=Object.getOwnPropertyNames,pd=Object.getPrototypeOf,fd=Object.prototype.hasOwnProperty,u=x((e,t)=>So(e,"name",{value:t,configurable:!0}),"o"),vd=x((e,t)=>{for(var r in t)So(e,r,{get:t[r],enumerable:!0})},"Di"),as=x((e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of md(t))!fd.call(e,a)&&a!==r&&So(e,a,{get:()=>t[a],enumerable:!(o=cd(t,a))||o.enumerable});return e},"Gs"),V=x((e,t,r)=>(r=e!=null?dd(pd(e)):{},as(t||!e||!e.__esModule?So(r,"default",{value:e,enumerable:!0}):r,e)),"B"),gd=x(e=>as(So({},"__esModule",{value:!0}),e),"Li"),ns={};vd(ns,{AccessControlContext:()=>Io,AuthPage:()=>Km,Authenticated:()=>dl,AutoSaveIndicator:()=>pp,CanAccess:()=>dp,ErrorComponent:()=>zm,GitHubBanner:()=>mp,KeyBuilder:()=>nn,LayoutWrapper:()=>ip,LoginPage:()=>sl,ReadyPage:()=>ll,Refine:()=>np,ResourceContext:()=>ko,RouteChangeHandler:()=>cl,TranslationContext:()=>Ur,UndoableQueue:()=>ul,WelcomePage:()=>Qm,createTreeView:()=>kd,file2Base64:()=>Rd,flattenObjectKeys:()=>Ya,generateDefaultDocumentTitle:()=>Is,getDefaultFilter:()=>Qd,getDefaultSortOrder:()=>_d,getNextPageParam:()=>Bs,getPreviousPageParam:()=>Ss,handleUseParams:()=>Pd,importCSVMapper:()=>ls,keys:()=>nr,legacyResourceTransform:()=>Ts,matchResourceFromRoute:()=>Td,parseTableParams:()=>dn,parseTableParamsFromQuery:()=>Kd,pickDataProvider:()=>oe,pickNotDeprecated:()=>H,propertyPathToArray:()=>Vd,queryKeys:()=>Cd,routeGenerator:()=>Cs,setInitialFilters:()=>tn,setInitialSorters:()=>rn,stringifyTableParams:()=>Ja,unionFilters:()=>Bo,unionSorters:()=>en,useActiveAuthProvider:()=>qe,useApiUrl:()=>xc,useAuthenticated:()=>ec,useBack:()=>tl,useBreadcrumb:()=>Om,useCan:()=>al,useCanWithoutCache:()=>Bm,useCancelNotification:()=>Jr,useCheckError:()=>tc,useCreate:()=>hn,useCreateMany:()=>zs,useCustom:()=>Bc,useCustomMutation:()=>kc,useDataProvider:()=>rt,useDelete:()=>vc,useDeleteMany:()=>Cc,useExport:()=>am,useForgotPassword:()=>fn,useForm:()=>sm,useGetIdentity:()=>cn,useGetLocale:()=>tm,useGetToPath:()=>la,useGo:()=>wt,useHandleNotification:()=>yt,useImport:()=>vm,useInfiniteList:()=>Ac,useInvalidate:()=>Jt,useIsAuthenticated:()=>sa,useIsExistAuthentication:()=>Os,useLink:()=>ua,useList:()=>gn,useLiveMode:()=>Zs,useLoadingOvertime:()=>He,useLog:()=>$r,useLogList:()=>Nm,useLogin:()=>ia,useLogout:()=>ra,useMany:()=>Us,useMenu:()=>$m,useMeta:()=>Ae,useModal:()=>gm,useMutationMode:()=>Yr,useNavigation:()=>Lt,useNotification:()=>ur,useOnError:()=>st,useOne:()=>yn,useParse:()=>Gs,useParsed:()=>$t,usePermissions:()=>qs,usePublish:()=>Or,useRedirectionAfterSubmission:()=>el,useRefineContext:()=>it,useRegister:()=>pn,useResource:()=>ie,useResourceSubscription:()=>Fo,useResourceWithRoute:()=>Xs,useRouterContext:()=>ht,useRouterType:()=>Oe,useSelect:()=>km,useSetLocale:()=>em,useShow:()=>mm,useSubscription:()=>Qc,useSyncWithLocation:()=>As,useTable:()=>nl,useTitle:()=>Hd,useToPath:()=>ym,useTranslate:()=>ye,useUpdate:()=>on,useUpdateMany:()=>bc,useUpdatePassword:()=>vn,useUserFriendlyName:()=>un,useWarnAboutChange:()=>ln,userFriendlyResourceName:()=>us});ml.exports=gd(ns);var Ar=V(d("react")),ui=d("@tanstack/react-query"),di=ce(),an=V(d("qs")),is=V(d("lodash/unionWith")),ss=V(d("lodash/differenceWith")),yd=V(d("warn-once")),Ma=u(e=>e/1e3,"userFriendlySecond"),hd=V(d("lodash/zip")),bd=V(d("lodash/fromPairs")),ls=u((e,t=r=>r)=>{let[r,...o]=e;return o.map(a=>(0,bd.default)((0,hd.default)(r,a))).map((a,n,i)=>t.call(void 0,a,n,i))},"importCSVMapper"),ci=V(d("pluralize")),us=u((e="",t)=>{let r=xs(e);return t==="singular"?ci.default.singular(r):ci.default.plural(r)},"userFriendlyResourceName"),Pd=u((e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,"handleUseParams"),H=u((...e)=>e.find(t=>typeof t<"u"),"pickNotDeprecated");function zt(e,t){return e.findIndex((r,o)=>o<=e.length-t.length&&t.every((a,n)=>e[o+n]===a))}x(zt,"qe");u(zt,"arrayFindIndex");function ds(e){if(e[0]==="data"){let t=e.slice(1);if(t[2]==="many")t[2]="getMany";else if(t[2]==="infinite")t[2]="list";else if(t[2]==="one")t[2]="detail";else if(t[1]==="custom"){let r={...t[2]};return delete r.method,delete r.url,[t[0],t[1],t[2].method,t[2].url,r]}return t}if(e[0]==="audit"&&e[2]==="list")return["logList",e[1],e[3]];if(e[0]==="access"&&e.length===4)return["useCan",{resource:e[1],action:e[2],...e[3]}];if(e[0]==="auth"){if(zt(e,["auth","login"])!==-1)return["useLogin"];if(zt(e,["auth","logout"])!==-1)return["useLogout"];if(zt(e,["auth","identity"])!==-1)return["getUserIdentity"];if(zt(e,["auth","register"])!==-1)return["useRegister"];if(zt(e,["auth","forgotPassword"])!==-1)return["useForgotPassword"];if(zt(e,["auth","check"])!==-1)return["useAuthenticated",e[2]];if(zt(e,["auth","onError"])!==-1)return["useCheckError"];if(zt(e,["auth","permissions"])!==-1)return["usePermissions"];if(zt(e,["auth","updatePassword"])!==-1)return["useUpdatePassword"]}return e}x(ds,"Ei");u(ds,"convertToLegacy");var gt=x(class{constructor(e=[]){this.segments=[],this.segments=e}key(){return this.segments}legacy(){return ds(this.segments)}get(e){return e?this.legacy():this.segments}},"Le");u(gt,"BaseKeyBuilder");var Yt=x(class extends gt{constructor(e){super(e)}params(e){return new gt([...this.segments,e])}},"Oe");u(Yt,"ParamsKeyBuilder");var cs=x(class extends gt{constructor(e){super(e)}id(e){return new Yt([...this.segments,e?String(e):void 0])}},"Sr");u(cs,"DataIdRequiringKeyBuilder");var ms=x(class extends gt{constructor(e){super(e)}ids(...e){return new Yt([...this.segments,...e.length?[e.map(t=>String(t))]:[]])}},"Ar");u(ms,"DataIdsRequiringKeyBuilder");var ps=x(class extends gt{constructor(e){super(e)}action(e){if(e==="one")return new cs([...this.segments,e]);if(e==="many")return new ms([...this.segments,e]);if(["list","infinite"].includes(e))return new Yt([...this.segments,e]);throw new Error("Invalid action type")}},"kr");u(ps,"DataResourceKeyBuilder");var fs=x(class extends gt{constructor(e){super(e)}resource(e){return new ps([...this.segments,e])}mutation(e){return new Yt([...e==="custom"?this.segments:[this.segments[0]],e])}},"Qr");u(fs,"DataKeyBuilder");var vs=x(class extends gt{constructor(e){super(e)}action(e){return new Yt([...this.segments,e])}},"Fr");u(vs,"AuthKeyBuilder");var gs=x(class extends gt{constructor(e){super(e)}action(e){return new Yt([...this.segments,e])}},"Vr");u(gs,"AccessResourceKeyBuilder");var ys=x(class extends gt{constructor(e){super(e)}resource(e){return new gs([...this.segments,e])}},"Br");u(ys,"AccessKeyBuilder");var hs=x(class extends gt{constructor(e){super(e)}action(e){return new Yt([...this.segments,e])}},"Nr");u(hs,"AuditActionKeyBuilder");var bs=x(class extends gt{constructor(e){super(e)}resource(e){return new hs([...this.segments,e])}action(e){return new Yt([...this.segments,e])}},"Kr");u(bs,"AuditKeyBuilder");var nn=x(class extends gt{constructor(e){super(e)}data(e){return new fs(["data",e||"default"])}auth(){return new vs(["auth"])}access(){return new ys(["access"])}audit(){return new bs(["audit"])}},"Ct");u(nn,"KeyBuilder");var nr=u(()=>new nn([]),"keys"),Cd=u((e,t,r,o)=>{let a=t||"default",n={all:[a],resourceAll:[a,e||""],list:i=>[...n.resourceAll,"list",{...i,...H(r,o)||{}}],many:i=>[...n.resourceAll,"getMany",i&&i.map(String),{...H(r,o)||{}}].filter(l=>l!==void 0),detail:i=>[...n.resourceAll,"detail",i==null?void 0:i.toString(),{...H(r,o)||{}}],logList:i=>["logList",e,i,o].filter(l=>l!==void 0)};return n},"queryKeys"),aa=u(e=>(t,r,o,a)=>{let n=r||"default";return{all:nr().data(n).get(e),resourceAll:nr().data(r).resource(t??"").get(e),list:i=>nr().data(r).resource(t??"").action("list").params({...i,...H(o,a)||{}}).get(e),many:i=>nr().data(r).resource(t??"").action("many").ids(...i??[]).params({...H(o,a)||{}}).get(e),detail:i=>nr().data(r).resource(t??"").action("one").id(i??"").params({...H(o,a)||{}}).get(e),logList:i=>[...nr().audit().resource(t).action("list").params(i).get(e),a].filter(l=>l!==void 0)}},"queryKeysReplacement"),xd=u((e,t)=>!e||!t?!1:!!e.find(r=>r===t),"hasPermission"),sn=u(e=>e.startsWith(":"),"isParameter"),Xr=u(e=>e.split("/").filter(t=>t!==""),"splitToSegments"),wd=u((e,t)=>{let r=Xr(e),o=Xr(t);return r.length===o.length},"isSegmentCountsSame"),Zt=u(e=>e.replace(/^\/|\/$/g,""),"removeLeadingTrailingSlashes"),Ld=u((e,t)=>{let r=Zt(e),o=Zt(t);if(!wd(r,o))return!1;let a=Xr(r);return Xr(o).every((n,i)=>sn(n)||n===a[i])},"checkBySegments"),Bd=u((e,t,r)=>{let o=Zt(r||""),a=`${o}${o?"/":""}${e}`;return t==="list"?a=`${a}`:t==="create"?a=`${a}/create`:t==="edit"?a=`${a}/edit/:id`:t==="show"?a=`${a}/show/:id`:t==="clone"&&(a=`${a}/clone/:id`),`/${a.replace(/^\//,"")}`},"getDefaultActionPath"),sr=u((e,t)=>{var r,o;let a=H((r=e.meta)==null?void 0:r.parent,(o=e.options)==null?void 0:o.parent,e.parentName);return a?t.find(n=>(n.identifier??n.name)===a)??{name:a}:void 0},"getParentResource"),Ps=u((e,t,r)=>{let o=[],a=sr(e,t);for(;a;)o.push(a),a=sr(a,t);if(o.length!==0)return`/${o.reverse().map(n=>{var i;let l=r?((i=n.options)==null?void 0:i.route)??n.name:n.name;return Zt(l)}).join("/")}`},"getParentPrefixForResource"),ft=u((e,t,r)=>{let o=[],a=["list","show","edit","create","clone"],n=Ps(e,t,r);return a.forEach(i=>{var l,m;let c=r&&i==="clone"?e.create:e[i],f;typeof c=="function"||r?f=Bd(r?((l=e.meta)==null?void 0:l.route)??((m=e.options)==null?void 0:m.route)??e.name:e.name,i,r?n:void 0):typeof c=="string"?f=c:typeof c=="object"&&(f=c.path),f&&o.push({action:i,resource:e,route:`/${f.replace(/^\//,"")}`})}),o},"getActionRoutesFromResource"),Sd=u(e=>{var t;if(e.length===0)return;if(e.length===1)return e[0];let r=e.map(n=>({...n,splitted:Xr(Zt(n.route))})),o=((t=r[0])==null?void 0:t.splitted.length)??0,a=[...r];for(let n=0;n<o;n++){let i=a.filter(l=>!sn(l.splitted[n]));if(i.length!==0){if(i.length===1){a=i;break}a=i}}return a[0]},"pickMatchedRoute"),Td=u((e,t)=>{let r=t.flatMap(a=>ft(a,t)).filter(a=>Ld(e,a.route)),o=Sd(r);return{found:!!o,resource:o==null?void 0:o.resource,action:o==null?void 0:o.action,matchedRoute:o==null?void 0:o.route}},"matchResourceFromRoute"),Cs=u((e,t)=>{var r;let o,a=Ps(e,t,!0);if(a){let n=H(e.meta,e.options);o=`${a}/${(n==null?void 0:n.route)??e.name}`}else o=((r=e.options)==null?void 0:r.route)??e.name;return`/${o.replace(/^\//,"")}`},"routeGenerator"),kd=u(e=>{var t;let r=[],o={},a={},n,i;for(let l=0;l<e.length;l++){n=e[l];let m=n.route??((t=H(n==null?void 0:n.meta,n.options))==null?void 0:t.route)??"";o[m]=n,o[m].children=[],a[n.name]=n,a[n.name].children=[]}for(let l in o)o.hasOwnProperty(l)&&(i=o[l],i.parentName&&a[i.parentName]?a[i.parentName].children.push(i):r.push(i));return r},"createTreeView"),xs=u(e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),"humanizeString"),ws=V(d("react")),mi=V(d("pluralize")),Ed=V(d("react")),Ls=u(({children:e})=>Ed.default.createElement("div",null,e),"DefaultLayout"),nt={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"},overtime:{interval:1e3},textTransformers:{humanize:xs,plural:mi.default.plural,singular:mi.default.singular},disableServerSideValidation:!1},lr=ws.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:Ls,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:nt}),Fd=u(({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:o,undoableTimeout:a,children:n,DashboardPage:i,Title:l,Layout:m=Ls,Header:c,Sider:f,Footer:y,OffLayoutArea:B,LoginPage:s=sl,catchAll:h,liveMode:C="off",onLiveEvent:v,options:b})=>ws.default.createElement(lr.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:o,Title:l,undoableTimeout:a,Layout:m,Header:c,Sider:f,Footer:y,OffLayoutArea:B,DashboardPage:i,LoginPage:s,catchAll:h,liveMode:C,onLiveEvent:v,options:b}},n),"RefineContextProvider"),Id=u(({options:e,disableTelemetry:t,liveMode:r,mutationMode:o,reactQueryClientConfig:a,reactQueryDevtoolConfig:n,syncWithLocation:i,undoableTimeout:l,warnWhenUnsavedChanges:m}={})=>{var c,f,y,B,s,h,C,v;let b={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(e==null?void 0:e.mutationMode)??o??nt.mutationMode,undoableTimeout:(e==null?void 0:e.undoableTimeout)??l??nt.undoableTimeout,syncWithLocation:(e==null?void 0:e.syncWithLocation)??i??nt.syncWithLocation,warnWhenUnsavedChanges:(e==null?void 0:e.warnWhenUnsavedChanges)??m??nt.warnWhenUnsavedChanges,liveMode:(e==null?void 0:e.liveMode)??r??nt.liveMode,redirect:{afterCreate:((c=e==null?void 0:e.redirect)==null?void 0:c.afterCreate)??nt.redirect.afterCreate,afterClone:((f=e==null?void 0:e.redirect)==null?void 0:f.afterClone)??nt.redirect.afterClone,afterEdit:((y=e==null?void 0:e.redirect)==null?void 0:y.afterEdit)??nt.redirect.afterEdit},overtime:(e==null?void 0:e.overtime)??nt.overtime,textTransformers:{humanize:((B=e==null?void 0:e.textTransformers)==null?void 0:B.humanize)??nt.textTransformers.humanize,plural:((s=e==null?void 0:e.textTransformers)==null?void 0:s.plural)??nt.textTransformers.plural,singular:((h=e==null?void 0:e.textTransformers)==null?void 0:h.singular)??nt.textTransformers.singular},disableServerSideValidation:(e==null?void 0:e.disableServerSideValidation)??nt.disableServerSideValidation,projectId:e==null?void 0:e.projectId,useNewQueryKeys:e==null?void 0:e.useNewQueryKeys},p=(e==null?void 0:e.disableTelemetry)??t??!1,g={clientConfig:((C=e==null?void 0:e.reactQuery)==null?void 0:C.clientConfig)??a??{},devtoolConfig:((v=e==null?void 0:e.reactQuery)==null?void 0:v.devtoolConfig)??n??{}};return{optionsWithDefaults:b,disableTelemetryWithDefault:p,reactQueryWithDefaults:g}},"handleRefineOptions"),Dd=u(({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},"redirectPage"),pi=u(async(e,t,r)=>{let o=[];for(let[a,n]of e.entries())try{let i=await n();o.push(t(i,a))}catch(i){o.push(r(i,a))}return o},"sequentialPromises"),Qe=u((e,t=[],r=!1)=>{if(!e)return;if(r)return t.find(n=>Zt(n.route??"")===Zt(e))||t.find(n=>n.name===e);let o=t.find(a=>a.identifier===e);return o||(o=t.find(a=>a.name===e)),o},"pickResource"),oe=u((e,t,r)=>{if(t)return t;let o=Qe(e,r),a=H(o==null?void 0:o.meta,o==null?void 0:o.options);return a!=null&&a.dataProviderName?a.dataProviderName:"default"},"pickDataProvider"),na=u(async e=>({data:(await Promise.all(e)).map(t=>t.data)}),"handleMultiple"),Bs=u(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let o=(t==null?void 0:t.current)||1,a=(t==null?void 0:t.pageSize)||10,n=Math.ceil((e.total||0)/a);return o<n?Number(o)+1:void 0},"getNextPageParam"),Ss=u(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let o=(t==null?void 0:t.current)||1;return o===1?void 0:o-1},"getPreviousPageParam"),Ts=u(e=>{let t=[];return e.forEach(r=>{var o,a;t.push({...r,label:((o=r.meta)==null?void 0:o.label)??((a=r.options)==null?void 0:a.label),route:Cs(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},"legacyResourceTransform"),Ad=u(e=>Xr(Zt(e)).flatMap(t=>sn(t)?[t.slice(1)]:[]),"pickRouteParams"),Nd=u((e,t={})=>e.reduce((r,o)=>{let a=t[o];return typeof a<"u"&&(r[o]=a),r},{}),"prepareRouteParams"),Ct=u((e,t={},r={},o={})=>{let a=Ad(e),n=Nd(a,{...t,...typeof(r==null?void 0:r.id)<"u"?{id:r.id}:{},...typeof(r==null?void 0:r.action)<"u"?{action:r.action}:{},...typeof(r==null?void 0:r.resource)<"u"?{resource:r.resource}:{},...r==null?void 0:r.params,...o});return e.replace(/:([^\/]+)/g,(i,l)=>{let m=n[l];return typeof m<"u"?`${m}`:i})},"composeRoute"),Zr=V(d("react")),ks=Zr.default.createContext({}),Md=u(({children:e,isProvided:t,...r})=>{let{replace:o}=Lt(),a=u(async m=>{var c;try{return await((c=r.login)==null?void 0:c.call(r,m))}catch(f){return Promise.reject(f)}},"loginFunc"),n=u(async m=>{var c;try{return await((c=r.register)==null?void 0:c.call(r,m))}catch(f){return Promise.reject(f)}},"registerFunc"),i=u(async m=>{var c;try{return await((c=r.logout)==null?void 0:c.call(r,m))}catch(f){return Promise.reject(f)}},"logoutFunc"),l=u(async m=>{var c;try{return await((c=r.checkAuth)==null?void 0:c.call(r,m)),Promise.resolve()}catch(f){return f!=null&&f.redirectPath&&o(f.redirectPath),Promise.reject(f)}},"checkAuthFunc");return Zr.default.createElement(ks.Provider,{value:{...r,login:a,logout:i,checkAuth:l,register:n,isProvided:t}},e)},"LegacyAuthContextProvider"),Es=Zr.default.createContext({}),qd=u(({children:e,isProvided:t,...r})=>{let o=u(async c=>{var f;try{return await((f=r.login)==null?void 0:f.call(r,c))}catch(y){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",y),Promise.reject(y)}},"handleLogin"),a=u(async c=>{var f;try{return await((f=r.register)==null?void 0:f.call(r,c))}catch(y){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",y),Promise.reject(y)}},"handleRegister"),n=u(async c=>{var f;try{return await((f=r.logout)==null?void 0:f.call(r,c))}catch(y){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",y),Promise.reject(y)}},"handleLogout"),i=u(async c=>{var f;try{let y=await((f=r.check)==null?void 0:f.call(r,c));return Promise.resolve(y)}catch(y){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",y),Promise.reject(y)}},"handleCheck"),l=u(async c=>{var f;try{let y=await((f=r.forgotPassword)==null?void 0:f.call(r,c));return Promise.resolve(y)}catch(y){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",y),Promise.reject(y)}},"handleForgotPassword"),m=u(async c=>{var f;try{let y=await((f=r.updatePassword)==null?void 0:f.call(r,c));return Promise.resolve(y)}catch(y){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",y),Promise.reject(y)}},"handleUpdatePassword");return Zr.default.createElement(Es.Provider,{value:{...r,login:o,logout:n,check:i,register:a,forgotPassword:l,updatePassword:m,isProvided:t}},e)},"AuthBindingsContextProvider"),xt=u(()=>Zr.default.useContext(ks),"useLegacyAuthContext"),Ut=u(()=>Zr.default.useContext(Es),"useAuthBindingsContext"),qe=u(()=>{let e=xt(),t=Ut();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},"useActiveAuthProvider"),Fs=u(({hasPagination:e,pagination:t,configPagination:r}={})=>{let o=e===!1?"off":"server",a=(t==null?void 0:t.mode)??o,n=H(t==null?void 0:t.current,r==null?void 0:r.current)??1,i=H(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize)??10;return{current:n,pageSize:i,mode:a}},"handlePaginationParams"),fi=d("react"),vi=u(e=>{let[t,r]=(0,fi.useState)(!1);return(0,fi.useEffect)(()=>{let o=window.matchMedia(e);o.matches!==t&&r(o.matches);let a=u(()=>r(o.matches),"listener");return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[t,e]),t},"useMediaQuery"),qa=u((e,t,r,o)=>{let a=o?e(t,o,r):e(t,r);return a===t||typeof a>"u"?r??t:a},"safeTranslate");function Is(e,t,r,o,a){var n;let i={create:"Create new ",clone:`#${o??""} Clone `,edit:`#${o??""} Edit `,show:`#${o??""} Show `,list:""},l=(t==null?void 0:t.identifier)??(t==null?void 0:t.name),m=(t==null?void 0:t.label)??((n=t==null?void 0:t.meta)==null?void 0:n.label)??us(l,r==="list"?"plural":"singular"),c=a??m,f=qa(e,"documentTitle.default","refine"),y=qa(e,"documentTitle.suffix"," | refine"),B=f;return r&&l&&(B=qa(e,`documentTitle.${l}.${r}`,`${i[r]??""}${c}${y}`,{id:o})),B}x(Is,"$o");u(Is,"generateDefaultDocumentTitle");var Od=d("react"),Yr=u(()=>{let{mutationMode:e,undoableTimeout:t}=(0,Od.useContext)(lr);return{mutationMode:e,undoableTimeout:t}},"useMutationMode"),gi=d("react"),Za=V(d("react")),Ds=Za.default.createContext({}),Ud=u(({children:e})=>{let[t,r]=(0,Za.useState)(!1);return Za.default.createElement(Ds.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},"UnsavedWarnContextProvider"),ln=u(()=>{let{warnWhenUnsavedChanges:e}=(0,gi.useContext)(lr),{warnWhen:t,setWarnWhen:r}=(0,gi.useContext)(Ds);return{warnWhenUnsavedChanges:e,warnWhen:!!t,setWarnWhen:r??(()=>{})}},"useWarnAboutChange"),$d=d("react"),As=u(()=>{let{syncWithLocation:e}=(0,$d.useContext)(lr);return{syncWithLocation:e}},"useSyncWithLocation"),zd=d("react"),Hd=u(()=>{let{Title:e}=(0,zd.useContext)(lr);return e},"useTitle"),Wd=d("react"),it=u(()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:o,Sider:a,Title:n,hasDashboard:i,mutationMode:l,syncWithLocation:m,undoableTimeout:c,warnWhenUnsavedChanges:f,DashboardPage:y,LoginPage:B,catchAll:s,options:h}=(0,Wd.useContext)(lr);return{Footer:e,Header:t,Layout:r,OffLayoutArea:o,Sider:a,Title:n,hasDashboard:i,mutationMode:l,syncWithLocation:m,undoableTimeout:c,warnWhenUnsavedChanges:f,DashboardPage:y,LoginPage:B,catchAll:s,options:h}},"useRefineContext"),un=u(()=>{let{options:{textTransformers:e}}=it();return u((t="",r)=>{let o=e.humanize(t);return r==="singular"?e.singular(o):e.plural(o)},"getFriendlyName")},"useUserFriendlyName"),yi=u(e=>typeof e=="object"&&e!==null,"isNested"),jd=u(e=>Array.isArray(e),"isArray"),Ya=u((e,t="")=>yi(e)?Object.keys(e).reduce((r,o)=>{let a=t.length?t+".":"";return yi(e[o])&&Object.keys(e[o]).length?jd(e[o])&&e[o].length?e[o].forEach((n,i)=>{Object.assign(r,Ya(n,a+o+"."+i))}):Object.assign(r,Ya(e[o],a+o)):r[a+o]=e[o],r},{}):{[t]:e},"flattenObjectKeys"),Vd=u(e=>e.split(".").map(t=>isNaN(Number(t))?t:Number(t)),"propertyPathToArray"),dn=u(e=>{let{current:t,pageSize:r,sorter:o,sorters:a,filters:n}=an.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:H(a,o)??[],parsedFilters:n??[]}},"parseTableParams"),Kd=u(e=>{let t=an.default.stringify(e);return dn(`/${t}`)},"parseTableParamsFromQuery"),Ja=u(e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:o,sorters:a,filters:n,...i}=e;return an.default.stringify({...i,...r||{},sorters:H(a,o),filters:n},t)},"stringifyTableParams"),Ns=u((e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,"compareFilters"),Ms=u((e,t)=>e.field==t.field,"compareSorters"),Bo=u((e,t,r=[])=>(t.filter(o=>(o.operator==="or"||o.operator==="and")&&!o.key).length>1&&(0,yd.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,is.default)(e,t,r,Ns).filter(o=>o.value!==void 0&&o.value!==null&&(o.operator!=="or"||o.operator==="or"&&o.value.length!==0)&&(o.operator!=="and"||o.operator==="and"&&o.value.length!==0))),"unionFilters"),en=u((e,t)=>(0,is.default)(e,t,Ms).filter(r=>r.order!==void 0&&r.order!==null),"unionSorters"),tn=u((e,t)=>[...(0,ss.default)(t,e,Ns),...e],"setInitialFilters"),rn=u((e,t)=>[...(0,ss.default)(t,e,Ms),...e],"setInitialSorters"),_d=u((e,t)=>{if(!t)return;let r=t.find(o=>o.field===e);if(r)return r.order},"getDefaultSortOrder"),Qd=u((e,t,r="eq")=>{let o=t==null?void 0:t.find(a=>{if(a.operator!=="or"&&a.operator!=="and"&&"field"in a){let{operator:n,field:i}=a;return i===e&&n===r}});if(o)return o.value||[]},"getDefaultFilter"),Rd=u(e=>new Promise((t,r)=>{let o=new FileReader,a=u(()=>{o.result&&(o.removeEventListener("load",a,!1),t(o.result))},"resultHandler");o.addEventListener("load",a,!1),o.readAsDataURL(e.originFileObj),o.onerror=n=>(o.removeEventListener("load",a,!1),r(n))}),"file2Base64"),me=u(()=>{let{options:{useNewQueryKeys:e}}=it();return{keys:nr,preferLegacyKeys:!e}},"useKeys");function qs({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=xt(),{getPermissions:o}=Ut(),{keys:a,preferLegacyKeys:n}=me(),i=(0,ui.useQuery)(a().auth().action("permissions").get(n),o??(()=>Promise.resolve(void 0)),{enabled:!e&&!!o,...e?{}:t,meta:{...e?{}:t==null?void 0:t.meta,...(0,di.getXRay)("usePermissions",n)}}),l=(0,ui.useQuery)([...a().auth().action("permissions").get(n),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve(void 0)),{enabled:e&&!!r,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,di.getXRay)("usePermissions",n)}});return e?l:i}x(qs,"Rn");u(qs,"usePermissions");var hi=d("@tanstack/react-query"),bi=ce();function cn({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=xt(),{getIdentity:o}=Ut(),{keys:a,preferLegacyKeys:n}=me(),i=(0,hi.useQuery)(a().auth().action("identity").get(n),o??(()=>Promise.resolve({})),{enabled:!e&&!!o,retry:!1,...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,bi.getXRay)("useGetIdentity",n)}}),l=(0,hi.useQuery)([...a().auth().action("identity").get(n),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve({})),{enabled:e&&!!r,retry:!1,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,bi.getXRay)("useGetIdentity",n)}});return e?l:i}x(cn,"jr");u(cn,"useGetIdentity");var Pi=d("@tanstack/react-query"),Ci=ce(),Gd=d("@tanstack/react-query"),mn=u(()=>{let e=(0,Gd.useQueryClient)(),{keys:t,preferLegacyKeys:r}=me();return u(async()=>{await Promise.all(["check","identity","permissions"].map(o=>e.invalidateQueries(t().auth().action(o).get(r))))},"invalidate")},"useInvalidateAuthStore");function ra({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=mn(),o=Oe(),a=wt(),{push:n}=Lt(),{open:i,close:l}=ur(),{logout:m}=xt(),{logout:c}=Ut(),{keys:f,preferLegacyKeys:y}=me(),B=(0,Pi.useMutation)(f().auth().action("logout").get(y),c,{onSuccess:async(h,C)=>{let{success:v,error:b,redirectTo:p}=h,{redirectPath:g}=C??{},S=g??p;v&&(l==null||l("useLogout-error")),(b||!v)&&(i==null||i(Oa(b))),await r(),S!==!1&&(o==="legacy"?n(S??"/login"):S&&a({to:S}))},onError:h=>{i==null||i(Oa(h))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Ci.getXRay)("useLogout",y)}}),s=(0,Pi.useMutation)([...f().auth().action("logout").get(y),"v3LegacyAuthProviderCompatible"],m,{onSuccess:async(h,C)=>{let v=(C==null?void 0:C.redirectPath)??h;if(await r(),v!==!1){if(v){o==="legacy"?n(v):a({to:v});return}o==="legacy"?n("/login"):a({to:"/login"})}},onError:h=>{i==null||i(Oa(h))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ci.getXRay)("useLogout",y)}});return e?s:B}x(ra,"fr");u(ra,"useLogout");var Oa=u(e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),"buildNotification"),Xd=V(d("react")),xi=d("@tanstack/react-query"),wi=ce(),Zd=V(d("qs"));function ia({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=mn(),o=Oe(),a=wt(),{replace:n}=Lt(),i=$t(),{useLocation:l}=ht(),{search:m}=l(),{close:c,open:f}=ur(),{login:y}=xt(),{login:B}=Ut(),{keys:s,preferLegacyKeys:h}=me(),C=Xd.default.useMemo(()=>{var p;return o==="legacy"?Zd.default.parse(m,{ignoreQueryPrefix:!0}).to:(p=i.params)==null?void 0:p.to},[o,i.params,m]),v=(0,xi.useMutation)(s().auth().action("login").get(h),B,{onSuccess:async({success:p,redirectTo:g,error:S})=>{p&&(c==null||c("login-error")),(S||!p)&&(f==null||f(Ua(S))),await r(),C&&p?o==="legacy"?n(C):a({to:C,type:"replace"}):g?o==="legacy"?n(g):a({to:g,type:"replace"}):o==="legacy"&&n("/")},onError:p=>{f==null||f(Ua(p))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,wi.getXRay)("useLogin",h)}}),b=(0,xi.useMutation)([...s().auth().action("login").get(h),"v3LegacyAuthProviderCompatible"],y,{onSuccess:async p=>{await r(),C&&n(C),p!==!1&&!C&&(typeof p=="string"?o==="legacy"?n(p):a({to:p,type:"replace"}):o==="legacy"?n("/"):a({to:"/",type:"replace"})),c==null||c("login-error")},onError:p=>{f==null||f(Ua(p))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,wi.getXRay)("useLogin",h)}});return e?b:v}x(ia,"Qt");u(ia,"useLogin");var Ua=u(e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),"buildNotification"),Li=d("@tanstack/react-query"),Bi=ce();function pn({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=mn(),o=Oe(),a=wt(),{replace:n}=Lt(),{register:i}=xt(),{register:l}=Ut(),{close:m,open:c}=ur(),{keys:f,preferLegacyKeys:y}=me(),B=(0,Li.useMutation)(f().auth().action("register").get(y),l,{onSuccess:async({success:h,redirectTo:C,error:v})=>{h&&(m==null||m("register-error")),(v||!h)&&(c==null||c($a(v))),await r(),C?o==="legacy"?n(C):a({to:C,type:"replace"}):o==="legacy"&&n("/")},onError:h=>{c==null||c($a(h))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Bi.getXRay)("useRegister",y)}}),s=(0,Li.useMutation)([...f().auth().action("register").get(y),"v3LegacyAuthProviderCompatible"],i,{onSuccess:async h=>{await r(),h!==!1&&(h?o==="legacy"?n(h):a({to:h,type:"replace"}):o==="legacy"?n("/"):a({to:"/",type:"replace"}),m==null||m("register-error"))},onError:h=>{c==null||c($a(h))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Bi.getXRay)("useRegister",y)}});return e?s:B}x(pn,"Xr");u(pn,"useRegister");var $a=u(e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),"buildNotification"),Si=d("@tanstack/react-query"),Ti=ce();function fn({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Oe(),o=wt(),{replace:a}=Lt(),{forgotPassword:n}=xt(),{forgotPassword:i}=Ut(),{close:l,open:m}=ur(),{keys:c,preferLegacyKeys:f}=me(),y=(0,Si.useMutation)(c().auth().action("forgotPassword").get(f),i,{onSuccess:({success:s,redirectTo:h,error:C})=>{s&&(l==null||l("forgot-password-error")),(C||!s)&&(m==null||m(za(C))),h&&(r==="legacy"?a(h):o({to:h,type:"replace"}))},onError:s=>{m==null||m(za(s))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Ti.getXRay)("useForgotPassword",f)}}),B=(0,Si.useMutation)([...c().auth().action("forgotPassword").get(f),"v3LegacyAuthProviderCompatible"],n,{onSuccess:s=>{s!==!1&&s&&(r==="legacy"?a(s):o({to:s,type:"replace"})),l==null||l("forgot-password-error")},onError:s=>{m==null||m(za(s))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ti.getXRay)("useForgotPassword",f)}});return e?B:y}x(fn,"Zr");u(fn,"useForgotPassword");var za=u(e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),"buildNotification"),Yd=V(d("react")),ki=d("@tanstack/react-query"),Ei=ce(),Jd=V(d("qs"));function vn({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Oe(),o=wt(),{replace:a}=Lt(),{updatePassword:n}=xt(),{updatePassword:i}=Ut(),{close:l,open:m}=ur(),{keys:c,preferLegacyKeys:f}=me(),y=$t(),{useLocation:B}=ht(),{search:s}=B(),h=Yd.default.useMemo(()=>r==="legacy"?Jd.default.parse(s,{ignoreQueryPrefix:!0})??{}:y.params??{},[s,y,r]),C=(0,ki.useMutation)(c().auth().action("updatePassword").get(f),async b=>i==null?void 0:i({...h,...b}),{onSuccess:({success:b,redirectTo:p,error:g})=>{b&&(l==null||l("update-password-error")),(g||!b)&&(m==null||m(Ha(g))),p&&(r==="legacy"?a(p):o({to:p,type:"replace"}))},onError:b=>{m==null||m(Ha(b))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Ei.getXRay)("useUpdatePassword",f)}}),v=(0,ki.useMutation)([...c().auth().action("updatePassword").get(f),"v3LegacyAuthProviderCompatible"],async b=>n==null?void 0:n({...h,...b}),{onSuccess:b=>{b!==!1&&b&&(r==="legacy"?a(b):o({to:b,type:"replace"})),l==null||l("update-password-error")},onError:b=>{m==null||m(Ha(b))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ei.getXRay)("useUpdatePassword",f)}});return e?v:C}x(vn,"Yr");u(vn,"useUpdatePassword");var Ha=u(e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),"buildNotification"),Fi=d("@tanstack/react-query"),Ii=ce();function sa({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=xt(),{check:o}=Ut(),{keys:a,preferLegacyKeys:n}=me(),i=(0,Fi.useQuery)(a().auth().action("check").params(t).get(n),async()=>await(o==null?void 0:o(t))??{},{retry:!1,enabled:!e,meta:{...(0,Ii.getXRay)("useIsAuthenticated",n)}}),l=(0,Fi.useQuery)([...a().auth().action("check").params(t).get(n),"v3LegacyAuthProviderCompatible"],async()=>await(r==null?void 0:r(t))??{},{retry:!1,enabled:e,meta:{...(0,Ii.getXRay)("useIsAuthenticated",n)}});return e?l:i}x(sa,"yr");u(sa,"useIsAuthenticated");var ec=sa,Di=d("@tanstack/react-query"),Ai=ce();function st({v3LegacyAuthProviderCompatible:e=!1}={}){let t=Oe(),r=wt(),{replace:o}=Lt(),{checkError:a}=xt(),{onError:n}=Ut(),{keys:i,preferLegacyKeys:l}=me(),{mutate:m}=ra({v3LegacyAuthProviderCompatible:!!e}),{mutate:c}=ra({v3LegacyAuthProviderCompatible:!!e}),f=(0,Di.useMutation)(i().auth().action("onError").get(l),n,{onSuccess:({logout:B,redirectTo:s})=>{if(B){c({redirectPath:s});return}if(s){t==="legacy"?o(s):r({to:s,type:"replace"});return}},meta:{...(0,Ai.getXRay)("useOnError",l)}}),y=(0,Di.useMutation)([...i().auth().action("onError").get(l),"v3LegacyAuthProviderCompatible"],a,{onError:B=>{m({redirectPath:B})},meta:{...(0,Ai.getXRay)("useOnError",l)}});return e?y:f}x(st,"ie");u(st,"useOnError");var tc=st,Os=u(()=>{let{isProvided:e}=xt(),{isProvided:t}=Ut();return!!(t||e)},"useIsExistAuthentication"),rc=ce(),oc=d("@tanstack/react-query"),Wa=d("react"),He=u(({isLoading:e,interval:t,onInterval:r})=>{let[o,a]=(0,Wa.useState)(void 0),{options:n}=it(),{overtime:i}=n,l=t??i.interval,m=r??(i==null?void 0:i.onInterval);return(0,Wa.useEffect)(()=>{let c;return e&&(c=setInterval(()=>{a(f=>f===void 0?l:f+l)},l)),()=>{clearInterval(c),a(void 0)}},[e,l]),(0,Wa.useEffect)(()=>{m&&o&&m(o)},[o]),{elapsedTime:o}},"useLoadingOvertime"),gn=u(({resource:e,config:t,filters:r,hasPagination:o,pagination:a,sorters:n,queryOptions:i,successNotification:l,errorNotification:m,meta:c,metaData:f,liveMode:y,onLiveEvent:B,liveParams:s,dataProviderName:h,overtimeOptions:C}={})=>{let{resources:v,resource:b,identifier:p}=ie(e),g=rt(),S=ye(),w=qe(),{mutate:L}=st({v3LegacyAuthProviderCompatible:!!(w!=null&&w.isLegacy)}),P=yt(),F=Ae(),{keys:k,preferLegacyKeys:T}=me(),N=oe(p,h,v),D=H(c,f),I=H(r,t==null?void 0:t.filters),A=H(n,t==null?void 0:t.sort),E=H(o,t==null?void 0:t.hasPagination),q=Fs({pagination:a,configPagination:t==null?void 0:t.pagination,hasPagination:E}),M=q.mode==="server",$=F({resource:b,meta:D}),z={meta:$,metaData:$,filters:I,hasPagination:M,pagination:q,sorters:A,config:{...t,sort:A}},O=(i==null?void 0:i.enabled)===void 0||(i==null?void 0:i.enabled)===!0,{getList:W}=g(N);Fo({resource:p,types:["*"],params:{meta:$,metaData:$,pagination:q,hasPagination:M,sort:A,sorters:A,filters:I,subscriptionType:"useList",...s},channel:`resources/${b==null?void 0:b.name}`,enabled:O,liveMode:y,onLiveEvent:B,dataProviderName:N,meta:{...c,dataProviderName:h}});let j=(0,oc.useQuery)(k().data(N).resource(p??"").action("list").params({...D||{},filters:I,hasPagination:M,...M&&{pagination:q},...n&&{sorters:n},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(T),({queryKey:K,pageParam:_,signal:R})=>W({resource:(b==null?void 0:b.name)??"",pagination:q,hasPagination:M,filters:I,sort:A,sorters:A,meta:{...$,queryContext:{queryKey:K,pageParam:_,signal:R}},metaData:{...$,queryContext:{queryKey:K,pageParam:_,signal:R}}}),{...i,enabled:typeof(i==null?void 0:i.enabled)<"u"?i==null?void 0:i.enabled:!!(b!=null&&b.name),select:K=>{var _;let R=K,{current:re,mode:be,pageSize:de}=q;return be==="client"&&(R={...R,data:R.data.slice((re-1)*de,re*de),total:R.total}),i!=null&&i.select?(_=i==null?void 0:i.select)==null?void 0:_.call(i,R):R},onSuccess:K=>{var _;(_=i==null?void 0:i.onSuccess)==null||_.call(i,K);let R=typeof l=="function"?l(K,z,p):l;P(R)},onError:K=>{var _;L(K),(_=i==null?void 0:i.onError)==null||_.call(i,K);let R=typeof m=="function"?m(K,z,p):m;P(R,{key:`${p}-useList-notification`,message:S("notifications.error",{statusCode:K.statusCode},`Error (status code: ${K.statusCode})`),description:K.message,type:"error"})},meta:{...i==null?void 0:i.meta,...(0,rc.getXRay)("useList",T)}}),{elapsedTime:Q}=He({isLoading:j.isFetching,interval:C==null?void 0:C.interval,onInterval:C==null?void 0:C.onInterval});return{...j,overtime:{elapsedTime:Q}}},"useList"),ac=ce(),nc=d("@tanstack/react-query"),yn=u(({resource:e,id:t,queryOptions:r,successNotification:o,errorNotification:a,meta:n,metaData:i,liveMode:l,onLiveEvent:m,liveParams:c,dataProviderName:f,overtimeOptions:y})=>{let{resources:B,resource:s,identifier:h}=ie(e),C=rt(),v=ye(),b=qe(),{mutate:p}=st({v3LegacyAuthProviderCompatible:!!(b!=null&&b.isLegacy)}),g=yt(),S=Ae(),{keys:w,preferLegacyKeys:L}=me(),P=H(n,i),F=oe(h,f,B),{getOne:k}=C(F),T=S({resource:s,meta:P});Fo({resource:h,types:["*"],channel:`resources/${s==null?void 0:s.name}`,params:{ids:t?[t]:[],id:t,meta:T,metaData:T,subscriptionType:"useOne",...c},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof(s==null?void 0:s.name)<"u"&&typeof t<"u",liveMode:l,onLiveEvent:m,dataProviderName:F,meta:{...n,dataProviderName:f}});let N=(0,nc.useQuery)(w().data(F).resource(h??"").action("one").id(t??"").params({...P||{}}).get(L),({queryKey:I,pageParam:A,signal:E})=>k({resource:(s==null?void 0:s.name)??"",id:t,meta:{...T,queryContext:{queryKey:I,pageParam:A,signal:E}},metaData:{...T,queryContext:{queryKey:I,pageParam:A,signal:E}}}),{...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:I=>{var A;(A=r==null?void 0:r.onSuccess)==null||A.call(r,I);let E=typeof o=="function"?o(I,{id:t,...T},h):o;g(E)},onError:I=>{var A;p(I),(A=r==null?void 0:r.onError)==null||A.call(r,I);let E=typeof a=="function"?a(I,{id:t,...T},h):a;g(E,{key:`${t}-${h}-getOne-notification`,message:v("notifications.error",{statusCode:I.statusCode},`Error (status code: ${I.statusCode})`),description:I.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,ac.getXRay)("useOne",L)}}),{elapsedTime:D}=He({isLoading:N.isFetching,interval:y==null?void 0:y.interval,onInterval:y==null?void 0:y.onInterval});return{...N,overtime:{elapsedTime:D}}},"useOne"),ic=ce(),sc=d("@tanstack/react-query"),Us=u(({resource:e,ids:t,queryOptions:r,successNotification:o,errorNotification:a,meta:n,metaData:i,liveMode:l,onLiveEvent:m,liveParams:c,dataProviderName:f,overtimeOptions:y})=>{let{resources:B,resource:s,identifier:h}=ie(e),C=rt(),v=ye(),b=qe(),{mutate:p}=st({v3LegacyAuthProviderCompatible:!!(b!=null&&b.isLegacy)}),g=yt(),S=Ae(),{keys:w,preferLegacyKeys:L}=me(),P=H(n,i),F=oe(h,f,B),k=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0,{getMany:T,getOne:N}=C(F),D=S({resource:s,meta:P});Fo({resource:h,types:["*"],params:{ids:t,meta:D,metaData:D,subscriptionType:"useMany",...c},channel:`resources/${s.name}`,enabled:k,liveMode:l,onLiveEvent:m,dataProviderName:F,meta:{...n,dataProviderName:f}});let I=(0,sc.useQuery)(w().data(F).resource(h).action("many").ids(...t).params({...P||{}}).get(L),({queryKey:E,pageParam:q,signal:M})=>T?T({resource:s==null?void 0:s.name,ids:t,meta:{...D,queryContext:{queryKey:E,pageParam:q,signal:M}},metaData:{...D,queryContext:{queryKey:E,pageParam:q,signal:M}}}):na(t.map($=>N({resource:s==null?void 0:s.name,id:$,meta:{...D,queryContext:{queryKey:E,pageParam:q,signal:M}},metaData:{...D,queryContext:{queryKey:E,pageParam:q,signal:M}}}))),{...r,onSuccess:E=>{var q;(q=r==null?void 0:r.onSuccess)==null||q.call(r,E);let M=typeof o=="function"?o(E,t,h):o;g(M)},onError:E=>{var q;p(E),(q=r==null?void 0:r.onError)==null||q.call(r,E);let M=typeof a=="function"?a(E,t,h):a;g(M,{key:`${t[0]}-${h}-getMany-notification`,message:v("notifications.error",{statusCode:E.statusCode},`Error (status code: ${E.statusCode})`),description:E.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,ic.getXRay)("useMany",L)}}),{elapsedTime:A}=He({isLoading:I.isFetching,interval:y==null?void 0:y.interval,onInterval:y==null?void 0:y.onInterval});return{...I,overtime:{elapsedTime:A}}},"useMany"),lc=ce(),Ni=d("@tanstack/react-query"),ea=V(d("react")),ja=V(d("lodash/isEqual")),$s=ea.default.createContext({notifications:[],notificationDispatch:()=>!1}),uc=[],dc=u((e,t)=>{switch(t.type){case"ADD":return[...e.filter(r=>!((0,ja.default)(r.id,t.payload.id)&&r.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!((0,ja.default)(r.id,t.payload.id)&&r.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>(0,ja.default)(r.id,t.payload.id)&&r.resource==t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},"undoableQueueReducer"),cc=u(({children:e})=>{let[t,r]=(0,ea.useReducer)(dc,uc),o={notifications:t,notificationDispatch:r};return ea.default.createElement($s.Provider,{value:o},e,typeof window<"u"&&t.map(a=>ea.default.createElement(ul,{key:`${a.id}-${a.resource}-queue`,notification:a})))},"UndoableQueueContextProvider"),on=u(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:o}=ie(),a=(0,Ni.useQueryClient)(),n=rt(),{mutationMode:i,undoableTimeout:l}=Yr(),m=ye(),c=qe(),{mutate:f}=st({v3LegacyAuthProviderCompatible:!!(c!=null&&c.isLegacy)}),y=Or(),{log:B}=$r(),{notificationDispatch:s}=Jr(),h=yt(),C=Jt(),v=Ae(),{options:{textTransformers:b}}=it(),{keys:p,preferLegacyKeys:g}=me(),S=(0,Ni.useMutation)(({id:L,values:P,resource:F,mutationMode:k,undoableTimeout:T,onCancel:N,meta:D,metaData:I,dataProviderName:A})=>{let{resource:E,identifier:q}=o(F),M=v({resource:E,meta:H(D,I)}),$=k??i,z=T??l;return $!=="undoable"?n(oe(q,A,r)).update({resource:E.name,id:L,variables:P,meta:M,metaData:M}):new Promise((O,W)=>{let j=u(()=>{n(oe(q,A,r)).update({resource:E.name,id:L,variables:P,meta:M,metaData:M}).then(K=>O(K)).catch(K=>W(K))},"doMutation"),Q=u(()=>{W({message:"mutationCancelled"})},"cancelMutation");N&&N(Q),s({type:"ADD",payload:{id:L,resource:q,cancelMutation:Q,doMutation:j,seconds:z,isSilent:!!N}})})},{onMutate:async({resource:L,id:P,mutationMode:F,values:k,dataProviderName:T,meta:N,metaData:D,optimisticUpdateMap:I={list:!0,many:!0,detail:!0}})=>{let{identifier:A}=o(L),E=H(N,D),q=aa(g)(A,oe(A,T,r),E),M=p().data(oe(A,T,r)).resource(A),$=a.getQueriesData(M.get(g)),z=F??i;return await a.cancelQueries(M.get(g),void 0,{silent:!0}),z!=="pessimistic"&&(I.list&&a.setQueriesData(M.action("list").params(E??{}).get(g),O=>{if(typeof I.list=="function")return I.list(O,k,P);if(!O)return null;let W=O.data.map(j=>{var Q;return((Q=j.id)==null?void 0:Q.toString())===(P==null?void 0:P.toString())?{id:P,...j,...k}:j});return{...O,data:W}}),I.many&&a.setQueriesData(M.action("many").get(g),O=>{if(typeof I.many=="function")return I.many(O,k,P);if(!O)return null;let W=O.data.map(j=>{var Q;return((Q=j.id)==null?void 0:Q.toString())===(P==null?void 0:P.toString())&&(j={id:P,...j,...k}),j});return{...O,data:W}}),I.detail&&a.setQueriesData(M.action("one").id(P).params(E??{}).get(g),O=>typeof I.detail=="function"?I.detail(O,k,P):O?{...O,data:{...O.data,...k}}:null)),{previousQueries:$,queryKey:q}},onSettled:(L,P,{id:F,resource:k,dataProviderName:T,invalidates:N=["list","many","detail"]})=>{let{identifier:D}=o(k);C({resource:D,dataProviderName:oe(D,T,r),invalidates:N,id:F}),s({type:"REMOVE",payload:{id:F,resource:D}})},onSuccess:(L,{id:P,resource:F,successNotification:k,dataProviderName:T,values:N,meta:D,metaData:I},A)=>{var E;let{resource:q,identifier:M}=o(F),$=b.singular(M),z=oe(M,T,r),O=v({resource:q,meta:H(D,I)}),W=typeof k=="function"?k(L,{id:P,values:N},M):k;h(W,{key:`${P}-${M}-notification`,description:m("notifications.success","Successful"),message:m("notifications.editSuccess",{resource:m(`${M}.${M}`,$)},`Successfully updated ${$}`),type:"success"}),y==null||y({channel:`resources/${q.name}`,type:"updated",payload:{ids:(E=L.data)!=null&&E.id?[L.data.id]:void 0},date:new Date,meta:{...O,dataProviderName:z}});let j;if(A){let re=a.getQueryData(A.queryKey.detail(P));j=Object.keys(N||{}).reduce((be,de)=>{var Le;return be[de]=(Le=re==null?void 0:re.data)==null?void 0:Le[de],be},{})}let{fields:Q,operation:K,variables:_,...R}=O||{};B==null||B.mutate({action:"update",resource:q.name,data:N,previousData:j,meta:{id:P,dataProviderName:z,...R}})},onError:(L,{id:P,resource:F,errorNotification:k,values:T},N)=>{let{identifier:D}=o(F);if(N)for(let I of N.previousQueries)a.setQueryData(I[0],I[1]);if(L.message!=="mutationCancelled"){f==null||f(L);let I=b.singular(D),A=typeof k=="function"?k(L,{id:P,values:T},D):k;h(A,{key:`${P}-${D}-notification`,message:m("notifications.editError",{resource:m(`${D}.${D}`,I),statusCode:L.statusCode},`Error when updating ${I} (status code: ${L.statusCode})`),description:L.message,type:"error"})}},mutationKey:p().data().mutation("update").get(g),...e,meta:{...e==null?void 0:e.meta,...(0,lc.getXRay)("useUpdate",g)}}),{elapsedTime:w}=He({isLoading:S.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...S,overtime:{elapsedTime:w}}},"useUpdate"),mc=ce(),pc=d("@tanstack/react-query"),hn=u(({mutationOptions:e,overtimeOptions:t}={})=>{let r=qe(),{mutate:o}=st({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),a=rt(),n=Jt(),{resources:i,select:l}=ie(),m=ye(),c=Or(),{log:f}=$r(),y=yt(),B=Ae(),{options:{textTransformers:s}}=it(),{keys:h,preferLegacyKeys:C}=me(),v=(0,pc.useMutation)(({resource:p,values:g,meta:S,metaData:w,dataProviderName:L})=>{let{resource:P,identifier:F}=l(p),k=B({resource:P,meta:H(S,w)});return a(oe(F,L,i)).create({resource:P.name,variables:g,meta:k,metaData:k})},{onSuccess:(p,{resource:g,successNotification:S,dataProviderName:w,invalidates:L=["list","many"],values:P,meta:F,metaData:k})=>{var T,N;let{resource:D,identifier:I}=l(g),A=s.singular(I),E=oe(I,w,i),q=B({resource:D,meta:H(F,k)}),M=typeof S=="function"?S(p,P,I):S;y(M,{key:`create-${I}-notification`,message:m("notifications.createSuccess",{resource:m(`${I}.${I}`,A)},`Successfully created ${A}`),description:m("notifications.success","Success"),type:"success"}),n({resource:I,dataProviderName:E,invalidates:L}),c==null||c({channel:`resources/${D.name}`,type:"created",payload:{ids:(T=p==null?void 0:p.data)!=null&&T.id?[p.data.id]:void 0},date:new Date,meta:{...q,dataProviderName:E}});let{fields:$,operation:z,variables:O,...W}=q||{};f==null||f.mutate({action:"create",resource:D.name,data:P,meta:{dataProviderName:E,id:((N=p==null?void 0:p.data)==null?void 0:N.id)??void 0,...W}})},onError:(p,{resource:g,errorNotification:S,values:w})=>{o(p);let{identifier:L}=l(g),P=s.singular(L),F=typeof S=="function"?S(p,w,L):S;y(F,{key:`create-${L}-notification`,description:p.message,message:m("notifications.createError",{resource:m(`${L}.${L}`,P),statusCode:p.statusCode},`There was an error creating ${P} (status code: ${p.statusCode})`),type:"error"})},mutationKey:h().data().mutation("create").get(C),...e,meta:{...e==null?void 0:e.meta,...(0,mc.getXRay)("useCreate",C)}}),{elapsedTime:b}=He({isLoading:v.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...v,overtime:{elapsedTime:b}}},"useCreate"),fc=ce(),Mi=d("@tanstack/react-query"),vc=u(({mutationOptions:e,overtimeOptions:t}={})=>{let r=qe(),{mutate:o}=st({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),a=rt(),{resources:n,select:i}=ie(),l=(0,Mi.useQueryClient)(),{mutationMode:m,undoableTimeout:c}=Yr(),{notificationDispatch:f}=Jr(),y=ye(),B=Or(),{log:s}=$r(),h=yt(),C=Jt(),v=Ae(),{options:{textTransformers:b}}=it(),{keys:p,preferLegacyKeys:g}=me(),S=(0,Mi.useMutation)(({id:L,mutationMode:P,undoableTimeout:F,resource:k,onCancel:T,meta:N,metaData:D,dataProviderName:I,values:A})=>{let{resource:E,identifier:q}=i(k),M=v({resource:E,meta:H(N,D)}),$=P??m,z=F??c;return $!=="undoable"?a(oe(q,I,n)).deleteOne({resource:E.name,id:L,meta:M,metaData:M,variables:A}):new Promise((O,W)=>{let j=u(()=>{a(oe(q,I,n)).deleteOne({resource:E.name,id:L,meta:M,metaData:M,variables:A}).then(K=>O(K)).catch(K=>W(K))},"doMutation"),Q=u(()=>{W({message:"mutationCancelled"})},"cancelMutation");T&&T(Q),f({type:"ADD",payload:{id:L,resource:q,cancelMutation:Q,doMutation:j,seconds:z,isSilent:!!T}})})},{onMutate:async({id:L,resource:P,mutationMode:F,dataProviderName:k,meta:T,metaData:N})=>{let{identifier:D}=i(P),I=H(T,N),A=aa(g)(D,oe(D,k,n),I),E=p().data(oe(D,k,n)).resource(D),q=F??m;await l.cancelQueries(E.get(g),void 0,{silent:!0});let M=l.getQueriesData(E.get(g));return q!=="pessimistic"&&(l.setQueriesData(E.action("list").params(I??{}).get(g),$=>$?{data:$.data.filter(z=>{var O;return((O=z.id)==null?void 0:O.toString())!==L.toString()}),total:$.total-1}:null),l.setQueriesData(E.action("many").get(g),$=>{if(!$)return null;let z=$.data.filter(O=>{var W;return((W=O.id)==null?void 0:W.toString())!==(L==null?void 0:L.toString())});return{...$,data:z}})),{previousQueries:M,queryKey:A}},onSettled:(L,P,{id:F,resource:k,dataProviderName:T,invalidates:N=["list","many"]})=>{let{identifier:D}=i(k);C({resource:D,dataProviderName:oe(D,T,n),invalidates:N}),f({type:"REMOVE",payload:{id:F,resource:D}})},onSuccess:(L,{id:P,resource:F,successNotification:k,dataProviderName:T,meta:N,metaData:D},I)=>{let{resource:A,identifier:E}=i(F),q=b.singular(E),M=oe(E,T,n),$=v({resource:A,meta:H(N,D)});l.removeQueries(I==null?void 0:I.queryKey.detail(P));let z=typeof k=="function"?k(L,P,E):k;h(z,{key:`${P}-${E}-notification`,description:y("notifications.success","Success"),message:y("notifications.deleteSuccess",{resource:y(`${E}.${E}`,q)},`Successfully deleted a ${q}`),type:"success"}),B==null||B({channel:`resources/${A.name}`,type:"deleted",payload:{ids:[P]},date:new Date,meta:{...$,dataProviderName:M}});let{fields:O,operation:W,variables:j,...Q}=$||{};s==null||s.mutate({action:"delete",resource:A.name,meta:{id:P,dataProviderName:M,...Q}}),l.removeQueries(I==null?void 0:I.queryKey.detail(P))},onError:(L,{id:P,resource:F,errorNotification:k},T)=>{let{identifier:N}=i(F);if(T)for(let D of T.previousQueries)l.setQueryData(D[0],D[1]);if(L.message!=="mutationCancelled"){o(L);let D=b.singular(N),I=typeof k=="function"?k(L,P,N):k;h(I,{key:`${P}-${N}-notification`,message:y("notifications.deleteError",{resource:D,statusCode:L.statusCode},`Error (status code: ${L.statusCode})`),description:L.message,type:"error"})}},mutationKey:p().data().mutation("delete").get(g),...e,meta:{...e==null?void 0:e.meta,...(0,fc.getXRay)("useDelete",g)}}),{elapsedTime:w}=He({isLoading:S.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...S,overtime:{elapsedTime:w}}},"useDelete"),gc=ce(),yc=d("@tanstack/react-query"),zs=u(({mutationOptions:e,overtimeOptions:t}={})=>{let r=rt(),{resources:o,select:a}=ie(),n=ye(),i=Or(),l=yt(),m=Jt(),{log:c}=$r(),f=Ae(),{options:{textTransformers:y}}=it(),{keys:B,preferLegacyKeys:s}=me(),h=(0,yc.useMutation)(({resource:v,values:b,meta:p,metaData:g,dataProviderName:S})=>{let{resource:w,identifier:L}=a(v),P=f({resource:w,meta:H(p,g)}),F=r(oe(L,S,o));return F.createMany?F.createMany({resource:w.name,variables:b,meta:P,metaData:P}):na(b.map(k=>F.create({resource:w.name,variables:k,meta:P,metaData:P})))},{onSuccess:(v,{resource:b,successNotification:p,dataProviderName:g,invalidates:S=["list","many"],values:w,meta:L,metaData:P})=>{let{resource:F,identifier:k}=a(b),T=y.plural(k),N=oe(k,g,o),D=f({resource:F,meta:H(L,P)}),I=typeof p=="function"?p(v,w,k):p;l(I,{key:`createMany-${k}-notification`,message:n("notifications.createSuccess",{resource:n(`${k}.${k}`,k)},`Successfully created ${T}`),description:n("notifications.success","Success"),type:"success"}),m({resource:k,dataProviderName:N,invalidates:S});let A=v==null?void 0:v.data.filter(z=>(z==null?void 0:z.id)!==void 0).map(z=>z.id);i==null||i({channel:`resources/${F.name}`,type:"created",payload:{ids:A},date:new Date,meta:{...D,dataProviderName:N}});let{fields:E,operation:q,variables:M,...$}=D||{};c==null||c.mutate({action:"createMany",resource:F.name,data:w,meta:{dataProviderName:N,ids:A,...$}})},onError:(v,{resource:b,errorNotification:p,values:g})=>{let{identifier:S}=a(b),w=typeof p=="function"?p(v,g,S):p;l(w,{key:`createMany-${S}-notification`,description:v.message,message:n("notifications.createError",{resource:n(`${S}.${S}`,S),statusCode:v.statusCode},`There was an error creating ${S} (status code: ${v.statusCode}`),type:"error"})},mutationKey:B().data().mutation("createMany").get(s),...e,meta:{...e==null?void 0:e.meta,...(0,gc.getXRay)("useCreateMany",s)}}),{elapsedTime:C}=He({isLoading:h.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...h,overtime:{elapsedTime:C}}},"useCreateMany"),hc=ce(),qi=d("@tanstack/react-query"),bc=u(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:o}=ie(),a=(0,qi.useQueryClient)(),n=rt(),i=ye(),{mutationMode:l,undoableTimeout:m}=Yr(),c=qe(),{mutate:f}=st({v3LegacyAuthProviderCompatible:!!(c!=null&&c.isLegacy)}),{notificationDispatch:y}=Jr(),B=Or(),s=yt(),h=Jt(),{log:C}=$r(),v=Ae(),{options:{textTransformers:b}}=it(),{keys:p,preferLegacyKeys:g}=me(),S=(0,qi.useMutation)(({ids:L,values:P,resource:F,onCancel:k,mutationMode:T,undoableTimeout:N,meta:D,metaData:I,dataProviderName:A})=>{let{resource:E,identifier:q}=o(F),M=v({resource:E,meta:H(D,I)}),$=T??l,z=N??m,O=n(oe(q,A,r)),W=u(()=>O.updateMany?O.updateMany({resource:E.name,ids:L,variables:P,meta:M,metaData:M}):na(L.map(j=>O.update({resource:E.name,id:j,variables:P,meta:M,metaData:M}))),"mutationFn");return $!=="undoable"?W():new Promise((j,Q)=>{let K=u(()=>{W().then(R=>j(R)).catch(R=>Q(R))},"doMutation"),_=u(()=>{Q({message:"mutationCancelled"})},"cancelMutation");k&&k(_),y({type:"ADD",payload:{id:L,resource:q,cancelMutation:_,doMutation:K,seconds:z,isSilent:!!k}})})},{onMutate:async({resource:L,ids:P,values:F,mutationMode:k,dataProviderName:T,meta:N,metaData:D,optimisticUpdateMap:I={list:!0,many:!0,detail:!0}})=>{let{identifier:A}=o(L),E=H(N,D),q=aa(g)(A,oe(A,T,r),H(N,D)),M=p().data(oe(A,T,r)).resource(A),$=k??l;await a.cancelQueries(M.get(g),void 0,{silent:!0});let z=a.getQueriesData(M.get(g));if($!=="pessimistic"&&(I.list&&a.setQueriesData(M.action("list").params(E??{}).get(g),O=>{if(typeof I.list=="function")return I.list(O,F,P);if(!O)return null;let W=O.data.map(j=>j.id!==void 0&&P.filter(Q=>Q!==void 0).map(String).includes(j.id.toString())?{...j,...F}:j);return{...O,data:W}}),I.many&&a.setQueriesData(M.action("many").get(g),O=>{if(typeof I.many=="function")return I.many(O,F,P);if(!O)return null;let W=O.data.map(j=>j.id!==void 0&&P.filter(Q=>Q!==void 0).map(String).includes(j.id.toString())?{...j,...F}:j);return{...O,data:W}}),I.detail))for(let O of P)a.setQueriesData(M.action("one").id(O).params(E??{}).get(g),W=>{if(typeof I.detail=="function")return I.detail(W,F,O);if(!W)return null;let j={...W.data,...F};return{...W,data:j}});return{previousQueries:z,queryKey:q}},onSettled:(L,P,{ids:F,resource:k,dataProviderName:T})=>{let{identifier:N}=o(k);h({resource:N,invalidates:["list","many"],dataProviderName:oe(N,T,r)}),F.forEach(D=>h({resource:N,invalidates:["detail"],dataProviderName:oe(N,T,r),id:D})),y({type:"REMOVE",payload:{id:F,resource:N}})},onSuccess:(L,{ids:P,resource:F,meta:k,metaData:T,dataProviderName:N,successNotification:D,values:I},A)=>{let{resource:E,identifier:q}=o(F),M=b.singular(q),$=oe(q,N,r),z=v({resource:E,meta:H(k,T)}),O=typeof D=="function"?D(L,{ids:P,values:I},q):D;s(O,{key:`${P}-${q}-notification`,description:i("notifications.success","Successful"),message:i("notifications.editSuccess",{resource:i(`${q}.${q}`,q)},`Successfully updated ${M}`),type:"success"}),B==null||B({channel:`resources/${E.name}`,type:"updated",payload:{ids:P.map(String)},date:new Date,meta:{...z,dataProviderName:$}});let W=[];A&&P.forEach(R=>{let re=a.getQueryData(A.queryKey.detail(R));W.push(Object.keys(I||{}).reduce((be,de)=>{var Le;return be[de]=(Le=re==null?void 0:re.data)==null?void 0:Le[de],be},{}))});let{fields:j,operation:Q,variables:K,..._}=z||{};C==null||C.mutate({action:"updateMany",resource:E.name,data:I,previousData:W,meta:{ids:P,dataProviderName:$,..._}})},onError:(L,{ids:P,resource:F,errorNotification:k,values:T},N)=>{let{identifier:D}=o(F);if(N)for(let I of N.previousQueries)a.setQueryData(I[0],I[1]);if(L.message!=="mutationCancelled"){f==null||f(L);let I=b.singular(D),A=typeof k=="function"?k(L,{ids:P,values:T},D):k;s(A,{key:`${P}-${D}-updateMany-error-notification`,message:i("notifications.editError",{resource:I,statusCode:L.statusCode},`Error when updating ${I} (status code: ${L.statusCode})`),description:L.message,type:"error"})}},mutationKey:p().data().mutation("updateMany").get(g),...e,meta:{...e==null?void 0:e.meta,...(0,hc.getXRay)("useUpdateMany",g)}}),{elapsedTime:w}=He({isLoading:S.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...S,overtime:{elapsedTime:w}}},"useUpdateMany"),Pc=ce(),Oi=d("@tanstack/react-query"),Cc=u(({mutationOptions:e,overtimeOptions:t}={})=>{let r=qe(),{mutate:o}=st({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),{mutationMode:a,undoableTimeout:n}=Yr(),i=rt(),{notificationDispatch:l}=Jr(),m=ye(),c=Or(),f=yt(),y=Jt(),{log:B}=$r(),{resources:s,select:h}=ie(),C=(0,Oi.useQueryClient)(),v=Ae(),{options:{textTransformers:b}}=it(),{keys:p,preferLegacyKeys:g}=me(),S=(0,Oi.useMutation)(({resource:L,ids:P,mutationMode:F,undoableTimeout:k,onCancel:T,meta:N,metaData:D,dataProviderName:I,values:A})=>{let{resource:E,identifier:q}=h(L),M=v({resource:E,meta:H(N,D)}),$=F??a,z=k??n,O=i(oe(q,I,s)),W=u(()=>O.deleteMany?O.deleteMany({resource:E.name,ids:P,meta:M,metaData:M,variables:A}):na(P.map(j=>O.deleteOne({resource:E.name,id:j,meta:M,metaData:M,variables:A}))),"mutationFn");return $!=="undoable"?W():new Promise((j,Q)=>{let K=u(()=>{W().then(R=>j(R)).catch(R=>Q(R))},"doMutation"),_=u(()=>{Q({message:"mutationCancelled"})},"cancelMutation");T&&T(_),l({type:"ADD",payload:{id:P,resource:q,cancelMutation:_,doMutation:K,seconds:z,isSilent:!!T}})})},{onMutate:async({ids:L,resource:P,mutationMode:F,dataProviderName:k,meta:T,metaData:N})=>{let{identifier:D}=h(P),I=H(T,N),A=aa(g)(D,oe(D,k,s),I),E=p().data(oe(D,k,s)).resource(D),q=F??a;await C.cancelQueries(E.get(g),void 0,{silent:!0});let M=C.getQueriesData(E.get(g));if(q!=="pessimistic"){C.setQueriesData(E.action("list").params(I??{}).get(g),$=>$?{data:$.data.filter(z=>z.id&&!L.map(String).includes(z.id.toString())),total:$.total-1}:null),C.setQueriesData(E.action("many").get(g),$=>{if(!$)return null;let z=$.data.filter(O=>O.id?!L.map(String).includes(O.id.toString()):!1);return{...$,data:z}});for(let $ of L)C.setQueriesData(E.action("one").id($).params(I).get(g),z=>!z||z.data.id==$?null:{...z})}return{previousQueries:M,queryKey:A}},onSettled:(L,P,{resource:F,ids:k,dataProviderName:T,invalidates:N=["list","many"]})=>{let{identifier:D}=h(F);y({resource:D,dataProviderName:oe(D,T,s),invalidates:N}),l({type:"REMOVE",payload:{id:k,resource:D}})},onSuccess:(L,{ids:P,resource:F,meta:k,metaData:T,dataProviderName:N,successNotification:D},I)=>{let{resource:A,identifier:E}=h(F),q=oe(E,N,s),M=v({resource:A,meta:H(k,T)});P.forEach(Q=>C.removeQueries(I==null?void 0:I.queryKey.detail(Q)));let $=typeof D=="function"?D(L,P,E):D;f($,{key:`${P}-${E}-notification`,description:m("notifications.success","Success"),message:m("notifications.deleteSuccess",{resource:m(`${E}.${E}`,E)},`Successfully deleted ${E}`),type:"success"}),c==null||c({channel:`resources/${A.name}`,type:"deleted",payload:{ids:P},date:new Date,meta:{...M,dataProviderName:q}});let{fields:z,operation:O,variables:W,...j}=M||{};B==null||B.mutate({action:"deleteMany",resource:A.name,meta:{ids:P,dataProviderName:q,...j}}),P.forEach(Q=>C.removeQueries(I==null?void 0:I.queryKey.detail(Q)))},onError:(L,{ids:P,resource:F,errorNotification:k},T)=>{let{identifier:N}=h(F);if(T)for(let D of T.previousQueries)C.setQueryData(D[0],D[1]);if(L.message!=="mutationCancelled"){o(L);let D=b.singular(N),I=typeof k=="function"?k(L,P,N):k;f(I,{key:`${P}-${N}-notification`,message:m("notifications.deleteError",{resource:D,statusCode:L.statusCode},`Error (status code: ${L.statusCode})`),description:L.message,type:"error"})}},mutationKey:p().data().mutation("deleteMany").get(g),...e,meta:{...e==null?void 0:e.meta,...(0,Pc.getXRay)("useDeleteMany",g)}}),{elapsedTime:w}=He({isLoading:S.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...S,overtime:{elapsedTime:w}}},"useDeleteMany"),xc=u(e=>{var t;let r=rt(),{resource:o}=ie(),{getApiUrl:a}=r(e??((t=H(o==null?void 0:o.meta,o==null?void 0:o.options))==null?void 0:t.dataProviderName));return a()},"useApiUrl"),wc=d("@tanstack/react-query"),Lc=ce(),Bc=u(({url:e,method:t,config:r,queryOptions:o,successNotification:a,errorNotification:n,meta:i,metaData:l,dataProviderName:m,overtimeOptions:c})=>{let f=rt(),y=qe(),{mutate:B}=st({v3LegacyAuthProviderCompatible:!!(y!=null&&y.isLegacy)}),s=ye(),h=yt(),C=Ae(),{keys:v,preferLegacyKeys:b}=me(),p=H(i,l),{custom:g}=f(m),S=C({meta:p});if(g){let w=(0,wc.useQuery)({queryKey:v().data(m).mutation("custom").params({method:t,url:e,...r,...p||{}}).get(b),queryFn:({queryKey:P,pageParam:F,signal:k})=>g({url:e,method:t,...r,meta:{...S,queryContext:{queryKey:P,pageParam:F,signal:k}},metaData:{...S,queryContext:{queryKey:P,pageParam:F,signal:k}}}),...o,onSuccess:P=>{var F;(F=o==null?void 0:o.onSuccess)==null||F.call(o,P);let k=typeof a=="function"?a(P,{...r,...S}):a;h(k)},onError:P=>{var F;B(P),(F=o==null?void 0:o.onError)==null||F.call(o,P);let k=typeof n=="function"?n(P,{...r,...S}):n;h(k,{key:`${t}-notification`,message:s("notifications.error",{statusCode:P.statusCode},`Error (status code: ${P.statusCode})`),description:P.message,type:"error"})},meta:{...o==null?void 0:o.meta,...(0,Lc.getXRay)("useCustom",b)}}),{elapsedTime:L}=He({isLoading:w.isFetching,interval:c==null?void 0:c.interval,onInterval:c==null?void 0:c.onInterval});return{...w,overtime:{elapsedTime:L}}}else throw Error("Not implemented custom on data provider.")},"useCustom"),Sc=d("@tanstack/react-query"),Tc=ce(),kc=u(({mutationOptions:e,overtimeOptions:t}={})=>{let r=qe(),{mutate:o}=st({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),a=yt(),n=rt(),i=ye(),l=Ae(),{keys:m,preferLegacyKeys:c}=me(),f=(0,Sc.useMutation)(({url:B,method:s,values:h,meta:C,metaData:v,dataProviderName:b,config:p})=>{let g=l({meta:H(C,v)}),{custom:S}=n(b);if(S)return S({url:B,method:s,payload:h,meta:g,metaData:g,headers:{...p==null?void 0:p.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(B,{successNotification:s,config:h,meta:C,metaData:v})=>{let b=typeof s=="function"?s(B,{...h,...H(C,v)||{}}):s;a(b)},onError:(B,{errorNotification:s,method:h,config:C,meta:v,metaData:b})=>{o(B);let p=typeof s=="function"?s(B,{...C,...H(v,b)||{}}):s;a(p,{key:`${h}-notification`,message:i("notifications.error",{statusCode:B.statusCode},`Error (status code: ${B.statusCode})`),description:B.message,type:"error"})},mutationKey:m().data().mutation("customMutation").get(c),...e,meta:{...e==null?void 0:e.meta,...(0,Tc.getXRay)("useCustomMutation",c)}}),{elapsedTime:y}=He({isLoading:f.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...f,overtime:{elapsedTime:y}}},"useCustomMutation"),Ui=d("react"),Hs=V(d("react")),Ec=u(()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),"defaultDataProvider"),bn=Hs.default.createContext(Ec()),Fc=u(({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},Hs.default.createElement(bn.Provider,{value:r},e)},"DataContextProvider"),rt=u(()=>{let e=(0,Ui.useContext)(bn);return(0,Ui.useCallback)(t=>{if(t){if(!e[t])throw new Error(`"${t}" Data provider not found`);return e[t]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},"useDataProvider"),Ic=ce(),Dc=d("@tanstack/react-query"),Ac=u(({resource:e,config:t,filters:r,hasPagination:o,pagination:a,sorters:n,queryOptions:i,successNotification:l,errorNotification:m,meta:c,metaData:f,liveMode:y,onLiveEvent:B,liveParams:s,dataProviderName:h,overtimeOptions:C})=>{let{resources:v,resource:b,identifier:p}=ie(e),g=rt(),S=ye(),w=qe(),{mutate:L}=st({v3LegacyAuthProviderCompatible:!!(w!=null&&w.isLegacy)}),P=yt(),F=Ae(),{keys:k,preferLegacyKeys:T}=me(),N=oe(p,h,v),D=H(c,f),I=H(r,t==null?void 0:t.filters),A=H(n,t==null?void 0:t.sort),E=H(o,t==null?void 0:t.hasPagination),q=Fs({pagination:a,configPagination:t==null?void 0:t.pagination,hasPagination:E}),M=q.mode==="server",$={meta:D,metaData:D,filters:I,hasPagination:M,pagination:q,sorters:A,config:{...t,sort:A}},z=(i==null?void 0:i.enabled)===void 0||(i==null?void 0:i.enabled)===!0,O=F({resource:b,meta:D}),{getList:W}=g(N);Fo({resource:p,types:["*"],params:{meta:O,metaData:O,pagination:q,hasPagination:M,sort:A,sorters:A,filters:I,subscriptionType:"useList",...s},channel:`resources/${b.name}`,enabled:z,liveMode:y,onLiveEvent:B,dataProviderName:N,meta:{...O,dataProviderName:h}});let j=(0,Dc.useInfiniteQuery)(k().data(N).resource(p).action("infinite").params({...D||{},filters:I,hasPagination:M,...M&&{pagination:q},...n&&{sorters:n},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(T),({queryKey:K,pageParam:_,signal:R})=>{let re={...q,current:_};return W({resource:b.name,pagination:re,hasPagination:M,filters:I,sort:A,sorters:A,meta:{...O,queryContext:{queryKey:K,pageParam:_,signal:R}},metaData:{...O,queryContext:{queryKey:K,pageParam:_,signal:R}}}).then(({data:be,total:de,...Le})=>({data:be,total:de,pagination:re,...Le}))},{getNextPageParam:K=>Bs(K),getPreviousPageParam:K=>Ss(K),...i,onSuccess:K=>{var _;(_=i==null?void 0:i.onSuccess)==null||_.call(i,K);let R=typeof l=="function"?l(K,$,p):l;P(R)},onError:K=>{var _;L(K),(_=i==null?void 0:i.onError)==null||_.call(i,K);let R=typeof m=="function"?m(K,$,p):m;P(R,{key:`${p}-useInfiniteList-notification`,message:S("notifications.error",{statusCode:K.statusCode},`Error (status code: ${K.statusCode})`),description:K.message,type:"error"})},meta:{...i==null?void 0:i.meta,...(0,Ic.getXRay)("useInfiniteList",T)}}),{elapsedTime:Q}=He({isLoading:j.isFetching,interval:C==null?void 0:C.interval,onInterval:C==null?void 0:C.onInterval});return{...j,overtime:{elapsedTime:Q}}},"useInfiniteList"),Ws=V(d("react")),To=Ws.default.createContext(void 0),Nc=u(({liveProvider:e,children:t})=>Ws.default.createElement(To.Provider,{value:e},t),"LiveContextProvider"),Mc=d("react"),qc=d("@tanstack/react-query"),Oc=d("react"),js=V(d("react")),Uc=d("react"),$c=d("react"),zc=V(d("lodash/isEqual")),Hc=u(e=>{let t=(0,$c.useRef)(e);return(0,zc.default)(t.current,e)||(t.current=e),t.current},"useMemoized"),Vs=u((e,t)=>{let r=Hc(t);return(0,Uc.useMemo)(e,r)},"useDeepMemo"),ko=js.default.createContext({resources:[]}),Wc=u(({resources:e,children:t})=>{let r=Vs(()=>Ts(e??[]),[e]);return js.default.createElement(ko.Provider,{value:{resources:r}},t)},"ResourceContextProvider"),Ks=V(d("react")),_s=Ks.default.createContext("new"),jc=_s.Provider,Oe=u(()=>Ks.default.useContext(_s),"useRouterType"),Vc=V(d("react")),Qs=V(d("react")),Rs={},Eo=(0,Qs.createContext)(Rs),Kc=u(({children:e,router:t})=>Qs.default.createElement(Eo.Provider,{value:t??Rs},e),"RouterBindingsProvider"),$i=V(d("react")),Gs=u(()=>{let e=(0,$i.useContext)(Eo);return $i.default.useMemo(()=>(e==null?void 0:e.parse)??(()=>()=>({})),[e==null?void 0:e.parse])()},"useParse"),$t=u(()=>{let e=Gs();return Vc.default.useMemo(()=>e(),[e])},"useParsed");function ie(e){let{resources:t}=(0,Oc.useContext)(ko),r=Oe(),o=$t(),a={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},n=u((y,B=!0)=>{let s=Qe(y,t,r==="legacy");if(s)return{resource:s,identifier:s.identifier??s.name};if(B){let h={name:y,identifier:y},C=h.identifier??h.name;return{resource:h,identifier:C}}},"select"),i=Xs(),{useParams:l}=ht(),m=l();if(r==="legacy"){let y=a.resourceNameOrRouteName?a.resourceNameOrRouteName:m.resource,B=y?i(y):void 0,s=(a==null?void 0:a.recordItemId)??m.id,h=m.action,C=(a==null?void 0:a.resourceName)??(B==null?void 0:B.name),v=(B==null?void 0:B.identifier)??(B==null?void 0:B.name);return{resources:t,resource:B,resourceName:C,id:s,action:h,select:n,identifier:v}}let c,f=typeof e=="string"?e:a==null?void 0:a.resourceNameOrRouteName;if(f){let y=Qe(f,t);y?c=y:c={name:f}}else o!=null&&o.resource&&(c=o.resource);return{resources:t,resource:c,resourceName:c==null?void 0:c.name,id:o.id,action:o.action,select:n,identifier:(c==null?void 0:c.identifier)??(c==null?void 0:c.name)}}x(ie,"K");u(ie,"useResource");var zi=d("react"),Xs=u(()=>{let{resources:e}=(0,zi.useContext)(ko);return(0,zi.useCallback)(t=>Qe(t,e,!0)||{name:t,route:t},[e])},"useResourceWithRoute"),Jt=u(()=>{let{resources:e}=ie(),t=(0,qc.useQueryClient)(),{keys:r,preferLegacyKeys:o}=me();return(0,Mc.useCallback)(async({resource:a,dataProviderName:n,invalidates:i,id:l,invalidationFilters:m={type:"all",refetchType:"active"},invalidationOptions:c={cancelRefetch:!1}})=>{if(i===!1)return;let f=oe(a,n,e),y=r().data(f).resource(a??"");await Promise.all(i.map(B=>{switch(B){case"all":return t.invalidateQueries(r().data(f).get(o),m,c);case"list":return t.invalidateQueries(y.action("list").get(o),m,c);case"many":return t.invalidateQueries(y.action("many").get(o),m,c);case"resourceAll":return t.invalidateQueries(y.get(o),m,c);case"detail":return t.invalidateQueries(y.action("one").id(l||"").get(o),m,c);default:return}}))},[])},"useInvalidate"),Va=d("react"),Fo=u(({resource:e,params:t,channel:r,types:o,enabled:a=!0,liveMode:n,onLiveEvent:i,dataProviderName:l,meta:m})=>{var c;let{resource:f,identifier:y}=ie(e),B=(0,Va.useContext)(To),{liveMode:s,onLiveEvent:h}=(0,Va.useContext)(lr),C=n??s,v=Jt(),b=l??(m==null?void 0:m.dataProviderName)??((c=f==null?void 0:f.meta)==null?void 0:c.dataProviderName);(0,Va.useEffect)(()=>{let p,g=u(S=>{C==="auto"&&v({resource:y,dataProviderName:b,invalidates:["resourceAll"],invalidationFilters:{type:"active",refetchType:"active"},invalidationOptions:{cancelRefetch:!1}}),i==null||i(S),h==null||h(S)},"callback");return C&&C!=="off"&&a&&(p=B==null?void 0:B.subscribe({channel:r,params:{resource:f==null?void 0:f.name,...t},types:o,callback:g,dataProviderName:b,meta:{...m,dataProviderName:b}})),()=>{p&&(B==null||B.unsubscribe(p))}},[a])},"useResourceSubscription"),_c=d("react"),Zs=u(e=>{let{liveMode:t}=(0,_c.useContext)(lr);return e??t},"useLiveMode"),Hi=d("react"),Qc=u(({params:e,channel:t,types:r=["*"],enabled:o=!0,onLiveEvent:a,dataProviderName:n="default",meta:i})=>{let l=(0,Hi.useContext)(To);(0,Hi.useEffect)(()=>{let m;return o&&(m=l==null?void 0:l.subscribe({channel:t,params:e,types:r,callback:a,dataProviderName:n,meta:{...i,dataProviderName:n}})),()=>{m&&(l==null||l.unsubscribe(m))}},[o])},"useSubscription"),Rc=d("react"),Or=u(()=>{let e=(0,Rc.useContext)(To);return e==null?void 0:e.publish},"usePublish"),Gc=d("react"),Jr=u(()=>{let{notifications:e,notificationDispatch:t}=(0,Gc.useContext)($s);return{notifications:e,notificationDispatch:t}},"useCancelNotification"),Xc=d("react"),Ys=V(d("react")),Pn=(0,Ys.createContext)({}),Zc=u(({open:e,close:t,children:r})=>Ys.default.createElement(Pn.Provider,{value:{open:e,close:t}},r),"NotificationContextProvider"),ur=u(()=>{let{open:e,close:t}=(0,Xc.useContext)(Pn);return{open:e,close:t}},"useNotification"),Yc=d("react"),yt=u(()=>{let{open:e}=ur();return(0,Yc.useCallback)((t,r)=>{t!==!1&&(t?e==null||e(t):r&&(e==null||e(r)))},[])},"useHandleNotification"),Wi=d("react"),Js=V(d("react")),Ur=Js.default.createContext({}),Jc=u(({children:e,i18nProvider:t})=>Js.default.createElement(Ur.Provider,{value:{i18nProvider:t}},e),"TranslationContextProvider"),em=u(()=>{let{i18nProvider:e}=(0,Wi.useContext)(Ur);return(0,Wi.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},"useSetLocale"),ji=d("react"),ye=u(()=>{let{i18nProvider:e}=(0,ji.useContext)(Ur);return(0,ji.useMemo)(()=>{function t(r,o,a){return(e==null?void 0:e.translate(r,o,a))??a??(typeof o=="string"&&typeof a>"u"?o:r)}return x(t,"r"),u(t,"translate"),t},[e])},"useTranslate"),Vi=d("react"),tm=u(()=>{let{i18nProvider:e}=(0,Vi.useContext)(Ur);return(0,Vi.useCallback)(()=>e==null?void 0:e.getLocale(),[])},"useGetLocale"),rm=d("react"),om=d("export-to-csv-fix-source-map"),am=u(({resourceName:e,resource:t,sorter:r,sorters:o,filters:a,maxItemCount:n,pageSize:i=20,mapData:l=u(s=>s,"mapData"),exportOptions:m,meta:c,metaData:f,dataProviderName:y,onError:B}={})=>{let[s,h]=(0,rm.useState)(!1),C=rt(),v=Ae(),{resource:b,resources:p,identifier:g}=ie(H(t,e)),S=`${un()(g,"plural")}-${new Date().toLocaleString()}`,{getList:w}=C(oe(g,y,p)),L=v({resource:b,meta:H(c,f)});return{isLoading:s,triggerExport:u(async()=>{h(!0);let P=[],F=1,k=!0;for(;k;)try{let{data:T,total:N}=await w({resource:(b==null?void 0:b.name)??"",filters:a,sort:H(o,r),sorters:H(o,r),pagination:{current:F,pageSize:i,mode:"server"},meta:L,metaData:L});F++,P.push(...T),n&&P.length>=n&&(P=P.slice(0,n),k=!1),N===P.length&&(k=!1)}catch(T){h(!1),k=!1,B==null||B(T);return}new om.ExportToCsv({filename:S,useKeysAsHeaders:!0,...m}).generateCsv(P.map(l)),h(!1)},"triggerExport")}},"useExport"),Ka=V(d("react")),nm=V(d("warn-once")),im=V(d("lodash/debounce")),sm=u(({resource:e,action:t,id:r,onMutationSuccess:o,onMutationError:a,redirect:n,successNotification:i,errorNotification:l,meta:m,metaData:c,queryMeta:f,mutationMeta:y,mutationMode:B,liveMode:s,onLiveEvent:h,liveParams:C,undoableTimeout:v,dataProviderName:b,invalidates:p,queryOptions:g,createMutationOptions:S,updateMutationOptions:w,overtimeOptions:L,autoSave:P,optimisticUpdateMap:F}={})=>{let k=Jt(),{options:T}=it(),N=Ae(),{resource:D,id:I,action:A,identifier:E}=ie(e),{identifier:q}=ie(),M=u(()=>e&&e!==q?r:r??I,"getDefaultId")(),[$,z]=Ka.default.useState(M);Ka.default.useEffect(()=>{z(M)},[M]);let O=u(()=>t||(A==="edit"||A==="clone"?A:"create"),"getAction")(),W=N({resource:D,meta:H(m,c)}),{mutationMode:j}=Yr(),Q=B??j,K=O==="create",_=O==="edit",R=O==="clone";(0,nm.default)((R||_)&&!!e&&!r&&(g==null?void 0:g.enabled)!==!1,`[useForm]: action: "${O}", resource: "${E}", id: ${$} 

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`);let re=Dd({redirectFromProps:n,action:O,redirectOptions:T.redirect}),be=yn({resource:E,id:$??"",queryOptions:{enabled:$!==void 0&&(_||R),...g},liveMode:s,onLiveEvent:h,liveParams:C,meta:{...W,...f},metaData:{...W,...f},dataProviderName:b}),{isFetching:de}=be,Le=hn({mutationOptions:S}),{mutate:Qt,isLoading:Vr}=Le,dt=on({mutationOptions:w}),{mutate:Ir,isLoading:At}=dt,Nt=on({}),{setWarnWhen:Dr}=ln(),or=el(),Kr=u(async Be=>{Dr(!1);let Mt=u(Ie=>{or({redirect:re,resource:D,id:Ie,meta:H(m,c)})},"onSuccess");return Q!=="pessimistic"&&setTimeout(()=>{Mt()}),new Promise((Ie,Rt)=>{if(Q!=="pessimistic"&&Ie(),!!D)return Qt({values:Be,resource:E??D.name,successNotification:i,errorNotification:l,meta:{...W,...y},metaData:{...W,...y},dataProviderName:b,invalidates:p},{onSuccess:(Ne,qt,Ot)=>{var Gt;o&&o(Ne,Be,Ot);let Xt=(Gt=Ne==null?void 0:Ne.data)==null?void 0:Gt.id;Mt(Xt),Ie(Ne)},onError:(Ne,qt,Ot)=>{if(a)return a(Ne,Be,Ot);Rt()}})})},"onFinishCreate");Ka.default.useEffect(()=>()=>{P!=null&&P.invalidateOnUnmount&&Nt.status==="success"&&k({id:$,invalidates:p||["list","many","detail"],dataProviderName:b,resource:E})},[P==null?void 0:P.invalidateOnUnmount,Nt.status]);let _r=u(Be=>{if(!D||!_)return;let Mt={id:$??"",values:Be,resource:E??D.name,successNotification:!1,errorNotification:!1,meta:{...W,...y},metaData:{...W,...y},dataProviderName:b,invalidates:[],mutationMode:"pessimistic"};return Nt.mutate(Mt,{onSuccess:(Ie,Rt,Ne)=>{o&&o(Ie,Be,Ne,!0)},onError:(Ie,Rt,Ne)=>{if(a)return a(Ie,Be,Ne,!0)}})},"onFinishAutoSaveMutation"),jo=(0,im.default)(Be=>_r(Be),(P==null?void 0:P.debounce)||1e3),xo=K||R?{formLoading:de||Vr,mutationResult:Le,onFinish:Kr}:{formLoading:de||At,mutationResult:dt,onFinish:u(async Be=>{if(Dr(!1),!D)return;let Mt={id:$??"",values:Be,resource:E??D.name,mutationMode:Q,undoableTimeout:v,successNotification:i,errorNotification:l,meta:{...W,...y},metaData:{...W,...y},dataProviderName:b,invalidates:p,optimisticUpdateMap:F},Ie=u(()=>{or({redirect:re,resource:D,id:$,meta:H(m,c)})},"onSuccess");return Q!=="pessimistic"&&setTimeout(()=>{Ie()}),new Promise((Rt,Ne)=>(Q!=="pessimistic"&&Rt(),setTimeout(()=>{Ir(Mt,{onSuccess:(qt,Ot,Gt)=>{o&&o(qt,Be,Gt),Q==="pessimistic"&&Ie(),Rt(qt)},onError:(qt,Ot,Gt)=>{if(a)return a(qt,Be,Gt);Ne()}})})))},"onFinishUpdate")},{elapsedTime:Ia}=He({isLoading:xo.mutationResult.isLoading||be.isFetching,interval:L==null?void 0:L.interval,onInterval:L==null?void 0:L.onInterval});return{...xo,queryResult:be,onFinishAutoSave:jo,autoSaveProps:{status:Nt.status,data:Nt.data,error:Nt.error},id:$,setId:z,redirect:(Be,Mt)=>{or({redirect:Be!==void 0?Be:_?"list":"edit",resource:D,id:Mt??$,meta:H(m,c)})},overtime:{elapsedTime:Ia}}},"useForm"),lm=d("react"),el=u(()=>{let{show:e,edit:t,list:r,create:o}=Lt();return(0,lm.useCallback)(({redirect:a,resource:n,id:i,meta:l={}})=>{if(a&&n)return n.show&&a==="show"&&i?e(n,i,void 0,l):n.edit&&a==="edit"&&i?t(n,i,void 0,l):n.create&&a==="create"?o(n,void 0,l):r(n,"push",l)},[])},"useRedirectionAfterSubmission"),_a=V(d("react")),um=V(d("react")),la=u(()=>{let e=Oe(),{resource:t,resources:r}=ie(),o=$t();return um.default.useCallback(({resource:a,action:n,meta:i})=>{var l;let m=a||t;if(!m)return;let c=(l=ft(m,r,e==="legacy").find(f=>f.action===n))==null?void 0:l.route;return c?Ct(c,m==null?void 0:m.meta,o,i):void 0},[r,t,o])},"useGetToPath"),wt=u(()=>{let e=(0,_a.useContext)(Eo),{select:t}=ie(),r=la(),o=_a.default.useMemo(()=>(e==null?void 0:e.go)??(()=>()=>{}),[e==null?void 0:e.go])();return(0,_a.useCallback)(a=>{if(typeof a.to!="object")return o({...a,to:a.to});let{resource:n}=t(a.to.resource);dm(a.to,n);let i=r({resource:n,action:a.to.action,meta:{id:a.to.id}});return o({...a,to:i})},[t,o])},"useGo"),dm=u((e,t)=>{if(!(e!=null&&e.action)||!(e!=null&&e.resource))throw new Error('[useGo]: "action" or "resource" is required.');if(["edit","show","clone"].includes(e==null?void 0:e.action)&&!e.id)throw new Error(`[useGo]: [action: ${e.action}] requires an "id" for resource [resource: ${e.resource}]`);if(!t[e.action])throw new Error(`[useGo]: [action: ${e.action}] is not defined for [resource: ${e.resource}]`)},"handleResourceErrors"),Ki=V(d("react")),tl=u(()=>{let e=(0,Ki.useContext)(Eo);return Ki.default.useMemo(()=>(e==null?void 0:e.back)??(()=>()=>{}),[e==null?void 0:e.back])()},"useBack"),Lt=u(()=>{let{resources:e}=ie(),t=Oe(),{useHistory:r}=ht(),o=r(),a=$t(),n=wt(),i=tl(),l=u((s,h="push")=>{t==="legacy"?o[h](s):n({to:s,type:h})},"handleUrl"),m=u((s,h={})=>{var C;if(t==="legacy"){let v=typeof s=="string"?Qe(s,e,!0)??{name:s,route:s}:s,b=ft(v,e,!0).find(p=>p.action==="create");return b?Ct(b.route,v==null?void 0:v.meta,a,h):""}else{let v=typeof s=="string"?Qe(s,e)??{name:s}:s,b=(C=ft(v,e).find(p=>p.action==="create"))==null?void 0:C.route;return b?n({to:Ct(b,v==null?void 0:v.meta,a,h),type:"path"}):""}},"createUrl"),c=u((s,h,C={})=>{var v;let b=encodeURIComponent(h);if(t==="legacy"){let p=typeof s=="string"?Qe(s,e,!0)??{name:s,route:s}:s,g=ft(p,e,!0).find(S=>S.action==="edit");return g?Ct(g.route,p==null?void 0:p.meta,a,{...C,id:b}):""}else{let p=typeof s=="string"?Qe(s,e)??{name:s}:s,g=(v=ft(p,e).find(S=>S.action==="edit"))==null?void 0:v.route;return g?n({to:Ct(g,p==null?void 0:p.meta,a,{...C,id:b}),type:"path"}):""}},"editUrl"),f=u((s,h,C={})=>{var v;let b=encodeURIComponent(h);if(t==="legacy"){let p=typeof s=="string"?Qe(s,e,!0)??{name:s,route:s}:s,g=ft(p,e,!0).find(S=>S.action==="clone");return g?Ct(g.route,p==null?void 0:p.meta,a,{...C,id:b}):""}else{let p=typeof s=="string"?Qe(s,e)??{name:s}:s,g=(v=ft(p,e).find(S=>S.action==="clone"))==null?void 0:v.route;return g?n({to:Ct(g,p==null?void 0:p.meta,a,{...C,id:b}),type:"path"}):""}},"cloneUrl"),y=u((s,h,C={})=>{var v;let b=encodeURIComponent(h);if(t==="legacy"){let p=typeof s=="string"?Qe(s,e,!0)??{name:s,route:s}:s,g=ft(p,e,!0).find(S=>S.action==="show");return g?Ct(g.route,p==null?void 0:p.meta,a,{...C,id:b}):""}else{let p=typeof s=="string"?Qe(s,e)??{name:s}:s,g=(v=ft(p,e).find(S=>S.action==="show"))==null?void 0:v.route;return g?n({to:Ct(g,p==null?void 0:p.meta,a,{...C,id:b}),type:"path"}):""}},"showUrl"),B=u((s,h={})=>{var C;if(t==="legacy"){let v=typeof s=="string"?Qe(s,e,!0)??{name:s,route:s}:s,b=ft(v,e,!0).find(p=>p.action==="list");return b?Ct(b.route,v==null?void 0:v.meta,a,h):""}else{let v=typeof s=="string"?Qe(s,e)??{name:s}:s,b=(C=ft(v,e).find(p=>p.action==="list"))==null?void 0:C.route;return b?n({to:Ct(b,v==null?void 0:v.meta,a,h),type:"path"}):""}},"listUrl");return{create:u((s,h="push",C={})=>{l(m(s,C),h)},"create"),createUrl:m,edit:u((s,h,C="push",v={})=>{l(c(s,h,v),C)},"edit"),editUrl:c,clone:u((s,h,C="push",v={})=>{l(f(s,h,v),C)},"clone"),cloneUrl:f,show:u((s,h,C="push",v={})=>{l(y(s,h,v),C)},"show"),showUrl:y,list:u((s,h="push",C={})=>{l(B(s,C),h)},"list"),listUrl:B,push:u((s,...h)=>{t==="legacy"?o.push(s,...h):n({to:s,type:"push"})},"push"),replace:u((s,...h)=>{t==="legacy"?o.replace(s,...h):n({to:s,type:"replace"})},"replace"),goBack:u(()=>{t==="legacy"?o.goBack():i()},"goBack")}},"useNavigation"),_i=V(d("react")),cm=V(d("warn-once")),mm=u(({resource:e,id:t,successNotification:r,errorNotification:o,meta:a,metaData:n,liveMode:i,onLiveEvent:l,dataProviderName:m,queryOptions:c,overtimeOptions:f}={})=>{let{resource:y,id:B,identifier:s}=ie(e),{identifier:h}=ie(),C=Ae(),v=u(()=>e&&e!==h?t:t??B,"getDefaultId")(),[b,p]=(0,_i.useState)(v);_i.default.useEffect(()=>{p(v)},[v]);let g=C({resource:y,meta:H(a,n)});(0,cm.default)(!!e&&!t,`[useShow]: resource: "${s}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`);let S=yn({resource:s,id:b??"",queryOptions:{enabled:b!==void 0,...c},successNotification:r,errorNotification:o,meta:g,metaData:g,liveMode:i,onLiveEvent:l,dataProviderName:m}),{elapsedTime:w}=He({isLoading:S.isFetching,interval:f==null?void 0:f.interval,onInterval:f==null?void 0:f.onInterval});return{queryResult:S,showId:b,setShowId:p,overtime:{elapsedTime:w}}},"useShow"),Go=d("react"),pm=d("papaparse"),fm=V(d("lodash/chunk")),vm=u(({resourceName:e,resource:t,mapData:r=u(f=>f,"mapData"),paparseOptions:o,batchSize:a=Number.MAX_SAFE_INTEGER,onFinish:n,meta:i,metaData:l,onProgress:m,dataProviderName:c}={})=>{let[f,y]=(0,Go.useState)(0),[B,s]=(0,Go.useState)(0),[h,C]=(0,Go.useState)(!1),{resource:v,identifier:b}=ie(t??e),p=Ae(),g=zs(),S=hn(),w=p({resource:v,meta:H(i,l)}),L;a===1?L=S:L=g;let P=u(()=>{s(0),y(0),C(!1)},"handleCleanup"),F=u(T=>{let N={succeeded:T.filter(D=>D.type==="success"),errored:T.filter(D=>D.type==="error")};n==null||n(N),C(!1)},"handleFinish");(0,Go.useEffect)(()=>{m==null||m({totalAmount:B,processedAmount:f})},[B,f]);let k=u(({file:T})=>(P(),new Promise(N=>{C(!0),(0,pm.parse)(T,{complete:async({data:D})=>{let I=ls(D,r);if(s(I.length),a===1){let A=I.map(q=>u(async()=>({response:await S.mutateAsync({resource:b??"",values:q,successNotification:!1,errorNotification:!1,dataProviderName:c,meta:w,metaData:w}),value:q}),"fn")),E=await pi(A,({response:q,value:M})=>(y($=>$+1),{response:[q.data],type:"success",request:[M]}),(q,M)=>({response:[q],type:"error",request:[I[M]]}));N(E)}else{let A=(0,fm.default)(I,a),E=A.map(M=>u(async()=>({response:await g.mutateAsync({resource:b??"",values:M,successNotification:!1,errorNotification:!1,dataProviderName:c,meta:w,metaData:w}),value:M,currentBatchLength:M.length}),"fn")),q=await pi(E,({response:M,currentBatchLength:$,value:z})=>(y(O=>O+$),{response:M.data,type:"success",request:z}),(M,$)=>({response:[M],type:"error",request:A[$]}));N(q)}},...o})}).then(N=>(F(N),N))),"handleChange");return{inputProps:{type:"file",accept:".csv",onChange:T=>{T.target.files&&T.target.files.length>0&&k({file:T.target.files[0]})}},mutationResult:L,isLoading:h,handleChange:k}},"useImport"),Qa=d("react"),gm=u(({defaultVisible:e=!1}={})=>{let[t,r]=(0,Qa.useState)(e),o=(0,Qa.useCallback)(()=>r(!0),[t]),a=(0,Qa.useCallback)(()=>r(!1),[t]);return{visible:t,show:o,close:a}},"useModal"),ym=u(({resource:e,action:t,meta:r,legacy:o})=>la()({resource:e,action:t,meta:r,legacy:o}),"useToPath"),Qi=V(d("react")),ua=u(()=>{let e=(0,Qi.useContext)(Eo);return e!=null&&e.Link?e.Link:u(({to:t,...r})=>Qi.default.createElement("a",{href:t,...r}),"FallbackLink")},"useLink"),hm=d("react"),rl=V(d("react")),ir={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},bm=rl.default.createContext(ir),Cn=bm,Pm=u(({children:e,useHistory:t,useLocation:r,useParams:o,Prompt:a,Link:n,routes:i})=>rl.default.createElement(Cn.Provider,{value:{useHistory:t??ir.useHistory,useLocation:r??ir.useLocation,useParams:o??ir.useParams,Prompt:a??ir.Prompt,Link:n??ir.Link,routes:i??ir.routes}},e),"LegacyRouterContextProvider"),ht=u(()=>{let e=(0,hm.useContext)(Cn),{useHistory:t,useLocation:r,useParams:o,Prompt:a,Link:n,routes:i}=e??ir;return{useHistory:t,useLocation:r,useParams:o,Prompt:a,Link:n,routes:i}},"useRouterContext"),Cm=d("@tanstack/react-query"),xm=d("react"),ol=V(d("react")),Io=ol.default.createContext({options:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}),wm=u(({can:e,children:t,options:r})=>ol.default.createElement(Io.Provider,{value:{can:e,options:r?{...r,buttons:{enableAccessControl:!0,hideIfUnauthorized:!1,...r.buttons}}:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}},t),"AccessControlContextProvider"),xn=u(e=>{if(!e)return;let{icon:t,list:r,edit:o,create:a,show:n,clone:i,children:l,meta:m,options:c,...f}=e,{icon:y,...B}=m??{},{icon:s,...h}=c??{};return{...f,...m?{meta:B}:{},...c?{options:h}:{}}},"sanitizeResource"),Lm=ce(),al=u(({action:e,resource:t,params:r,queryOptions:o})=>{let{can:a}=(0,xm.useContext)(Io),{keys:n,preferLegacyKeys:i}=me(),{resource:l,...m}=r??{},c=xn(l),f=(0,Cm.useQuery)(n().access().resource(t).action(e).params({params:{...m,resource:c},enabled:o==null?void 0:o.enabled}).get(i),()=>(a==null?void 0:a({action:e,resource:t,params:{...m,resource:c}}))??Promise.resolve({can:!0}),{enabled:typeof a<"u",...o,meta:{...o==null?void 0:o.meta,...(0,Lm.getXRay)("useCan",i)},retry:!1});return typeof a>"u"?{data:{can:!0}}:f},"useCan"),Ri=V(d("react")),Bm=u(()=>{let{can:e}=Ri.default.useContext(Io);return{can:Ri.default.useMemo(()=>e?u(async({params:t,...r})=>{let o=t!=null&&t.resource?xn(t.resource):void 0;return e({...r,...t?{params:{...t,resource:o}}:{}})},"canWithSanitizedResource"):void 0,[e])}},"useCanWithoutCache"),Rr=d("react"),Sm=V(d("lodash/uniqBy")),Tm=V(d("lodash/debounce")),Xo=V(d("lodash/get")),km=u(e=>{let[t,r]=(0,Rr.useState)([]),[o,a]=(0,Rr.useState)([]),[n,i]=(0,Rr.useState)([]),{resource:l,sort:m,sorters:c,filters:f=[],optionLabel:y="title",optionValue:B="id",debounce:s=300,successNotification:h,errorNotification:C,defaultValueQueryOptions:v,queryOptions:b,fetchSize:p,pagination:g,hasPagination:S=!1,liveMode:w,defaultValue:L=[],onLiveEvent:P,onSearch:F,liveParams:k,meta:T,metaData:N,dataProviderName:D,overtimeOptions:I}=e,{resource:A,identifier:E}=ie(l),q=Ae()({resource:A,meta:H(T,N)}),M=Array.isArray(L)?L:[L],$=(0,Rr.useCallback)(R=>{i(R.data.map(re=>({label:(0,Xo.default)(re,y),value:(0,Xo.default)(re,B)})))},[y,B]),z=v??b,O=Us({resource:E,ids:M,queryOptions:{...z,enabled:M.length>0&&((z==null?void 0:z.enabled)??!0),onSuccess:R=>{var re;$(R),(re=z==null?void 0:z.onSuccess)==null||re.call(z,R)}},meta:q,metaData:q,liveMode:"off",dataProviderName:D}),W=(0,Rr.useCallback)(R=>{a(R.data.map(re=>({label:(0,Xo.default)(re,y),value:(0,Xo.default)(re,B)})))},[y,B]),j=gn({resource:E,sorters:H(c,m),filters:f.concat(t),pagination:{current:g==null?void 0:g.current,pageSize:(g==null?void 0:g.pageSize)??p,mode:g==null?void 0:g.mode},hasPagination:S,queryOptions:{...b,onSuccess:R=>{var re;W(R),(re=b==null?void 0:b.onSuccess)==null||re.call(b,R)}},successNotification:h,errorNotification:C,meta:q,metaData:q,liveMode:w,liveParams:k,onLiveEvent:P,dataProviderName:D}),Q=u(R=>{if(F){r(F(R));return}if(R)r([{field:y,operator:"contains",value:R}]);else{r([]);return}},"onSearch"),{elapsedTime:K}=He({isLoading:j.isFetching||O.isFetching,interval:I==null?void 0:I.interval,onInterval:I==null?void 0:I.onInterval}),_=(0,Rr.useMemo)(()=>(0,Sm.default)([...o,...n],"value"),[o,n]);return{queryResult:j,defaultValueQueryResult:O,options:_,onSearch:(0,Tm.default)(Q,s),overtime:{elapsedTime:K}}},"useSelect"),Nr=V(d("react")),Gi=V(d("qs")),Zo=V(d("lodash/differenceWith")),Yo=V(d("lodash/isEqual")),Em=V(d("warn-once")),Xi=[],Zi=[];function nl({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:o,initialSorter:a,permanentSorter:n=Zi,defaultSetFilterBehavior:i,initialFilter:l,permanentFilter:m=Xi,filters:c,sorters:f,syncWithLocation:y,resource:B,successNotification:s,errorNotification:h,queryOptions:C,liveMode:v,onLiveEvent:b,liveParams:p,meta:g,metaData:S,dataProviderName:w,overtimeOptions:L}={}){var P,F,k,T,N;let{syncWithLocation:D}=As(),I=y??D,A=Zs(v),E=Oe(),{useLocation:q}=ht(),{search:M,pathname:$}=q(),z=Ae(),O=$t(),W=((c==null?void 0:c.mode)||"server")==="server",j=((f==null?void 0:f.mode)||"server")==="server",Q=r===!1?"off":"server",K=((o==null?void 0:o.mode)??Q)!=="off",_=H(o==null?void 0:o.current,e),R=H(o==null?void 0:o.pageSize,t),re=H(g,S),{parsedCurrent:be,parsedPageSize:de,parsedSorter:Le,parsedFilters:Qt}=dn(M??"?"),Vr=H(c==null?void 0:c.initial,l),dt=H(c==null?void 0:c.permanent,m)??Xi,Ir=H(f==null?void 0:f.initial,a),At=H(f==null?void 0:f.permanent,n)??Zi,Nt=H(c==null?void 0:c.defaultBehavior,i)??"merge",Dr,or,Kr,_r;I?(Dr=((P=O==null?void 0:O.params)==null?void 0:P.current)||be||_||1,or=((F=O==null?void 0:O.params)==null?void 0:F.pageSize)||de||R||10,Kr=((k=O==null?void 0:O.params)==null?void 0:k.sorters)||(Le.length?Le:Ir),_r=((T=O==null?void 0:O.params)==null?void 0:T.filters)||(Qt.length?Qt:Vr)):(Dr=_||1,or=R||10,Kr=Ir,_r=Vr);let{replace:jo}=Lt(),xo=wt(),{resource:Ia,identifier:Be}=ie(B),Mt=z({resource:Ia,meta:re});Nr.default.useEffect(()=>{(0,Em.default)(typeof Be>"u","useTable: `resource` is not defined.")},[Be]);let[Ie,Rt]=(0,Nr.useState)(rn(At,Kr??[])),[Ne,qt]=(0,Nr.useState)(tn(dt,_r??[])),[Ot,Gt]=(0,Nr.useState)(Dr),[Xt,_n]=(0,Nr.useState)(or),Su=u(({pagination:{current:De,pageSize:Pt},sorter:Vo,filters:Ko})=>{if(E==="new")return xo({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...K?{current:De,pageSize:Pt}:{},sorters:Vo,filters:Ko,...Qn()}})??"";{let wo=Gi.default.parse(M==null?void 0:M.substring(1)),Du=Ja({pagination:{pageSize:Pt,current:De},sorters:Ie??Vo,filters:Ko,...wo});return`${$??""}?${Du??""}`}},"createLinkForSyncWithLocation");(0,Nr.useEffect)(()=>{M===""&&(Gt(Dr),_n(or),Rt(rn(At,Kr??[])),qt(tn(dt,_r??[])))},[M]);let Qn=u(()=>{if(E==="new"){let{sorters:De,filters:Pt,pageSize:Vo,current:Ko,...wo}=(O==null?void 0:O.params)??{};return wo}else{let{sorter:De,filters:Pt,pageSize:Vo,current:Ko,...wo}=Gi.default.parse(M,{ignoreQueryPrefix:!0});return wo}},"currentQueryParams");(0,Nr.useEffect)(()=>{if(I){let De=Qn();if(E==="new")xo({type:"replace",options:{keepQuery:!0},query:{...K?{pageSize:Xt,current:Ot}:{},sorters:(0,Zo.default)(Ie,At,Yo.default),filters:(0,Zo.default)(Ne,dt,Yo.default)}});else{let Pt=Ja({...K?{pagination:{pageSize:Xt,current:Ot}}:{},sorters:(0,Zo.default)(Ie,At,Yo.default),filters:(0,Zo.default)(Ne,dt,Yo.default),...De});return jo==null?void 0:jo(`${$}?${Pt}`,void 0,{shallow:!0})}}},[I,Ot,Xt,Ie,Ne]);let Da=gn({resource:Be,hasPagination:r,pagination:{current:Ot,pageSize:Xt,mode:o==null?void 0:o.mode},filters:W?Bo(dt,Ne):void 0,sorters:j?en(At,Ie):void 0,queryOptions:C,successNotification:s,errorNotification:h,meta:Mt,metaData:Mt,liveMode:A,liveParams:p,onLiveEvent:b,dataProviderName:w}),Tu=u(De=>{qt(Pt=>Bo(dt,De,Pt))},"setFiltersAsMerge"),ku=u(De=>{qt(Bo(dt,De))},"setFiltersAsReplace"),Eu=u(De=>{qt(Pt=>Bo(dt,De(Pt)))},"setFiltersWithSetter"),Fu=u((De,Pt=Nt)=>{typeof De=="function"?Eu(De):Pt==="replace"?ku(De):Tu(De)},"setFiltersFn"),Rn=u(De=>{Rt(()=>en(At,De))},"setSortWithUnion"),{elapsedTime:Iu}=He({isLoading:Da.isFetching,interval:L==null?void 0:L.interval,onInterval:L==null?void 0:L.onInterval});return{tableQueryResult:Da,sorters:Ie,setSorters:Rn,sorter:Ie,setSorter:Rn,filters:Ne,setFilters:Fu,current:Ot,setCurrent:Gt,pageSize:Xt,setPageSize:_n,pageCount:Xt?Math.ceil((((N=Da.data)==null?void 0:N.total)??0)/Xt):1,createLinkForSyncWithLocation:Su,overtime:{elapsedTime:Iu}}}x(nl,"Gi");u(nl,"useTable");var Yi=d("react"),Ra=d("@tanstack/react-query"),il=V(d("react")),da=il.default.createContext({}),Fm=u(({create:e,get:t,update:r,children:o})=>il.default.createElement(da.Provider,{value:{create:e,get:t,update:r}},o),"AuditLogContextProvider"),Ji=ce(),$r=u(({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,Ra.useQueryClient)(),o=(0,Yi.useContext)(da),{keys:a,preferLegacyKeys:n}=me(),i=qe(),{resources:l}=(0,Yi.useContext)(ko),{data:m,refetch:c,isLoading:f}=cn({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy),queryOptions:{enabled:!!(o!=null&&o.create)}}),y=(0,Ra.useMutation)(async s=>{var h,C,v,b,p;let g=Qe(s.resource,l),S=H((h=g==null?void 0:g.meta)==null?void 0:h.audit,(C=g==null?void 0:g.options)==null?void 0:C.audit,(b=(v=g==null?void 0:g.options)==null?void 0:v.auditLog)==null?void 0:b.permissions);if(S&&!xd(S,s.action))return;let w;return f&&o!=null&&o.create&&(w=await c()),await((p=o.create)==null?void 0:p.call(o,{...s,author:m??(w==null?void 0:w.data)}))},{mutationKey:a().audit().action("log").get(),...e,meta:{...e==null?void 0:e.meta,...(0,Ji.getXRay)("useLog",n)}}),B=(0,Ra.useMutation)(async s=>{var h;return await((h=o.update)==null?void 0:h.call(o,s))},{onSuccess:s=>{s!=null&&s.resource&&r.invalidateQueries(a().audit().resource((s==null?void 0:s.resource)??"").action("list").get(n))},mutationKey:a().audit().action("rename").get(),...t,meta:{...t==null?void 0:t.meta,...(0,Ji.getXRay)("useLog",n)}});return{log:y,rename:B}},"useLog"),Im=d("react"),Dm=d("@tanstack/react-query"),Am=ce(),Nm=u(({resource:e,action:t,meta:r,author:o,metaData:a,queryOptions:n})=>{let{get:i}=(0,Im.useContext)(da),{keys:l,preferLegacyKeys:m}=me();return(0,Dm.useQuery)(l().audit().resource(e).action("list").params(r).get(m),()=>(i==null?void 0:i({resource:e,action:t,author:o,meta:r,metaData:a}))??Promise.resolve([]),{enabled:typeof i<"u",...n,retry:!1,meta:{...n==null?void 0:n.meta,...(0,Am.getXRay)("useLogList",m)}})},"useLogList"),Mm=d("react"),qm=V(d("warn-once")),Om=u(({meta:e={}}={})=>{let t=Oe(),{i18nProvider:r}=(0,Mm.useContext)(Ur),o=$t(),a=ye(),{resources:n,resource:i,action:l}=ie(),{options:{textTransformers:m}}=it(),c=[];if(!(i!=null&&i.name))return{breadcrumbs:c};let f=u(y=>{var B,s,h,C,v,b;let p=typeof y=="string"?Qe(y,n,t==="legacy")??{name:y}:y;if(p){let g=H((B=p==null?void 0:p.meta)==null?void 0:B.parent,p==null?void 0:p.parentName);g&&f(g);let S=ft(p,n,t==="legacy").find(P=>P.action==="list"),w=(s=S==null?void 0:S.resource)!=null&&s.list?S==null?void 0:S.route:void 0,L=w?t==="legacy"?w:Ct(w,p==null?void 0:p.meta,o,e):void 0;c.push({label:H((h=p.meta)==null?void 0:h.label,(C=p.options)==null?void 0:C.label)??a(`${p.name}.${p.name}`,m.humanize(p.name)),href:L,icon:H((v=p.meta)==null?void 0:v.icon,(b=p.options)==null?void 0:b.icon,p.icon)})}},"addBreadcrumb");if(f(i),l&&l!=="list"){let y=`actions.${l}`,B=a(y);typeof r<"u"&&B===y?((0,qm.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${l}" action. Please add "actions.${l}" key to your translation file.
For more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`),c.push({label:a(`buttons.${l}`,m.humanize(l))})):c.push({label:a(y,m.humanize(l))})}return{breadcrumbs:c}},"useBreadcrumb"),Ga=V(d("react")),ta=u((e,t,r=!1)=>{let o=[],a=sr(e,t);for(;a;)o.push(a),a=sr(a,t);return o.reverse(),`/${[...o,e].map(n=>Zt((r?n.route:void 0)??n.identifier??n.name)).join("/").replace(/^\//,"")}`},"createResourceKey"),Um=u((e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(a=>{let n=[],i=sr(a,e);for(;i;)n.push(i),i=sr(i,e);n.reverse();let l=r;n.forEach(c=>{let f=(t?c.route:void 0)??c.identifier??c.name;l.children[f]||(l.children[f]={item:c,children:{}}),l=l.children[f]});let m=(t?a.route:void 0)??a.identifier??a.name;l.children[m]||(l.children[m]={item:a,children:{}})});let o=u(a=>{let n=[];return Object.keys(a.children).forEach(i=>{let l=ta(a.children[i].item,e,t),m={...a.children[i].item,key:l,children:o(a.children[i])};n.push(m)}),n},"flatten");return o(r)},"createTree"),es=u(e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),"getCleanPath"),$m=u(({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=ye(),o=la(),a=Oe(),{resource:n,resources:i}=ie(),{pathname:l}=$t(),{useLocation:m}=ht(),{pathname:c}=m(),f=un(),y=`/${((a==="legacy"?es(c):l?es(l):void 0)??"").replace(/^\//,"")}`,B=n?ta(n,i,a==="legacy"):y??"",s=Ga.default.useMemo(()=>{if(!n)return[];let v=sr(n,i),b=[ta(n,i)];for(;v;)b.push(ta(v,i)),v=sr(v,i);return b},[]),h=Ga.default.useCallback(v=>{var b,p,g,S,w,L;if((((b=v==null?void 0:v.meta)==null?void 0:b.hide)??((p=v==null?void 0:v.options)==null?void 0:p.hide))||!(v!=null&&v.list)&&v.children.length===0)return;let P=v.list?o({resource:v,action:"list",legacy:a==="legacy",meta:e}):void 0;if(!(t&&P&&P.match(/(\/|^):(.+?)(\/|$){1}/)))return{...v,route:P,icon:H((g=v.meta)==null?void 0:g.icon,(S=v.options)==null?void 0:S.icon,v.icon),label:H((w=v==null?void 0:v.meta)==null?void 0:w.label,(L=v==null?void 0:v.options)==null?void 0:L.label)??r(`${v.name}.${v.name}`,f(v.name,"plural"))}},[a,e,r,t]),C=Ga.default.useMemo(()=>{let v=Um(i,a==="legacy"),b=u(p=>p.flatMap(g=>{let S=b(g.children),w=h({...g,children:S});return w?[w]:[]}),"prepare");return b(v)},[i,a,h]);return{defaultOpenKeys:s,selectedKey:B,menuItems:C}},"useMenu"),Ae=u(()=>{let{params:e}=$t();return u(({resource:t,meta:r}={})=>{let{meta:o}=xn(t)??{meta:{}},{filters:a,sorters:n,current:i,pageSize:l,...m}=e??{};return{...o,...m,...r}},"getMetaFn")},"useMeta"),zm=u(()=>{let[e,t]=(0,Ar.useState)(),r=ye(),{push:o}=Lt(),a=wt(),n=Oe(),{resource:i,action:l}=ie();return(0,Ar.useEffect)(()=>{i&&l&&t(r("pages.error.info",{action:l,resource:i.name},`You may have forgotten to add the "${l}" component to "${i.name}" resource.`))},[i,l]),Ar.default.createElement(Ar.default.Fragment,null,Ar.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&Ar.default.createElement("p",null,e),Ar.default.createElement("button",{onClick:()=>{n==="legacy"?o("/"):a({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},"ErrorComponent"),Me=V(d("react")),sl=u(()=>{let[e,t]=(0,Me.useState)(""),[r,o]=(0,Me.useState)(""),a=ye(),n=qe(),{mutate:i}=ia({v3LegacyAuthProviderCompatible:!!(n!=null&&n.isLegacy)});return Me.default.createElement(Me.default.Fragment,null,Me.default.createElement("h1",null,a("pages.login.title","Sign in your account")),Me.default.createElement("form",{onSubmit:l=>{l.preventDefault(),i({username:e,password:r})}},Me.default.createElement("table",null,Me.default.createElement("tbody",null,Me.default.createElement("tr",null,Me.default.createElement("td",null,a("pages.login.username",void 0,"username"),":"),Me.default.createElement("td",null,Me.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:l=>t(l.target.value)}))),Me.default.createElement("tr",null,Me.default.createElement("td",null,a("pages.login.password",void 0,"password"),":"),Me.default.createElement("td",null,Me.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:l=>o(l.target.value)}))))),Me.default.createElement("br",null),Me.default.createElement("input",{type:"submit",value:"login"})))},"LoginPage"),Gr=V(d("react")),ge=V(d("react")),Hm=u(({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:o,contentProps:a,wrapperProps:n,renderContent:i,formProps:l,title:m=void 0})=>{let c=Oe(),f=ua(),{Link:y}=ht(),B=c==="legacy"?y:f,[s,h]=(0,ge.useState)(""),[C,v]=(0,ge.useState)(""),[b,p]=(0,ge.useState)(!1),g=ye(),S=qe(),{mutate:w}=ia({v3LegacyAuthProviderCompatible:!!(S!=null&&S.isLegacy)}),L=u((k,T)=>ge.default.createElement(B,{to:k},T),"renderLink"),P=u(()=>e?e.map(k=>ge.default.createElement("div",{key:k.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ge.default.createElement("button",{onClick:()=>w({providerName:k.name}),style:{display:"flex",alignItems:"center"}},k==null?void 0:k.icon,k.label??ge.default.createElement("label",null,k.label)))):null,"renderProviders"),F=ge.default.createElement("div",{...a},ge.default.createElement("h1",{style:{textAlign:"center"}},g("pages.login.title","Sign in to your account")),P(),ge.default.createElement("hr",null),ge.default.createElement("form",{onSubmit:k=>{k.preventDefault(),w({email:s,password:C,remember:b})},...l},ge.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ge.default.createElement("label",{htmlFor:"email-input"},g("pages.login.fields.email","Email")),ge.default.createElement("input",{id:"email-input",name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:s,onChange:k=>h(k.target.value)}),ge.default.createElement("label",{htmlFor:"password-input"},g("pages.login.fields.password","Password")),ge.default.createElement("input",{id:"password-input",type:"password",name:"password",required:!0,size:20,value:C,onChange:k=>v(k.target.value)}),o??ge.default.createElement(ge.default.Fragment,null,ge.default.createElement("label",{htmlFor:"remember-me-input"},g("pages.login.buttons.rememberMe","Remember me"),ge.default.createElement("input",{id:"remember-me-input",name:"remember",type:"checkbox",size:20,checked:b,value:b.toString(),onChange:()=>{p(!b)}}))),ge.default.createElement("br",null),r??L("/forgot-password",g("pages.login.buttons.forgotPassword","Forgot password?")),ge.default.createElement("input",{type:"submit",value:g("pages.login.signin","Sign in")}),t??ge.default.createElement("span",null,g("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",L("/register",g("pages.login.register","Sign up"))))));return ge.default.createElement("div",{...n},i?i(F,m):F)},"LoginPage"),Te=V(d("react")),Wm=u(({providers:e,loginLink:t,wrapperProps:r,contentProps:o,renderContent:a,formProps:n,title:i=void 0})=>{let l=Oe(),m=ua(),{Link:c}=ht(),f=l==="legacy"?c:m,[y,B]=(0,Te.useState)(""),[s,h]=(0,Te.useState)(""),C=ye(),v=qe(),{mutate:b,isLoading:p}=pn({v3LegacyAuthProviderCompatible:!!(v!=null&&v.isLegacy)}),g=u((L,P)=>Te.default.createElement(f,{to:L},P),"renderLink"),S=u(()=>e?e.map(L=>Te.default.createElement("div",{key:L.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},Te.default.createElement("button",{onClick:()=>b({providerName:L.name}),style:{display:"flex",alignItems:"center"}},L==null?void 0:L.icon,L.label??Te.default.createElement("label",null,L.label)))):null,"renderProviders"),w=Te.default.createElement("div",{...o},Te.default.createElement("h1",{style:{textAlign:"center"}},C("pages.register.title","Sign up for your account")),S(),Te.default.createElement("hr",null),Te.default.createElement("form",{onSubmit:L=>{L.preventDefault(),b({email:y,password:s})},...n},Te.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Te.default.createElement("label",{htmlFor:"email-input"},C("pages.register.fields.email","Email")),Te.default.createElement("input",{id:"email-input",name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:y,onChange:L=>B(L.target.value)}),Te.default.createElement("label",{htmlFor:"password-input"},C("pages.register.fields.password","Password")),Te.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:s,onChange:L=>h(L.target.value)}),Te.default.createElement("input",{type:"submit",value:C("pages.register.buttons.submit","Sign up"),disabled:p}),t??Te.default.createElement(Te.default.Fragment,null,Te.default.createElement("span",null,C("pages.login.buttons.haveAccount","Have an account?")," ",g("/login",C("pages.login.signin","Sign in")))))));return Te.default.createElement("div",{...r},a?a(w,i):w)},"RegisterPage"),ct=V(d("react")),jm=u(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:o,formProps:a,title:n=void 0})=>{let i=ye(),l=Oe(),m=ua(),{Link:c}=ht(),f=l==="legacy"?c:m,[y,B]=(0,ct.useState)(""),{mutate:s,isLoading:h}=fn(),C=u((b,p)=>ct.default.createElement(f,{to:b},p),"renderLink"),v=ct.default.createElement("div",{...r},ct.default.createElement("h1",{style:{textAlign:"center"}},i("pages.forgotPassword.title","Forgot your password?")),ct.default.createElement("hr",null),ct.default.createElement("form",{onSubmit:b=>{b.preventDefault(),s({email:y})},...a},ct.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ct.default.createElement("label",{htmlFor:"email-input"},i("pages.forgotPassword.fields.email","Email")),ct.default.createElement("input",{id:"email-input",name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:y,onChange:b=>B(b.target.value)}),ct.default.createElement("input",{type:"submit",disabled:h,value:i("pages.forgotPassword.buttons.submit","Send reset instructions")}),ct.default.createElement("br",null),e??ct.default.createElement("span",null,i("pages.register.buttons.haveAccount","Have an account? ")," ",C("/login",i("pages.login.signin","Sign in"))))));return ct.default.createElement("div",{...t},o?o(v,n):v)},"ForgotPasswordPage"),mt=V(d("react")),Vm=u(({wrapperProps:e,contentProps:t,renderContent:r,formProps:o,title:a=void 0})=>{let n=ye(),i=qe(),{mutate:l,isLoading:m}=vn({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy)}),[c,f]=(0,mt.useState)(""),[y,B]=(0,mt.useState)(""),s=mt.default.createElement("div",{...t},mt.default.createElement("h1",{style:{textAlign:"center"}},n("pages.updatePassword.title","Update Password")),mt.default.createElement("hr",null),mt.default.createElement("form",{onSubmit:h=>{h.preventDefault(),l({password:c,confirmPassword:y})},...o},mt.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},mt.default.createElement("label",{htmlFor:"password-input"},n("pages.updatePassword.fields.password","New Password")),mt.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:c,onChange:h=>f(h.target.value)}),mt.default.createElement("label",{htmlFor:"confirm-password-input"},n("pages.updatePassword.fields.confirmPassword","Confirm New Password")),mt.default.createElement("input",{id:"confirm-password-input",name:"confirmPassword",type:"password",required:!0,size:20,value:y,onChange:h=>B(h.target.value)}),mt.default.createElement("input",{type:"submit",disabled:m,value:n("pages.updatePassword.buttons.submit","Update")}))));return mt.default.createElement("div",{...e},r?r(s,a):s)},"UpdatePasswordPage"),Km=u(e=>{let{type:t}=e;return Gr.default.createElement(Gr.default.Fragment,null,u(()=>{switch(t){case"register":return Gr.default.createElement(Wm,{...e});case"forgotPassword":return Gr.default.createElement(jm,{...e});case"updatePassword":return Gr.default.createElement(Vm,{...e});default:return Gr.default.createElement(Hm,{...e})}},"renderView")())},"AuthPage"),at=V(d("react")),ll=u(()=>at.default.createElement(at.default.Fragment,null,at.default.createElement("h1",null,"Welcome on board"),at.default.createElement("p",null,"Your configuration is completed."),at.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",at.default.createElement("code",null,"`resources`")," property of ",at.default.createElement("code",null,"`<Refine>`")),at.default.createElement("div",{style:{display:"flex",gap:8}},at.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},at.default.createElement("button",null,"Documentation")),at.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},at.default.createElement("button",null,"Examples")),at.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},at.default.createElement("button",null,"Community")))),"ReadyPage"),le=V(d("react")),_m=[{title:"Documentation",description:"Learn about the technical details of using refine in your projects.",link:"https://refine.dev/",icon:le.default.createElement("svg",{width:"14",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},le.default.createElement("path",{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V5a1 1 0 0 0-1-1H3a1 1 0 0 1 0-2h10a1 1 0 1 0 0-2H2Z",fill:"#fff"}))},{title:"Tutorial",description:"Learn how to use refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/docs/tutorial/introduction/index/",icon:le.default.createElement("svg",{width:"16",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},le.default.createElement("path",{d:"M0 4.573c0-.475.163-.948.53-1.25a4.57 4.57 0 0 1 .854-.553L5.956.485a4.571 4.571 0 0 1 4.088 0l4.572 2.285c.308.154.594.34.853.553.306.251.47.62.517 1.01.01.055.014.112.014.169v6.5a1 1 0 0 1-2 0V6.684l-3.956 1.978a4.571 4.571 0 0 1-4.088 0L1.384 6.376a4.57 4.57 0 0 1-.853-.553C.163 5.522 0 5.05 0 4.573Z",fill:"#fff"}),le.default.createElement("path",{d:"M5.061 13.305 3 12.274V9.42l2.061 1.031a6.571 6.571 0 0 0 5.878 0L13 9.421v2.853l-2.061 1.03a6.571 6.571 0 0 1-5.878 0Z",fill:"#fff"}))},{title:"Examples",description:"A collection of reference applications you can use as a starting point.",link:"https://refine.dev/examples",icon:le.default.createElement("svg",{width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},le.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4H0V2Zm3 2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm4-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm2 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",fill:"#fff"}),le.default.createElement("path",{d:"M0 14V8h16v6a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2Z",fill:"#fff"}))},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",icon:le.default.createElement("svg",{width:"16",height:"12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},le.default.createElement("path",{d:"M13.553 1.005A13.334 13.334 0 0 0 10.253 0c-.156.276-.298.56-.423.85a12.42 12.42 0 0 0-3.664 0A8.975 8.975 0 0 0 5.744 0 13.43 13.43 0 0 0 2.44 1.007C.351 4.066-.215 7.05.068 9.99A13.36 13.36 0 0 0 4.116 12c.328-.436.618-.9.867-1.384a8.647 8.647 0 0 1-1.365-.645c.115-.082.227-.167.335-.249a9.594 9.594 0 0 0 8.094 0c.11.089.222.173.335.25-.436.254-.894.47-1.368.646.249.484.539.946.867 1.382a13.3 13.3 0 0 0 4.051-2.01c.332-3.41-.568-6.365-2.379-8.985Zm-8.21 7.176c-.79 0-1.442-.709-1.442-1.58 0-.872.63-1.587 1.439-1.587s1.456.715 1.442 1.586c-.014.872-.636 1.58-1.44 1.58Zm5.315 0c-.79 0-1.44-.709-1.44-1.58 0-.872.63-1.587 1.44-1.587.81 0 1.452.715 1.438 1.586-.014.872-.634 1.58-1.438 1.58Z",fill:"#fff"}))}],Qm=u(()=>{let e=vi("(max-width: 1010px)"),t=vi("(max-width: 650px)"),r=u(()=>t?"1, 280px":e?"2, 280px":"4, 208px","getGridTemplateColumns"),o=u(()=>t?"32px":e?"40px":"48px","getHeaderFontSize"),a=u(()=>t?"16px":e?"20px":"24px","getSubHeaderFontSize");return le.default.createElement("div",{style:{backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-page.webp)",backgroundPosition:"center top",backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"100vh",backgroundColor:"#0D0D12",fontFamily:"Arial",color:"#FFFFFF"}},le.default.createElement("div",{style:{height:"89px"}}),le.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},le.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-logo.webp",width:"198",height:"54"})),le.default.createElement("div",{style:{height:e?"270px":"22vw",minHeight:e?"270px":"313px"}}),le.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},le.default.createElement("h1",{style:{fontSize:o(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),le.default.createElement("h4",{style:{fontSize:a(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),le.default.createElement("div",{style:{height:"64px"}}),le.default.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",maxWidth:"976px",margin:"auto"}},_m.map(n=>le.default.createElement(Rm,{key:`welcome-page-${n.title}`,card:n}))),le.default.createElement("div",{style:{height:"64px"}}))},"WelcomePage"),Rm=u(({card:e})=>{let{title:t,description:r,icon:o,link:a}=e,[n,i]=(0,le.useState)(!1);return le.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},le.default.createElement("div",{style:{display:"flex",alignItems:"center"}},le.default.createElement("a",{onPointerEnter:()=>i(!0),onPointerLeave:()=>i(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:a},o,le.default.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),le.default.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...n&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},le.default.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),le.default.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))},"Card"),Pe=V(d("react")),Xa=d("@tanstack/react-query"),Gm=ce(),ts=V(d("react")),Mr=d("react"),Xm="4.45.0",Zm=u(()=>{var e;let t=Os(),r=(0,Mr.useContext)(da),o=(0,Mr.useContext)(To),a=(0,Mr.useContext)(Cn),n=(0,Mr.useContext)(bn),{i18nProvider:i}=(0,Mr.useContext)(Ur),l=(0,Mr.useContext)(Pn),m=(0,Mr.useContext)(Io),{resources:c}=ie(),f=it(),y=!!r.create||!!r.get||!!r.update,B=!!(o!=null&&o.publish)||!!(o!=null&&o.subscribe)||!!(o!=null&&o.unsubscribe),s=!!a.useHistory||!!a.Link||!!a.Prompt||!!a.useLocation||!!a.useParams,h=!!n,C=!!(i!=null&&i.changeLocale)||!!(i!=null&&i.getLocale)||!!(i!=null&&i.translate),v=!!l.close||!!l.open,b=!!m.can,p=(e=f==null?void 0:f.options)==null?void 0:e.projectId;return{providers:{auth:t,auditLog:y,live:B,router:s,data:h,i18n:C,notification:v,accessControl:b},version:Xm,resourceCount:c.length,projectId:p}},"useTelemetryData"),Ym=u(e=>{try{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")}catch{return}},"encode"),Jm=u(e=>{let t=new Image;t.src=e},"throughImage"),ep=u(e=>{fetch(e)},"throughFetch"),tp=u(e=>{typeof Image<"u"?Jm(e):typeof fetch<"u"&&ep(e)},"transport"),rp=u(()=>{let e=Zm(),t=ts.default.useRef(!1);return ts.default.useEffect(()=>{if(t.current)return;let r=Ym(e);r&&(tp(`https://telemetry.refine.dev/telemetry?payload=${r}`),t.current=!0)},[]),null},"Telemetry"),op=u(e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(o=>!t.includes(o));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},"checkRouterPropMisuse"),rs=V(d("react")),ap=u(e=>{let t=rs.default.useRef(!1);rs.default.useEffect(()=>{t.current===!1&&e&&op(e)&&(t.current=!0)},[e])},"useRouterMisuseWarning"),np=u(({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:o,routerProvider:a,notificationProvider:n,accessControlProvider:i,auditLogProvider:l,resources:m,DashboardPage:c,ReadyPage:f,LoginPage:y,catchAll:B,children:s,liveProvider:h,i18nProvider:C,Title:v,Layout:b,Sider:p,Header:g,Footer:S,OffLayoutArea:w,onLiveEvent:L,options:P})=>{let{optionsWithDefaults:F,disableTelemetryWithDefault:k,reactQueryWithDefaults:T}=Id({options:P}),N=Vs(()=>{var A;return T.clientConfig instanceof Xa.QueryClient?T.clientConfig:new Xa.QueryClient({...T.clientConfig,defaultOptions:{...T.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(A=T.clientConfig.defaultOptions)==null?void 0:A.queries}}})},[T.clientConfig]);(0,Gm.useQuerySubscription)(N);let D=Pe.default.useMemo(()=>typeof n=="function"?n:()=>n??{},[n])();if(ap(a),o&&!a&&(m??[]).length===0)return f?Pe.default.createElement(f,null):Pe.default.createElement(ll,null);let{RouterComponent:I=Pe.default.Fragment}=a?{}:o??{};return Pe.default.createElement(Xa.QueryClientProvider,{client:N},Pe.default.createElement(Zc,{...D},Pe.default.createElement(Md,{...e??{},isProvided:!!e},Pe.default.createElement(qd,{...t??{},isProvided:!!t},Pe.default.createElement(Fc,{...r},Pe.default.createElement(Nc,{liveProvider:h},Pe.default.createElement(jc,{value:o&&!a?"legacy":"new"},Pe.default.createElement(Kc,{router:a},Pe.default.createElement(Pm,{...o},Pe.default.createElement(Wc,{resources:m??[]},Pe.default.createElement(Jc,{i18nProvider:C},Pe.default.createElement(wm,{...i??{}},Pe.default.createElement(Fm,{...l??{}},Pe.default.createElement(cc,null,Pe.default.createElement(Fd,{mutationMode:F.mutationMode,warnWhenUnsavedChanges:F.warnWhenUnsavedChanges,syncWithLocation:F.syncWithLocation,Title:v,undoableTimeout:F.undoableTimeout,catchAll:B,DashboardPage:c,LoginPage:y,Layout:b,Sider:p,Footer:S,Header:g,OffLayoutArea:w,hasDashboard:!!c,liveMode:F.liveMode,onLiveEvent:L,options:F},Pe.default.createElement(Ud,null,Pe.default.createElement(I,null,s,!k&&Pe.default.createElement(rp,null),Pe.default.createElement(cl,null))))))))))))))))))},"Refine"),os=d("react"),ul=u(({notification:e})=>{let t=ye(),{notificationDispatch:r}=Jr(),{open:o}=ur(),[a,n]=(0,os.useState)(),i=u(()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||o==null||o({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:Ma(e.seconds)},`You have ${Ma(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:Ma(e.seconds)}),e.seconds>0)){a&&clearTimeout(a);let l=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);n(l)}},"cancelNotification");return(0,os.useEffect)(()=>{i()},[e]),null},"UndoableQueue"),oa=V(d("react")),ip=u(({children:e,Layout:t,Sider:r,Header:o,Title:a,Footer:n,OffLayoutArea:i})=>{let{Layout:l,Footer:m,Header:c,Sider:f,Title:y,OffLayoutArea:B}=it();return oa.default.createElement(t??l,{Sider:r??f,Header:o??c,Footer:n??m,Title:a??y,OffLayoutArea:i??B},e,oa.default.createElement(sp,null))},"LayoutWrapper"),sp=u(()=>{let{Prompt:e}=ht(),t=ye(),{warnWhen:r,setWarnWhen:o}=ln(),a=u(n=>(n.preventDefault(),n.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),n.returnValue),"warnWhenListener");return(0,oa.useEffect)(()=>(r&&window.addEventListener("beforeunload",a),window.removeEventListener("beforeunload",a)),[r]),oa.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:o})},"UnsavedPrompt"),vt=V(d("react")),lp=u(()=>{let e=wt(),[t,r]=vt.default.useState(void 0);return vt.default.useEffect(()=>{t&&e(t)},[t]),vt.default.useCallback(o=>{t||r(o)},[t])},"useDeferredGo");function dl({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:o,loading:a}){var n;let i=qe(),l=Oe(),m=!!(i!=null&&i.isProvided),c=!!(i!=null&&i.isLegacy),f=l==="legacy",y=$t(),B=wt(),s=lp(),{replace:h}=Lt(),{useLocation:C}=ht(),v=C(),{isLoading:b,isFetching:p,isSuccess:g,data:{authenticated:S,redirectTo:w}={},refetch:L}=sa({v3LegacyAuthProviderCompatible:c});vt.default.useEffect(()=>{L()},[r,o]);let P=vt.default.useRef({status:b?"initial":"pending",content:a??null});p?P.current.status="pending":p||(P.current.status="settled");let F=m?c?g:S:!0;if(P.current.status==="settled")if(F)P.current.content=vt.default.createElement(vt.default.Fragment,null,r??null);else if(typeof o<"u")P.current.content=vt.default.createElement(vt.default.Fragment,null,o);else{let k=`${f?v==null?void 0:v.pathname:y.pathname}`.replace(/(\?.*|#.*)$/,""),T=c?typeof e=="string"?e:"/login":typeof e=="string"?e:w;if(T)if(f){let N=t?`?to=${encodeURIComponent(k)}`:"";h(`${T}${N}`)}else s({to:T,query:t?{to:(n=y.params)!=null&&n.to?y.params.to:B({to:k,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"})}return m?vt.default.createElement(vt.default.Fragment,null,P.current.content):vt.default.createElement(vt.default.Fragment,null,r??null)}x(dl,"mi");u(dl,"Authenticated");var up=d("react"),cl=u(()=>{let{useLocation:e}=ht(),{checkAuth:t}=xt(),r=e();return(0,up.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},"RouteChangeHandler"),qr=V(d("react")),dp=u(({resource:e,action:t,params:r,fallback:o,onUnauthorized:a,children:n,...i})=>{let{resource:l,id:m,action:c}=ie(e),{identifier:f}=ie(),y=u(()=>{let v=(r==null?void 0:r.id)??m;return e&&e!==f?r==null?void 0:r.id:v},"getDefaultId")(),B=e??(l==null?void 0:l.name),s=t??c??"",h=r??{id:y,resource:l},{data:C}=al({resource:B,action:s,params:h});return(0,qr.useEffect)(()=>{a&&(C==null?void 0:C.can)===!1&&a({resource:B,action:s,reason:C==null?void 0:C.reason,params:h})},[C==null?void 0:C.can]),C!=null&&C.can?qr.default.isValidElement(n)?qr.default.cloneElement(n,i):qr.default.createElement(qr.default.Fragment,null,n):(C==null?void 0:C.can)===!1?qr.default.createElement(qr.default.Fragment,null,o??null):null},"CanAccess"),ar=V(d("react")),cp=[`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .banner::before,
    .banner::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    `,`
    .banner::before {
        background-image: linear-gradient(
            270deg,
            rgba(255, 76, 77, 0.35) 0%,
            rgba(255, 153, 51, 0.35) 12.5%,
            rgba(255, 191, 0, 0.35) 25%,
            rgba(38, 217, 127, 0.35) 37.5%,
            rgba(71, 235, 235, 0.35) 50%,
            rgba(0, 128, 255, 0.35) 62.5%,
            rgba(51, 51, 255, 0.35) 75%,
            rgba(128, 0, 255, 0.35) 87.5%,
            rgba(237, 94, 201, 0.35) 100%
        );
        background-position: 0 0;
        background-size: 200% 100%;
        background-repeat: repeat-x;
        animation: bgpos 4s linear infinite;
      }
    `,`
    .banner::after {
        background: linear-gradient(
          180deg,
          rgba(13, 13, 13, 0.85) 0%,
          rgba(13, 13, 13, 0) 100%
        );
    }
    `,`
    @keyframes bgpos {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
    `,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `],mp=u(()=>{(0,ar.useEffect)(()=>{let t=document.createElement("style");document.head.appendChild(t),cp.forEach(r=>{var o;return(o=t.sheet)==null?void 0:o.insertRule(r,t.sheet.cssRules.length)})},[]);let e=["Be a part of our journey. Star Refine on GitHub!","Join our community. Star Refine on GitHub!","Let's elevate Refine together. Star us on GitHub!","Enhance Refine's reach. Give us a star on GitHub!"];return ar.default.createElement("div",{className:"banner",style:{flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",padding:"8px 16px",backgroundColor:"#0d0d0d",borderBottom:"1px solid rgba(255, 255, 255, 0.15)"}},ar.default.createElement("div",{style:{width:"200px"}}),ar.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer"},ar.default.createElement("div",{className:"content",style:{position:"relative",zIndex:2,color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},ar.default.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},"\u2B50\uFE0F"),ar.default.createElement("span",{className:"text",style:{padding:"4px 0",fontSize:"16px",lineHeight:"24px",textShadow:"0px 0px 4px rgba(255, 255, 255, 0.5)"}},e[Math.floor(Math.random()*e.length)]),ar.default.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},"\u2B50\uFE0F"))))},"GitHubBanner"),pt=V(d("react")),pp=u(({status:e,elements:{success:t=pt.default.createElement(Jo,{key:"autoSave.success",defaultMessage:"saved"}),error:r=pt.default.createElement(Jo,{key:"autoSave.error",defaultMessage:"auto save failure"}),loading:o=pt.default.createElement(Jo,{key:"autoSave.loading",defaultMessage:"saving..."}),idle:a=pt.default.createElement(Jo,{key:"autoSave.idle",defaultMessage:"waiting for changes"})}={}})=>{switch(e){case"success":return pt.default.createElement(pt.default.Fragment,null,t);case"error":return pt.default.createElement(pt.default.Fragment,null,r);case"loading":return pt.default.createElement(pt.default.Fragment,null,o);default:return pt.default.createElement(pt.default.Fragment,null,a)}},"AutoSaveIndicator"),Jo=u(({key:e,defaultMessage:t})=>{let r=ye();return pt.default.createElement("span",null,r(e,t))},"Message")});var ot=Lo((kv,kl)=>{var Ln=Object.defineProperty,hp=Object.getOwnPropertyDescriptor,bp=Object.getOwnPropertyNames,Pp=Object.prototype.hasOwnProperty,Cp=x((e,t)=>{for(var r in t)Ln(e,r,{get:t[r],enumerable:!0})},"R"),xp=x((e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of bp(t))!Pp.call(e,a)&&a!==r&&Ln(e,a,{get:()=>t[a],enumerable:!(o=hp(t,a))||o.enumerable});return e},"a"),wp=x(e=>xp(Ln({},"__esModule",{value:!0}),e),"P"),Tl={};Cp(Tl,{RefineButtonClassNames:()=>Sp,RefineButtonTestIds:()=>Lp,RefinePageHeaderClassNames:()=>Bp});kl.exports=wp(Tl);var Lp={CloneButton:"refine-clone-button",DeleteButton:"refine-delete-button",EditButton:"refine-edit-button",SaveButton:"refine-save-button",CreateButton:"refine-create-button",ImportButton:"refine-import-button",ExportButton:"refine-export-button",ListButton:"refine-list-button",RefreshButton:"refine-refresh-button",ShowButton:"refine-show-button"},Bp={Title:"refine-pageHeader-title",SubTitle:"refine-pageHeader-subTitle"},Sp={CloneButton:"refine-clone-button",DeleteButton:"refine-delete-button",EditButton:"refine-edit-button",SaveButton:"refine-save-button",CreateButton:"refine-create-button",ImportButton:"refine-import-button",ExportButton:"refine-export-button",ListButton:"refine-list-button",RefreshButton:"refine-refresh-button",ShowButton:"refine-show-button"}});var Wo=Lo((gy,du)=>{var Ap=Object.create,Ho=Object.defineProperty,Np=Object.getOwnPropertyDescriptor,Mp=Object.getOwnPropertyNames,qp=Object.getPrototypeOf,Op=Object.prototype.hasOwnProperty,Br=x((e,t)=>Ho(e,"name",{value:t,configurable:!0}),"R"),Up=x((e,t)=>{for(var r in t)Ho(e,r,{get:t[r],enumerable:!0})},"me"),lu=x((e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Mp(t))!Op.call(e,a)&&a!==r&&Ho(e,a,{get:()=>t[a],enumerable:!(o=Np(t,a))||o.enumerable});return e},"L"),Wn=x((e,t,r)=>(r=e!=null?Ap(qp(e)):{},lu(t||!e||!e.__esModule?Ho(r,"default",{value:e,enumerable:!0}):r,e)),"G"),$p=x(e=>lu(Ho({},"__esModule",{value:!0}),e),"Fe"),uu={};Up(uu,{useForm:()=>jn,useModalForm:()=>Vp,useStepsForm:()=>jp});du.exports=$p(uu);var nu=d("react"),zp=Wn(d("lodash/get")),Hp=Wn(d("lodash/has")),Wp=d("react-hook-form"),Po=ae(),jn=Br(({refineCoreProps:e,warnWhenUnsavedChanges:t,disableServerSideValidation:r=!1,...o}={})=>{let{options:a}=(0,Po.useRefineContext)(),n=(a==null?void 0:a.disableServerSideValidation)||r,i=(0,Po.useTranslate)(),{warnWhenUnsavedChanges:l,setWarnWhen:m}=(0,Po.useWarnAboutChange)(),c=t??l,f=(0,Wp.useForm)({...o}),{watch:y,setValue:B,getValues:s,handleSubmit:h,setError:C}=f,v=(0,Po.useForm)({...e,onMutationError:(P,F,k)=>{var T,N;if(n){(T=e==null?void 0:e.onMutationError)==null||T.call(e,P,F,k);return}let D=P==null?void 0:P.errors;for(let I in D){if(!Object.keys((0,Po.flattenObjectKeys)(F)).includes(I))continue;let A=D[I],E="";Array.isArray(A)&&(E=A.join(" ")),typeof A=="string"&&(E=A),typeof A=="boolean"&&A&&(E="Field is not valid."),typeof A=="object"&&"key"in A&&(E=i(A.key,A.message)),C(I,{message:E})}(N=e==null?void 0:e.onMutationError)==null||N.call(e,P,F,k)}}),{queryResult:b,onFinish:p,formLoading:g,onFinishAutoSave:S}=v;(0,nu.useEffect)(()=>{var P;let F=(P=b==null?void 0:b.data)==null?void 0:P.data;F&&Object.keys((0,Po.flattenObjectKeys)(s())).forEach(k=>{let T=(0,Hp.default)(F,k),N=(0,zp.default)(F,k);T&&B(k,N)})},[b==null?void 0:b.data,B,s]),(0,nu.useEffect)(()=>{let P=y((F,{type:k})=>{k==="change"&&w(F)});return()=>P.unsubscribe()},[y]);let w=Br(P=>{var F;if(c&&m(!0),e!=null&&e.autoSave){m(!1);let k=(F=e.autoSave)==null?void 0:F.onFinish;return S(k?k(P):P)}return P},"onValuesChange"),L=Br((P,F)=>async k=>(m(!1),h(P,F)(k)),"handleSubmit");return{...f,handleSubmit:L,refineCore:v,saveButtonProps:{disabled:g,onClick:P=>{L(p,()=>!1)(P)}}}},"useForm"),iu=d("react"),jp=Br(({stepsProps:e,...t}={})=>{let{defaultStep:r=0,isBackValidate:o=!1}=e??{},[a,n]=(0,iu.useState)(r),i=jn({...t}),{trigger:l,getValues:m,setValue:c,formState:{dirtyFields:f},refineCore:{queryResult:y}}=i;(0,iu.useEffect)(()=>{var s;let h=(s=y==null?void 0:y.data)==null?void 0:s.data;if(!h)return;let C=Object.keys(m());Object.entries(h).forEach(([v,b])=>{let p=v;C.includes(p)&&(f[p]||c(p,b))})},[y==null?void 0:y.data,a,c,m]);let B=Br(s=>{let h=s;s<0&&(h=0),n(h)},"go");return{...i,steps:{currentStep:a,gotoStep:Br(async s=>{if(s!==a){if(s<a&&!o){B(s);return}await l()&&B(s)}},"gotoStep")}}},"useStepsForm"),su=d("react"),Lr=ae(),Hn=Wn(d("react")),Vp=Br(({modalProps:e,refineCoreProps:t,syncWithLocation:r,...o}={})=>{var a,n;let i=(0,Lr.useInvalidate)(),[l,m]=Hn.default.useState(!1),c=(0,Lr.useTranslate)(),{resource:f,action:y}=t??{},{resource:B,action:s,identifier:h}=(0,Lr.useResource)(f),C=(0,Lr.useParsed)(),v=(0,Lr.useGo)(),b=(0,Lr.useUserFriendlyName)(),p=y??s??"",g=!(typeof r=="object"&&(r==null?void 0:r.syncId)===!1),S=typeof r=="object"&&"key"in r?r.key:B&&p&&r?`modal-${h}-${p}`:void 0,{defaultVisible:w=!1,autoSubmitClose:L=!0,autoResetForm:P=!0}=e??{},F=jn({refineCoreProps:{...t,meta:{...S?{[S]:void 0}:{},...t==null?void 0:t.meta}},...o}),{reset:k,refineCore:{onFinish:T,id:N,setId:D,autoSaveProps:I},saveButtonProps:A,handleSubmit:E}=F,{visible:q,show:M,close:$}=(0,Lr.useModal)({defaultVisible:w});Hn.default.useEffect(()=>{var _,R,re,be;if(l===!1&&S){let de=(R=(_=C==null?void 0:C.params)==null?void 0:_[S])==null?void 0:R.open;if(typeof de=="boolean"?de&&M():typeof de=="string"&&de==="true"&&M(),g){let Le=(be=(re=C==null?void 0:C.params)==null?void 0:re[S])==null?void 0:be.id;Le&&(D==null||D(Le))}m(!0)}},[S,C,g,D]),Hn.default.useEffect(()=>{var _;l===!0&&(q&&S?v({query:{[S]:{...(_=C==null?void 0:C.params)==null?void 0:_[S],open:!0,...g&&N&&{id:N}}},options:{keepQuery:!0},type:"replace"}):S&&!q&&v({query:{[S]:void 0},options:{keepQuery:!0},type:"replace"}))},[N,q,M,S,g]);let z=Br(async _=>{await T(_),L&&$(),P&&k()},"submit"),{warnWhen:O,setWarnWhen:W}=(0,Lr.useWarnAboutChange)(),j=(0,su.useCallback)(()=>{var _;if(I.status==="success"&&(_=t==null?void 0:t.autoSave)!=null&&_.invalidateOnClose&&i({id:N,invalidates:t.invalidates||["list","many","detail"],dataProviderName:t.dataProviderName,resource:h}),O)if(window.confirm(c("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))W(!1);else return;D==null||D(void 0),$()},[O,I.status]),Q=(0,su.useCallback)(_=>{typeof _<"u"&&(D==null||D(_)),(!(p==="edit"||p==="clone")||typeof _<"u"||typeof N<"u")&&M()},[N]),K=c(`${h}.titles.${y}`,void 0,`${b(`${y} ${((a=B==null?void 0:B.meta)==null?void 0:a.label)??((n=B==null?void 0:B.options)==null?void 0:n.label)??(B==null?void 0:B.label)??h}`,"singular")}`);return{modal:{submit:z,close:j,show:Q,visible:q,title:K},...F,saveButtonProps:{...A,onClick:_=>E(z)(_)}}},"useModalForm")});var cr=U(d("react")),eo=d("@chakra-ui/react");var X=U(d("react")),pe=U(ae()),J=d("@chakra-ui/react"),Bt=d("@tabler/icons");var pl=x(({Title:e,render:t,meta:r})=>{let[o,a]=(0,X.useState)(!1),[n,i]=(0,X.useState)(!1),l=(0,pe.useRouterType)(),m=(0,pe.useLink)(),{Link:c}=(0,pe.useRouterContext)(),f=l==="legacy"?c:m,{menuItems:y,selectedKey:B,defaultOpenKeys:s}=(0,pe.useMenu)({meta:r}),h=(0,pe.useTitle)(),C=(0,pe.useIsExistAuthentication)(),v=(0,pe.useTranslate)(),{hasDashboard:b}=(0,pe.useRefineContext)(),p=(0,pe.useActiveAuthProvider)(),{warnWhen:g,setWarnWhen:S}=(0,pe.useWarnAboutChange)(),{mutate:w}=(0,pe.useLogout)({v3LegacyAuthProviderCompatible:!!(p!=null&&p.isLegacy)}),L=e??h??fl,P=x(()=>o?"80px":"200px","siderWidth"),F={placement:"right",hasArrow:!0,isDisabled:!o||n},k=x(E=>E.map(q=>{let{label:M,route:$,name:z,icon:O,children:W}=q,j=q.key===B,Q=W.length>0,K=Q?void 0:{as:f,to:$};return X.default.createElement(pe.CanAccess,{key:q.key,resource:z.toLowerCase(),action:"list",params:{resource:q}},X.default.createElement(J.Accordion,{defaultIndex:s.includes(q.key||"")?0:-1,width:"full",allowToggle:!0},X.default.createElement(J.AccordionItem,{border:"none"},X.default.createElement(J.Tooltip,{label:M,...F},X.default.createElement(J.AccordionButton,{pl:6,pr:4,pt:3,pb:3,as:"div",width:"full"},X.default.createElement(J.Button,{width:"full",variant:"link",color:"white",fontWeight:"normal",leftIcon:O??X.default.createElement(X.default.Fragment,null,X.default.createElement(Bt.IconList,{size:20})),rightIcon:Q?X.default.createElement(J.AccordionIcon,null):void 0,_active:{color:"none",fontWeight:Q?"normal":"bold"},_hover:{textDecoration:"none"},isActive:j,...K},(!o||n)&&X.default.createElement(J.Box,{flexGrow:1,textAlign:"left"},M)))),Q&&X.default.createElement(J.AccordionPanel,{p:0,pl:o&&!n?0:4},X.default.createElement(J.Accordion,{width:"full",allowToggle:!0},k(W))))))}),"renderTreeView"),T=k(y),N=b?X.default.createElement(pe.CanAccess,{resource:"dashboard",action:"list"},X.default.createElement(J.Tooltip,{label:v("dashboard.title","Dashboard"),...F},X.default.createElement(J.Button,{width:"full",justifyContent:o&&!n?"center":"flex-start",pl:6,pr:4,pt:3,pb:3,fontWeight:"normal",leftIcon:X.default.createElement(Bt.IconDashboard,{size:20}),variant:"link",color:"white",isActive:B==="/",_active:{color:"none",fontWeight:"bold"},_hover:{textDecoration:"none"},as:f,to:"/"},(!o||n)&&v("dashboard.title","Dashboard")))):null,D=x(()=>{g?window.confirm(v("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."))&&(S(!1),w()):w()},"handleLogout"),I=C&&X.default.createElement(J.Tooltip,{label:v("buttons.logout","Logout"),...F},X.default.createElement(J.Button,{width:"full",justifyContent:o&&!n?"center":"flex-start",pl:6,pr:4,pt:3,pb:3,fontWeight:"normal",leftIcon:X.default.createElement(Bt.IconLogout,{size:20}),variant:"link",_active:{color:"none"},_hover:{textDecoration:"none"},color:"white",onClick:D},(!o||n)&&v("buttons.logout","Logout"))),A=x(()=>t?t({dashboard:N,logout:I,items:T,collapsed:!1}):X.default.createElement(X.default.Fragment,null,N,T,I),"renderSider");return X.default.createElement(X.default.Fragment,null,X.default.createElement(J.Box,{position:"fixed",top:16,left:0,zIndex:1200,display:["block","block","none","none","none"]},X.default.createElement(J.IconButton,{borderLeftRadius:0,bg:"sider.background",color:"white",_hover:{bg:"sider.background"},_active:{bg:"sider.background",transform:"translateY(1px)"},"aria-label":"Open Menu",onClick:()=>i(E=>!E)},X.default.createElement(Bt.IconMenu2,null))),X.default.createElement(J.Drawer,{placement:"left",isOpen:n,onClose:()=>i(!1)},X.default.createElement(J.DrawerOverlay,null),X.default.createElement(J.DrawerContent,{w:"200px",maxW:"200px",bg:"sider.background"},X.default.createElement(J.Box,{display:"flex",justifyContent:"center",py:4},X.default.createElement(L,{collapsed:!1})),X.default.createElement(J.VStack,{mt:2,color:"white",alignItems:"start",flexGrow:1},X.default.createElement(J.Box,{width:"full"},A())))),X.default.createElement(J.Box,{display:["none","none","flex"],width:P(),transition:"width 200ms ease, min-width 200ms ease",flexShrink:0}),X.default.createElement(J.Box,{bg:"sider.background",position:"fixed",width:P(),top:0,h:"100vh",display:["none","none","flex"],flexDirection:"column",transition:"width 200ms ease, min-width 200ms ease"},X.default.createElement(J.Box,{display:"flex",justifyContent:"center",py:4},X.default.createElement(L,{collapsed:o})),X.default.createElement(J.VStack,{mt:2,color:"white",alignItems:"start",flexGrow:1},X.default.createElement(J.Box,{width:"full"},A())),X.default.createElement(J.Button,{onClick:()=>a(E=>!E),color:"white",bg:"sider.collapseButton",borderRadius:0,_hover:{bg:"sider.collapseButton"},_active:{bg:"sider.collapseButton",transform:"translateY(1px)"}},o?X.default.createElement(Bt.IconChevronRight,null):X.default.createElement(Bt.IconChevronLeft,null))))},"Sider");var Do=U(d("react")),ca=U(ae()),dr=d("@chakra-ui/react");var vl=x(()=>{let e=(0,ca.useActiveAuthProvider)(),{data:t}=(0,ca.useGetIdentity)({v3LegacyAuthProviderCompatible:!!(e!=null&&e.isLegacy)});return t&&(t.name||t.avatar)?Do.default.createElement(dr.Box,{py:"2",px:"4",display:"flex",justifyContent:"flex-end",w:"full",bg:"chakra-body-bg"},Do.default.createElement(dr.HStack,null,Do.default.createElement(dr.Text,{size:"sm",fontWeight:"bold"},t==null?void 0:t.name),Do.default.createElement(dr.Avatar,{size:"sm",name:t==null?void 0:t.name,src:t==null?void 0:t.avatar}))):null},"Header");var Lf=x(({Sider:e,Header:t,Title:r,Footer:o,OffLayoutArea:a,children:n})=>{let i=e??pl,l=t??vl,m=(0,eo.useColorModeValue)("gray.100","gray.900");return cr.default.createElement(eo.Box,{display:"flex",bg:m},cr.default.createElement(i,{Title:r}),cr.default.createElement(eo.Box,{display:"flex",flexDirection:"column",flex:1,overflow:"hidden",minH:"100vh"},cr.default.createElement(l,null),cr.default.createElement(eo.Box,{p:[2,4]},n),o&&cr.default.createElement(o,null)),a&&cr.default.createElement(a,null))},"Layout");var ma=U(d("react")),to=U(ae()),gl=d("@chakra-ui/react");var fl=x(({collapsed:e})=>{let t=(0,to.useRouterType)(),r=(0,to.useLink)(),{Link:o}=(0,to.useRouterContext)();return ma.default.createElement(gl.Link,{as:t==="legacy"?o:r,to:"/"},e?ma.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine-mini.svg",alt:"Refine",style:{maxHeight:"38px"}}):ma.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine",width:"140px",style:{minHeight:"38px"}}))},"Title");var Wt=U(d("react")),va=d("@chakra-ui/react");var Y=U(d("react")),fe=U(ae()),G=d("@chakra-ui/react"),mr=d("@tabler/icons");var yl=x(({Title:e,render:t,meta:r,isSiderOpen:o})=>{let[a,n]=(0,Y.useState)(!1),i=(0,fe.useRouterType)(),l=(0,fe.useLink)(),{Link:m}=(0,fe.useRouterContext)(),c=i==="legacy"?m:l,{menuItems:f,selectedKey:y,defaultOpenKeys:B}=(0,fe.useMenu)({meta:r}),s=(0,fe.useTitle)(),h=(0,fe.useIsExistAuthentication)(),C=(0,fe.useTranslate)(),{hasDashboard:v}=(0,fe.useRefineContext)(),b=(0,fe.useActiveAuthProvider)(),{warnWhen:p,setWarnWhen:g}=(0,fe.useWarnAboutChange)(),{mutate:S}=(0,fe.useLogout)({v3LegacyAuthProviderCompatible:!!(b!=null&&b.isLegacy)}),w=e??s??Ht,L=x(()=>o?"200px":"56px","siderWidth"),P={placement:"right",hasArrow:!0,isDisabled:o||a},F=x(A=>A.map(E=>{let{label:q,route:M,name:$,icon:z,children:O}=E,W=E.key===y,j=O.length>0,Q=j?void 0:{as:c,to:M};return Y.default.createElement(fe.CanAccess,{key:E.key,resource:$.toLowerCase(),action:"list",params:{resource:E}},Y.default.createElement(G.Accordion,{defaultIndex:B.includes(E.key||"")?0:-1,width:"full",mb:2,allowToggle:!0},Y.default.createElement(G.AccordionItem,{border:"none"},Y.default.createElement(G.Tooltip,{label:q,...P},Y.default.createElement(G.AccordionButton,{px:0,py:0,as:"div",width:"full",_hover:{backgroundColor:"transparent"}},Y.default.createElement(G.Button,{colorScheme:W?"brand":"gray",borderRadius:0,pl:!o&&!a?6:5,width:"full",variant:"ghost",fontWeight:"normal",leftIcon:z??Y.default.createElement(Y.default.Fragment,null,Y.default.createElement(mr.IconList,{size:16})),rightIcon:j?Y.default.createElement(G.AccordionIcon,{color:"brand.100"}):void 0,_active:{_before:{content:"''",bgColor:(0,G.useColorModeValue)("brand.200","brand.200"),opacity:.05,position:"absolute",top:0,bottom:0,left:0,right:0,width:"100%",height:"100%"},borderRight:"4px",borderRightColor:"brand.200"},isActive:W,...Q},(o||a)&&Y.default.createElement(G.Box,{flexGrow:1,textAlign:"left"},q)))),j&&Y.default.createElement(G.AccordionPanel,{p:0,pl:!o&&!a?0:4},Y.default.createElement(G.Accordion,{width:"full",allowToggle:!0},F(O))))))}),"renderTreeView"),k=F(f),T=v?Y.default.createElement(fe.CanAccess,{resource:"dashboard",action:"list"},Y.default.createElement(G.Tooltip,{label:C("dashboard.title","Dashboard"),...P},Y.default.createElement(G.Button,{width:"full",justifyContent:!o&&!a?"center":"flex-start",fontWeight:"normal",leftIcon:Y.default.createElement(mr.IconDashboard,{size:16}),variant:"ghost",isActive:y==="/",_active:{color:"brand.200",backgroundColor:"brand.900"},as:c,to:"/"},(o||a)&&C("dashboard.title","Dashboard")))):null,N=x(()=>{p?window.confirm(C("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."))&&(g(!1),S()):S()},"handleLogout"),D=h&&Y.default.createElement(G.Tooltip,{label:C("buttons.logout","Logout"),...P},Y.default.createElement(G.Box,{p:0},Y.default.createElement(G.Button,{borderRadius:0,width:"full",justifyContent:!o&&!a?"center":"flex-start",pl:!o&&!a?6:5,fontWeight:"normal",leftIcon:Y.default.createElement(mr.IconPower,{size:16}),variant:"ghost",_active:{color:"brand.200",backgroundColor:"brand.900"},onClick:N},(o||a)&&C("buttons.logout","Logout")))),I=x(()=>t?t({dashboard:T,logout:D,items:k,collapsed:!1}):Y.default.createElement(Y.default.Fragment,null,T,k,D),"renderSider");return Y.default.createElement(Y.default.Fragment,null,Y.default.createElement(G.Box,{position:"fixed",top:3,left:0,zIndex:1200,display:["block","block","none","none","none"]},Y.default.createElement(G.IconButton,{borderLeftRadius:0,"aria-label":"Open Menu",onClick:()=>n(A=>!A)},Y.default.createElement(mr.IconMenu2,null))),Y.default.createElement(G.Drawer,{placement:"left",isOpen:a,onClose:()=>n(!1)},Y.default.createElement(G.DrawerOverlay,null),Y.default.createElement(G.DrawerContent,{w:"200px",maxW:"200px"},Y.default.createElement(G.Box,{display:"flex",pl:4,alignItems:"center",height:"64px",fontSize:"14px",bg:(0,G.useColorModeValue)("refine.sider.header.light","refine.sider.header.dark")},Y.default.createElement(w,{collapsed:!1})),Y.default.createElement(G.VStack,{alignItems:"start",flexGrow:1,bg:(0,G.useColorModeValue)("refine.sider.bg.light","refine.sider.bg.dark")},Y.default.createElement(G.Box,{width:"full"},I())))),Y.default.createElement(G.Box,{display:["none","none","flex"],width:L(),transition:"width 200ms ease, min-width 200ms ease",flexShrink:0}),Y.default.createElement(G.Box,{position:"fixed",width:L(),top:0,h:"100vh",display:["none","none","flex"],flexDirection:"column",transition:"width 200ms ease, min-width 200ms ease"},Y.default.createElement(G.Box,{display:"flex",pl:o?4:0,justifyContent:o?"flex-start":"center",alignItems:"center",fontSize:"14px",height:"64px",borderRight:"1px",borderRightColor:(0,G.useColorModeValue)("gray.200","gray.700"),bg:(0,G.useColorModeValue)("refine.sider.header.light","refine.sider.header.dark")},Y.default.createElement(w,{collapsed:!o})),Y.default.createElement(G.VStack,{alignItems:"start",paddingTop:2,flexGrow:1,borderRight:"1px",borderRightColor:(0,G.useColorModeValue)("gray.200","gray.700"),bg:(0,G.useColorModeValue)("refine.sider.bg.light","refine.sider.bg.dark")},Y.default.createElement(G.Box,{width:"full"},I()))))},"ThemedSider");var pr=U(d("react")),pa=U(ae()),Re=d("@chakra-ui/react"),fa=d("@tabler/icons");var hl=x(({isSiderOpen:e,onToggleSiderClick:t,toggleSiderIcon:r})=>{let o=(0,pa.useActiveAuthProvider)(),{data:a}=(0,pa.useGetIdentity)({v3LegacyAuthProviderCompatible:!!(o!=null&&o.isLegacy)}),n=(0,Re.useColorModeValue)("refine.header.bg.light","refine.header.bg.dark"),i=!!t;return pr.default.createElement(Re.Box,{py:"2",pr:"4",pl:"2",display:"flex",alignItems:"center",justifyContent:i?{base:"flex-end",md:"space-between"}:"flex-end",w:"full",height:"64px",bg:n,borderBottom:"1px",borderBottomColor:(0,Re.useColorModeValue)("gray.200","gray.700")},i&&pr.default.createElement(Re.IconButton,{display:{base:"none",md:"flex"},backgroundColor:"transparent","aria-label":"sidebar-toggle",onClick:()=>t==null?void 0:t()},(r==null?void 0:r(!!e))??(e?pr.default.createElement(Re.Icon,{as:fa.IconLayoutSidebarLeftCollapse,boxSize:"24px"}):pr.default.createElement(Re.Icon,{as:fa.IconLayoutSidebarLeftExpand,boxSize:"24px"}))),pr.default.createElement(Re.HStack,null,(a==null?void 0:a.name)&&pr.default.createElement(Re.Text,{size:"sm",fontWeight:"bold"},a.name),(a==null?void 0:a.avatar)&&pr.default.createElement(Re.Avatar,{size:"sm",name:(a==null?void 0:a.name)||"Profile Photo",src:a.avatar})))},"ThemedHeader");var $f=x(({Sider:e,Header:t,Title:r,Footer:o,OffLayoutArea:a,children:n})=>{let[i,l]=(0,Wt.useState)(!0);return Wt.default.createElement(va.Box,{display:"flex"},Wt.default.createElement(e??yl,{Title:r,isSiderOpen:i}),Wt.default.createElement(va.Box,{display:"flex",flexDirection:"column",flex:1,overflow:"hidden",minH:"100vh"},Wt.default.createElement(t??hl,{isSiderOpen:i,onToggleSiderClick:()=>l(f=>!f)}),Wt.default.createElement(va.Box,{p:[2,4]},n),o&&Wt.default.createElement(o,null)),a&&Wt.default.createElement(a,null))},"ThemedLayout");var fr=U(d("react")),ro=U(ae()),vr=d("@chakra-ui/react");var fp="refine Project",vp=fr.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",},fr.default.createElement("path",{d:"M12 9C13.6569 9 15 7.65685 15 6C15 4.34315 13.6569 3 12 3C10.3431 3 9 4.34315 9 6C9 7.65685 10.3431 9 12 9Z",fill:"currentColor"}),fr.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM8 6C8 3.79086 9.79086 2 12 2C14.2091 2 16 3.79086 16 6V18C16 20.2091 14.2091 22 12 22C9.79086 22 8 20.2091 8 18V6Z",fill:"currentColor"})),Ht=x(({collapsed:e,icon:t=vp,text:r=fp,wrapperStyles:o})=>{let a=(0,ro.useRouterType)(),n=(0,ro.useLink)(),{Link:i}=(0,ro.useRouterContext)();return fr.default.createElement(vr.Link,{as:a==="legacy"?i:n,to:"/",fontSize:"inherit",textDecoration:"none",_hover:{textDecoration:"none"}},fr.default.createElement(vr.HStack,{spacing:"8px",justifyContent:"center",alignItems:"center",fontSize:"inherit",style:{...o}},fr.default.createElement(vr.Icon,{height:"24px",width:"24px",color:"brand.500"},t),!e&&fr.default.createElement(vr.Heading,{as:"h6",fontWeight:700,fontSize:"inherit"},r)))},"ThemedTitle");var tr=U(d("react")),ya=d("@chakra-ui/react");var ee=U(d("react")),ve=U(ae()),Z=d("@chakra-ui/react"),io=d("@tabler/icons");var gr=U(d("react")),oo=U(ae()),yr=d("@chakra-ui/react");var gp="refine Project",yp=gr.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",},gr.default.createElement("path",{d:"M12 9C13.6569 9 15 7.65685 15 6C15 4.34315 13.6569 3 12 3C10.3431 3 9 4.34315 9 6C9 7.65685 10.3431 9 12 9Z",fill:"currentColor"}),gr.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM8 6C8 3.79086 9.79086 2 12 2C14.2091 2 16 3.79086 16 6V18C16 20.2091 14.2091 22 12 22C9.79086 22 8 20.2091 8 18V6Z",fill:"currentColor"})),bl=x(({collapsed:e,icon:t=yp,text:r=gp,wrapperStyles:o})=>{let a=(0,oo.useRouterType)(),n=(0,oo.useLink)(),{Link:i}=(0,oo.useRouterContext)();return gr.default.createElement(yr.Link,{as:a==="legacy"?i:n,to:"/",fontSize:"inherit",textDecoration:"none",_hover:{textDecoration:"none"}},gr.default.createElement(yr.HStack,{spacing:"8px",justifyContent:"center",alignItems:"center",fontSize:"inherit",style:{...o}},gr.default.createElement(yr.Icon,{height:"24px",width:"24px",color:"brand.500"},t),!e&&gr.default.createElement(yr.Heading,{as:"h6",fontWeight:700,fontSize:"inherit"},r)))},"ThemedTitleV2");var _f=x(e=>{let{current:t,pageCount:r}=e,o=t===1?void 0:t-1,a=t===r?void 0:t+1,n=[1];if(t===1&&r===1)return{current:t,prev:o,next:a,items:n};t>4&&n.push("\u2026");let i=2,l=t-i,m=t+i;for(let c=l>2?l:2;c<=Math.min(r,m);c++)n.push(c);return m+1<r&&n.push("\u2026"),m<r&&n.push(r),{current:t,prev:o,next:a,items:n}},"usePagination");var Pl=d("react");var ao=U(d("react"));var no=ao.default.createContext({siderCollapsed:!1,mobileSiderOpen:!1,setSiderCollapsed:()=>{},setMobileSiderOpen:()=>{}}),wn=x(({children:e,initialSiderCollapsed:t})=>{let[r,o]=(0,ao.useState)(t??!1),[a,n]=(0,ao.useState)(!1);return ao.default.createElement(no.Provider,{value:{siderCollapsed:r,mobileSiderOpen:a,setSiderCollapsed:o,setMobileSiderOpen:n}},e)},"ThemedLayoutContextProvider");var Jf=x(()=>{let{mobileSiderOpen:e,siderCollapsed:t,setMobileSiderOpen:r,setSiderCollapsed:o}=(0,Pl.useContext)(no);return{siderVisible:e,setSiderVisible:r,drawerSiderVisible:!t,setDrawerSiderVisible:a=>o(!a)}},"useSiderVisible");var Cl=d("react");var ga=x(()=>{let{mobileSiderOpen:e,siderCollapsed:t,setMobileSiderOpen:r,setSiderCollapsed:o}=(0,Cl.useContext)(no);return{mobileSiderOpen:e,siderCollapsed:t,setMobileSiderOpen:r,setSiderCollapsed:o}},"useThemedLayoutContext");var xl=x(({Title:e,render:t,meta:r,activeItemDisabled:o=!1})=>{let{siderCollapsed:a,mobileSiderOpen:n,setMobileSiderOpen:i}=ga(),l=(0,ve.useRouterType)(),m=(0,ve.useLink)(),{Link:c}=(0,ve.useRouterContext)(),f=l==="legacy"?c:m,{menuItems:y,selectedKey:B,defaultOpenKeys:s}=(0,ve.useMenu)({meta:r}),h=(0,ve.useTitle)(),C=(0,ve.useIsExistAuthentication)(),v=(0,ve.useTranslate)(),{hasDashboard:b}=(0,ve.useRefineContext)(),p=(0,ve.useActiveAuthProvider)(),{warnWhen:g,setWarnWhen:S}=(0,ve.useWarnAboutChange)(),{mutate:w}=(0,ve.useLogout)({v3LegacyAuthProviderCompatible:!!(p!=null&&p.isLegacy)}),L=e??h??bl,P=x(()=>a?"56px":"200px","siderWidth"),F={placement:"right",hasArrow:!0,isDisabled:!a||n},k=x(E=>E.map(q=>{let{label:M,route:$,name:z,icon:O,children:W}=q,j=q.key===B,Q=W.length>0,K=Q?void 0:{as:f,to:$},_=o&&j?{pointerEvents:"none"}:{};return ee.default.createElement(ve.CanAccess,{key:q.key,resource:z.toLowerCase(),action:"list",params:{resource:q}},ee.default.createElement(Z.Accordion,{defaultIndex:s.includes(q.key||"")?0:-1,width:"full",mb:2,allowToggle:!0},ee.default.createElement(Z.AccordionItem,{border:"none"},ee.default.createElement(Z.Tooltip,{label:M,...F},ee.default.createElement(Z.AccordionButton,{px:0,py:0,as:"div",width:"full",_hover:{backgroundColor:"transparent"}},ee.default.createElement(Z.Button,{colorScheme:j?"brand":"gray",borderRadius:0,pl:a&&!n?6:5,width:"full",variant:"ghost",fontWeight:"normal",leftIcon:O??ee.default.createElement(ee.default.Fragment,null,ee.default.createElement(io.IconList,{size:16})),rightIcon:Q?ee.default.createElement(Z.AccordionIcon,{color:"brand.100"}):void 0,_active:{_before:{content:"''",bgColor:(0,Z.useColorModeValue)("brand.200","brand.200"),opacity:.05,position:"absolute",top:0,bottom:0,left:0,right:0,width:"100%",height:"100%"},borderRight:"4px",borderRightColor:"brand.200"},isActive:j,style:_,...K},(n||!a)&&ee.default.createElement(Z.Box,{flexGrow:1,textAlign:"left"},M)))),Q&&ee.default.createElement(Z.AccordionPanel,{p:0,pl:a&&!n?0:4},ee.default.createElement(Z.Accordion,{width:"full",allowToggle:!0},k(W))))))}),"renderTreeView"),T=k(y),N=b?ee.default.createElement(ve.CanAccess,{resource:"dashboard",action:"list"},ee.default.createElement(Z.Tooltip,{label:v("dashboard.title","Dashboard"),...F},ee.default.createElement(Z.Button,{width:"full",justifyContent:!n&&a?"center":"flex-start",fontWeight:"normal",leftIcon:ee.default.createElement(io.IconDashboard,{size:16}),variant:"ghost",isActive:B==="/",_active:{color:"brand.200",backgroundColor:"brand.900"},as:f,to:"/"},(n||!a)&&v("dashboard.title","Dashboard")))):null,D=x(()=>{g?window.confirm(v("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."))&&(S(!1),w()):w()},"handleLogout"),I=C&&ee.default.createElement(Z.Tooltip,{label:v("buttons.logout","Logout"),...F},ee.default.createElement(Z.Box,{p:0},ee.default.createElement(Z.Button,{borderRadius:0,width:"full",justifyContent:!n&&a?"center":"flex-start",pl:!n&&a?6:5,fontWeight:"normal",leftIcon:ee.default.createElement(io.IconPower,{size:16}),variant:"ghost",_active:{color:"brand.200",backgroundColor:"brand.900"},onClick:D},(n||!a)&&v("buttons.logout","Logout")))),A=x(()=>t?t({dashboard:N,logout:I,items:T,collapsed:!1}):ee.default.createElement(ee.default.Fragment,null,N,T,I),"renderSider");return ee.default.createElement(ee.default.Fragment,null,ee.default.createElement(Z.Drawer,{placement:"left",isOpen:n,onClose:()=>i(!n)},ee.default.createElement(Z.DrawerOverlay,null),ee.default.createElement(Z.DrawerContent,{w:"200px",maxW:"200px"},ee.default.createElement(Z.Box,{display:"flex",flexShrink:0,pl:4,alignItems:"center",height:"64px",fontSize:"14px",bg:(0,Z.useColorModeValue)("refine.sider.header.light","refine.sider.header.dark"),borderBottom:"1px",borderBottomColor:(0,Z.useColorModeValue)("gray.200","gray.700")},ee.default.createElement(L,{collapsed:!1})),ee.default.createElement(Z.VStack,{alignItems:"start",flexGrow:1,bg:(0,Z.useColorModeValue)("refine.sider.bg.light","refine.sider.bg.dark"),overflow:"auto"},ee.default.createElement(Z.Box,{width:"full"},A())))),ee.default.createElement(Z.Box,{display:["none","none","flex"],width:P(),transition:"width 200ms ease, min-width 200ms ease",flexShrink:0}),ee.default.createElement(Z.Box,{position:"fixed",width:P(),top:0,h:"100vh",display:["none","none","flex"],flexDirection:"column",transition:"width 200ms ease, min-width 200ms ease"},ee.default.createElement(Z.Box,{display:"flex",flexShrink:0,pl:a?0:4,justifyContent:a?"center":"flex-start",alignItems:"center",fontSize:"14px",height:"64px",borderRight:"1px",borderRightColor:(0,Z.useColorModeValue)("gray.200","gray.700"),borderBottom:"1px",borderBottomColor:(0,Z.useColorModeValue)("gray.200","gray.700"),bg:(0,Z.useColorModeValue)("refine.sider.header.light","refine.sider.header.dark")},ee.default.createElement(L,{collapsed:a})),ee.default.createElement(Z.VStack,{alignItems:"start",paddingY:2,height:"100%",flexGrow:1,borderRight:"1px",borderRightColor:(0,Z.useColorModeValue)("gray.200","gray.700"),bg:(0,Z.useColorModeValue)("refine.sider.bg.light","refine.sider.bg.dark")},ee.default.createElement(Z.Box,{width:"full",overflow:"auto"},A()))))},"ThemedSiderV2");var zr=U(d("react")),lo=U(ae()),St=d("@chakra-ui/react");var er=U(d("react")),Ll=d("@chakra-ui/react"),so=d("@tabler/icons");var wl=x(e=>er.default.createElement(Ll.IconButton,{variant:"ghost",size:"sm",...e}),"HamburgerIcon"),Bl=x(()=>{let{siderCollapsed:e,setSiderCollapsed:t,mobileSiderOpen:r,setMobileSiderOpen:o}=ga();return er.default.createElement(er.default.Fragment,null,er.default.createElement(wl,{display:{base:"none",md:"flex"},"aria-label":"drawer-sidebar-toggle",icon:e?er.default.createElement(so.IconLayoutSidebarLeftExpand,null):er.default.createElement(so.IconLayoutSidebarLeftCollapse,null),onClick:()=>t(!e)}),er.default.createElement(wl,{display:{base:"flex",md:"none"},"aria-label":"sidebar-toggle",icon:er.default.createElement(so.IconMenu2,null),onClick:()=>o(!r)}))},"HamburgerMenu");var Sl=x(({isSticky:e,sticky:t})=>{let r=(0,lo.useActiveAuthProvider)(),{data:o}=(0,lo.useGetIdentity)({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),a=(0,St.useColorModeValue)("refine.header.bg.light","refine.header.bg.dark"),n={};return(0,lo.pickNotDeprecated)(t,e)&&(n={position:"sticky",top:0,zIndex:1}),zr.default.createElement(St.Box,{py:"2",px:"4",display:"flex",alignItems:"center",w:"full",height:"64px",bg:a,borderBottom:"1px",borderBottomColor:(0,St.useColorModeValue)("gray.200","gray.700"),...n},zr.default.createElement(St.Box,{w:"full",display:"flex",justifyContent:"space-between",alignItems:"center"},zr.default.createElement(Bl,null),zr.default.createElement(St.HStack,null,(o==null?void 0:o.name)&&zr.default.createElement(St.Text,{size:"sm",fontWeight:"bold",},o.name),(o==null?void 0:o.avatar)&&zr.default.createElement(St.Avatar,{size:"sm",name:(o==null?void 0:o.name)||"Profile Photo",src:o.avatar}))))},"ThemedHeaderV2");var Bv=x(({Sider:e,Header:t,Title:r,Footer:o,OffLayoutArea:a,children:n,initialSiderCollapsed:i})=>tr.default.createElement(wn,{initialSiderCollapsed:i},tr.default.createElement(ya.Box,{display:"flex"},tr.default.createElement(e??xl,{Title:r}),tr.default.createElement(ya.Box,{display:"flex",flexDirection:"column",flex:1,minH:"100vh",overflow:"clip"},tr.default.createElement(t??Sl,null),tr.default.createElement(ya.Box,{p:[2,4]},n),o&&tr.default.createElement(o,null)),a&&tr.default.createElement(a,null))),"ThemedLayoutV2");var Tt=U(d("react")),jt=U(ae()),rr=d("@chakra-ui/react");var Bn=U(ot());var Dv=x(e=>{let{canCreate:t,children:r,createButtonProps:o,resource:a,wrapperProps:n,contentProps:i,headerProps:l,headerButtonProps:m,headerButtons:c,breadcrumb:f,title:y}=e,B=(0,jt.useTranslate)(),{options:{breadcrumb:s}={}}=(0,jt.useRefineContext)(),h=(0,jt.useRouterType)(),C=(0,jt.useUserFriendlyName)(),{resource:v,identifier:b}=(0,jt.useResource)(a),p=t??(((v==null?void 0:v.canCreate)??!!(v!=null&&v.create))||o),g=typeof f>"u"?s:f,S=p?{resource:h==="legacy"?v==null?void 0:v.route:b,...o}:void 0,w=p?Tt.default.createElement(Sn,{...S}):null,L=c?typeof c=="function"?c({defaultButtons:w,createButtonProps:S}):c:w,P=x(()=>{var F,k;return y===!1?null:y?typeof y=="string"||typeof y=="number"?Tt.default.createElement(rr.Heading,{as:"h3",size:"lg",className:Bn.RefinePageHeaderClassNames.Title},y):y:Tt.default.createElement(rr.Heading,{as:"h3",size:"lg",className:Bn.RefinePageHeaderClassNames.Title},B(`${b}.titles.list`,C(((F=v==null?void 0:v.meta)==null?void 0:F.label)??((k=v==null?void 0:v.options)==null?void 0:k.label)??(v==null?void 0:v.label)??b,"plural")))},"renderTitle");return Tt.default.createElement(rr.Box,{bg:"chakra-body-bg",borderRadius:"md",px:"4",py:"3",...n},Tt.default.createElement(rr.Box,{mb:"3",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:{base:"wrap",md:"nowrap"},gap:"3",...l},Tt.default.createElement(rr.Box,{minW:200},typeof g<"u"?Tt.default.createElement(Tt.default.Fragment,null,g)??void 0:Tt.default.createElement(hr,null),P()),Tt.default.createElement(rr.Box,{display:"flex",flexWrap:"wrap",justifyContent:{base:"flex-start",md:"flex-end"},gap:"2",...m},L)),Tt.default.createElement(rr.Box,{...i},r))},"List");var xe=U(d("react")),Ue=U(ae()),Ge=d("@chakra-ui/react"),El=d("@tabler/icons");var Tn=U(ot());var zv=x(e=>{var de;let{children:t,resource:r,recordItemId:o,canDelete:a,canEdit:n,dataProviderName:i,isLoading:l,footerButtons:m,footerButtonProps:c,headerButtons:f,headerButtonProps:y,wrapperProps:B,contentProps:s,headerProps:h,goBack:C,breadcrumb:v,title:b}=e,p=(0,Ue.useTranslate)(),{options:{breadcrumb:g}={}}=(0,Ue.useRefineContext)(),S=(0,Ue.useRouterType)(),w=(0,Ue.useBack)(),L=(0,Ue.useGo)(),{goBack:P,list:F}=(0,Ue.useNavigation)(),k=(0,Ue.useUserFriendlyName)(),{resource:T,action:N,id:D,identifier:I}=(0,Ue.useResource)(r),A=(0,Ue.useToPath)({resource:T,action:"list"}),E=o??D,q=typeof v>"u"?g:v,M=(T==null?void 0:T.list)&&!o,$=a??((de=T==null?void 0:T.meta)==null?void 0:de.canDelete)??(T==null?void 0:T.canDelete),z=n??(T==null?void 0:T.canEdit)??!!(T!=null&&T.edit),O=M?{...l?{disabled:!0}:{},resource:S==="legacy"?T==null?void 0:T.route:I}:void 0,W=z?{colorScheme:"brand",...l?{disabled:!0}:{},resource:S==="legacy"?T==null?void 0:T.route:I,recordItemId:E}:void 0,j=$?{...l?{disabled:!0}:{},resource:S==="legacy"?T==null?void 0:T.route:I,recordItemId:E,onSuccess:()=>{S==="legacy"?F((T==null?void 0:T.route)??(T==null?void 0:T.name)??""):L({to:A})},dataProviderName:i}:void 0,Q={...l?{disabled:!0}:{},resource:S==="legacy"?T==null?void 0:T.route:I,recordItemId:E,dataProviderName:i},K=xe.default.createElement(xe.default.Fragment,null,O&&xe.default.createElement(Mo,{...O}),z&&xe.default.createElement(kn,{colorScheme:"brand",...W}),$&&xe.default.createElement(Ao,{...j}),xe.default.createElement(No,{...Q})),_=C===null?null:xe.default.createElement(Ge.IconButton,{"aria-label":"back",variant:"ghost",size:"sm",onClick:N!=="list"&&typeof N<"u"?S==="legacy"?P:w:void 0},typeof C<"u"?C:xe.default.createElement(El.IconArrowLeft,null)),R=f?typeof f=="function"?f({defaultButtons:K,deleteButtonProps:j,editButtonProps:W,listButtonProps:O,refreshButtonProps:Q}):f:K,re=m?typeof m=="function"?m({defaultButtons:null}):m:null,be=x(()=>{var Le,Qt;return b===!1?null:b?typeof b=="string"||typeof b=="number"?xe.default.createElement(Ge.Heading,{as:"h3",size:"lg",className:Tn.RefinePageHeaderClassNames.Title},b):b:xe.default.createElement(Ge.Heading,{as:"h3",size:"lg",className:Tn.RefinePageHeaderClassNames.Title},p(`${I}.titles.show`,`Show ${k(((Le=T==null?void 0:T.meta)==null?void 0:Le.label)??((Qt=T==null?void 0:T.options)==null?void 0:Qt.label)??(T==null?void 0:T.label)??I,"singular")}`))},"renderTitle");return xe.default.createElement(Ge.Box,{position:"relative",bg:"chakra-body-bg",borderRadius:"md",px:"4",py:"3",...B},l&&xe.default.createElement(Ge.Spinner,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}),xe.default.createElement(Ge.Box,{mb:"3",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:{base:"wrap",md:"nowrap"},gap:"3",...h},xe.default.createElement(Ge.Box,{minW:200},typeof q<"u"?xe.default.createElement(xe.default.Fragment,null,q)??void 0:xe.default.createElement(hr,null),xe.default.createElement(Ge.HStack,null,_,be())),xe.default.createElement(Ge.Box,{display:"flex",flexWrap:"wrap",justifyContent:{base:"flex-start",md:"flex-end"},gap:"2",...y},R)),xe.default.createElement(Ge.Box,{opacity:l?.5:void 0,...s},t),xe.default.createElement(Ge.Box,{display:"flex",justifyContent:"flex-end",gap:"2",mt:8,...c},re))},"Show");var he=U(d("react")),ke=U(ae()),We=d("@chakra-ui/react"),Fl=d("@tabler/icons");var En=U(ot());var Rv=x(e=>{var Ir;let{children:t,resource:r,recordItemId:o,deleteButtonProps:a,mutationMode:n,saveButtonProps:i,canDelete:l,dataProviderName:m,isLoading:c,footerButtons:f,footerButtonProps:y,headerButtons:B,headerButtonProps:s,wrapperProps:h,contentProps:C,headerProps:v,goBack:b,breadcrumb:p,title:g,autoSaveProps:S}=e,w=(0,ke.useTranslate)(),{options:{breadcrumb:L}={}}=(0,ke.useRefineContext)(),{mutationMode:P}=(0,ke.useMutationMode)(),F=n??P,k=(0,ke.useRouterType)(),T=(0,ke.useBack)(),N=(0,ke.useGo)(),{goBack:D,list:I}=(0,ke.useNavigation)(),A=(0,ke.useUserFriendlyName)(),{resource:E,action:q,id:M,identifier:$}=(0,ke.useResource)(r),z=(0,ke.useToPath)({resource:E,action:"list"}),O=o??M,W=typeof p>"u"?L:p,j=(E==null?void 0:E.list)&&!o,Q=l??((((Ir=E==null?void 0:E.meta)==null?void 0:Ir.canDelete)??(E==null?void 0:E.canDelete))||a),K=j?{...c?{disabled:!0}:{},resource:k==="legacy"?E==null?void 0:E.route:$}:void 0,_={...c?{disabled:!0}:{},resource:k==="legacy"?E==null?void 0:E.route:$,recordItemId:O,dataProviderName:m},R=Q?{...c?{disabled:!0}:{},resource:k==="legacy"?E==null?void 0:E.route:$,mutationMode:F,onSuccess:()=>{k==="legacy"?I((E==null?void 0:E.route)??(E==null?void 0:E.name)??""):N({to:z})},recordItemId:O,dataProviderName:m,...a}:void 0,re={...c?{disabled:!0}:{},...i},be=he.default.createElement(We.Box,{display:"flex",flexDirection:"row",alignItems:"center",gap:"2"},S&&he.default.createElement(Il,{...S}),j&&he.default.createElement(Mo,{...K}),he.default.createElement(No,{..._})),de=he.default.createElement(he.default.Fragment,null,Q&&he.default.createElement(Ao,{...R}),he.default.createElement(qo,{...re})),Le=b===null?null:he.default.createElement(We.IconButton,{"aria-label":"back",variant:"ghost",size:"sm",onClick:q!=="list"&&typeof q<"u"?k==="legacy"?D:T:void 0},typeof b<"u"?b:he.default.createElement(Fl.IconArrowLeft,null)),Qt=B?typeof B=="function"?B({defaultButtons:be,listButtonProps:K,refreshButtonProps:_}):B:be,Vr=f?typeof f=="function"?f({defaultButtons:de,deleteButtonProps:R,saveButtonProps:re}):f:de,dt=x(()=>{var At,Nt;return g===!1?null:g?typeof g=="string"||typeof g=="number"?he.default.createElement(We.Heading,{as:"h3",size:"lg",className:En.RefinePageHeaderClassNames.Title},g):g:he.default.createElement(We.Heading,{as:"h3",size:"lg",className:En.RefinePageHeaderClassNames.Title},w(`${$}.titles.edit`,`Edit ${A(((At=E==null?void 0:E.meta)==null?void 0:At.label)??((Nt=E==null?void 0:E.options)==null?void 0:Nt.label)??(E==null?void 0:E.label)??$,"singular")}`))},"renderTitle");return he.default.createElement(We.Box,{position:"relative",bg:"chakra-body-bg",borderRadius:"md",px:"4",py:"3",...h},c&&he.default.createElement(We.Spinner,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}),he.default.createElement(We.Box,{mb:"3",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:{base:"wrap",md:"nowrap"},gap:"3",...v},he.default.createElement(We.Box,{minW:200},typeof W<"u"?he.default.createElement(he.default.Fragment,null,W)??void 0:he.default.createElement(hr,null),he.default.createElement(We.HStack,{spacing:2},Le,dt())),he.default.createElement(We.Box,{display:"flex",flexWrap:"wrap",justifyContent:{base:"flex-start",md:"flex-end"},gap:"2",...s},Qt)),he.default.createElement(We.Box,{opacity:c?.5:void 0,...C},t),he.default.createElement(We.Box,{display:"flex",justifyContent:"flex-end",gap:"2",mt:8,...y},Vr))},"Edit");var je=U(d("react")),lt=U(ae()),Xe=d("@chakra-ui/react"),Dl=d("@tabler/icons");var Fn=U(ot());var Jv=x(e=>{let{children:t,saveButtonProps:r,isLoading:o,resource:a,footerButtons:n,footerButtonProps:i,headerButtons:l,headerButtonProps:m,wrapperProps:c,contentProps:f,headerProps:y,goBack:B,breadcrumb:s,title:h}=e,C=(0,lt.useTranslate)(),{options:{breadcrumb:v}={}}=(0,lt.useRefineContext)(),b=(0,lt.useRouterType)(),p=(0,lt.useBack)(),{goBack:g}=(0,lt.useNavigation)(),S=(0,lt.useUserFriendlyName)(),{resource:w,action:L,identifier:P}=(0,lt.useResource)(a),F=typeof s>"u"?v:s,k={...o?{disabled:!0}:{},...r},T=je.default.createElement(qo,{...k}),N=B===null?null:je.default.createElement(Xe.IconButton,{"aria-label":"back",variant:"ghost",size:"sm",onClick:L!=="list"||typeof L<"u"?b==="legacy"?g:p:void 0},typeof B<"u"?B:je.default.createElement(Dl.IconArrowLeft,null)),D=l?typeof l=="function"?l({defaultButtons:null}):l:null,I=n?typeof n=="function"?n({defaultButtons:T,saveButtonProps:k}):n:T,A=x(()=>{var E,q;return h===!1?null:h?typeof h=="string"||typeof h=="number"?je.default.createElement(Xe.Heading,{as:"h3",size:"lg",className:Fn.RefinePageHeaderClassNames.Title},h):h:je.default.createElement(Xe.Heading,{as:"h3",size:"lg",className:Fn.RefinePageHeaderClassNames.Title},C(`${P}.titles.create`,`Create ${S(((E=w==null?void 0:w.meta)==null?void 0:E.label)??((q=w==null?void 0:w.options)==null?void 0:q.label)??(w==null?void 0:w.label)??P,"singular")}`))},"renderTitle");return je.default.createElement(Xe.Box,{position:"relative",bg:"chakra-body-bg",borderRadius:"md",px:"4",py:"3",...c},o&&je.default.createElement(Xe.Spinner,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}),je.default.createElement(Xe.Box,{mb:"3",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:{base:"wrap",md:"nowrap"},gap:"3",...y},je.default.createElement(Xe.Box,{minW:200},typeof F<"u"?je.default.createElement(je.default.Fragment,null,F):je.default.createElement(hr,null),je.default.createElement(Xe.HStack,null,N,A())),je.default.createElement(Xe.Box,{display:"flex",flexWrap:"wrap",justifyContent:{base:"flex-start",md:"flex-end"},gap:"2",...m},D)),je.default.createElement(Xe.Box,{opacity:o?.5:void 0,...f},t),je.default.createElement(Xe.Box,{display:"flex",justifyContent:"flex-end",gap:"2",mt:"8",...i},I))},"Create");var br=U(d("react")),Ze=U(ae()),uo=U(ot()),ha=d("@chakra-ui/react"),In=d("@tabler/icons");var Sn=x(({resource:e,resourceNameOrRouteName:t,hideText:r=!1,accessControl:o,svgIconProps:a,meta:n,children:i,onClick:l,...m})=>{let c=(0,br.useContext)(Ze.AccessControlContext),f=(o==null?void 0:o.enabled)??c.options.buttons.enableAccessControl,y=(o==null?void 0:o.hideIfUnauthorized)??c.options.buttons.hideIfUnauthorized,B=(0,Ze.useTranslate)(),s=(0,Ze.useRouterType)(),h=(0,Ze.useLink)(),{Link:C}=(0,Ze.useRouterContext)(),v=s==="legacy"?C:h,{createUrl:b}=(0,Ze.useNavigation)(),{resource:p}=(0,Ze.useResource)(e??t),{data:g}=(0,Ze.useCan)({resource:p==null?void 0:p.name,action:"create",queryOptions:{enabled:f},params:{resource:p}}),S=x(()=>g!=null&&g.can?"":g!=null&&g.reason?g.reason:B("buttons.notAccessTitle","You don't have permission to access"),"disabledTitle"),w=p?b(p,n):"";return f&&y&&!(g!=null&&g.can)?null:br.default.createElement(v,{to:w,replace:!1,onClick:L=>{l&&(L.preventDefault(),l(L))}},r?br.default.createElement(ha.IconButton,{colorScheme:"brand",variant:"outline","aria-label":B("buttons.create","Create"),title:S(),isDisabled:(g==null?void 0:g.can)===!1,className:uo.RefineButtonClassNames.CreateButton,...m},br.default.createElement(In.IconSquarePlus,{size:20,...a})):br.default.createElement(ha.Button,{colorScheme:"brand",isDisabled:(g==null?void 0:g.can)===!1,leftIcon:br.default.createElement(In.IconSquarePlus,{size:20}),title:S(),className:uo.RefineButtonClassNames.CreateButton,...m},i??B("buttons.create","Create")))},"CreateButton");var Pr=U(d("react")),Ye=U(ae()),co=U(ot()),Dn=d("@tabler/icons"),ba=d("@chakra-ui/react");var kn=x(({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:o=!1,accessControl:a,svgIconProps:n,meta:i,children:l,onClick:m,...c})=>{let f=(0,Pr.useContext)(Ye.AccessControlContext),y=(a==null?void 0:a.enabled)??f.options.buttons.enableAccessControl,B=(a==null?void 0:a.hideIfUnauthorized)??f.options.buttons.hideIfUnauthorized,s=(0,Ye.useTranslate)(),h=(0,Ye.useRouterType)(),C=(0,Ye.useLink)(),{Link:v}=(0,Ye.useRouterContext)(),b=h==="legacy"?v:C,{editUrl:p}=(0,Ye.useNavigation)(),{id:g,resource:S}=(0,Ye.useResource)(e??t),{data:w}=(0,Ye.useCan)({resource:S==null?void 0:S.name,action:"edit",params:{id:r??g,resource:S},queryOptions:{enabled:y}}),L=x(()=>w!=null&&w.can?"":w!=null&&w.reason?w.reason:s("buttons.notAccessTitle","You don't have permission to access"),"disabledTitle"),P=S&&(r??g)?p(S,r??g,i):"";return y&&B&&!(w!=null&&w.can)?null:Pr.default.createElement(b,{to:P,replace:!1,onClick:F=>{m&&(F.preventDefault(),m(F))}},o?Pr.default.createElement(ba.IconButton,{variant:"outline","aria-label":s("buttons.edit","Edit"),title:L(),isDisabled:(w==null?void 0:w.can)===!1,className:co.RefineButtonClassNames.EditButton,...c},Pr.default.createElement(Dn.IconPencil,{size:20,...n})):Pr.default.createElement(ba.Button,{variant:"outline",isDisabled:(w==null?void 0:w.can)===!1,leftIcon:Pr.default.createElement(Dn.IconPencil,{size:20,...n}),title:L(),className:co.RefineButtonClassNames.EditButton,...c},l??s("buttons.edit","Edit")))},"EditButton");var $e=U(d("react")),Ve=U(ae()),mo=U(ot()),Ee=d("@chakra-ui/react"),An=d("@tabler/icons");var Ao=x(({resource:e,resourceNameOrRouteName:t,recordItemId:r,onSuccess:o,mutationMode:a,children:n,successNotification:i,errorNotification:l,hideText:m=!1,accessControl:c,meta:f,metaData:y,dataProviderName:B,confirmTitle:s,confirmOkText:h,confirmCancelText:C,svgIconProps:v,...b})=>{let p=(0,$e.useContext)(Ve.AccessControlContext),g=(c==null?void 0:c.enabled)??p.options.buttons.enableAccessControl,S=(c==null?void 0:c.hideIfUnauthorized)??p.options.buttons.hideIfUnauthorized,w=(0,Ve.useTranslate)(),{id:L,resource:P,identifier:F}=(0,Ve.useResource)(e??t),{mutationMode:k}=(0,Ve.useMutationMode)(),T=a??k,{mutate:N,isLoading:D,variables:I}=(0,Ve.useDelete)(),{data:A}=(0,Ve.useCan)({resource:P==null?void 0:P.name,action:"delete",params:{id:r??L,resource:P},queryOptions:{enabled:g}}),E=x(()=>A!=null&&A.can?"":A!=null&&A.reason?A.reason:w("buttons.notAccessTitle","You don't have permission to access"),"disabledTitle"),[q,M]=(0,$e.useState)(!1),$=x(()=>{F&&(r??L)&&(z(!1),M(!1),N({id:r??L??"",resource:F,mutationMode:T,successNotification:i,errorNotification:l,meta:(0,Ve.pickNotDeprecated)(f,y),metaData:(0,Ve.pickNotDeprecated)(f,y),dataProviderName:B},{onSuccess:O=>{o&&o(O)}}))},"onConfirm"),{setWarnWhen:z}=(0,Ve.useWarnAboutChange)();return g&&S&&!(A!=null&&A.can)?null:$e.default.createElement(Ee.Popover,{isOpen:q,isLazy:!0},$e.default.createElement(Ee.PopoverTrigger,null,m?$e.default.createElement(Ee.IconButton,{colorScheme:"red",variant:"outline","aria-label":w("buttons.edit","Edit"),onClick:()=>M(O=>!O),isDisabled:D||(A==null?void 0:A.can)===!1,isLoading:(r??L)===(I==null?void 0:I.id)&&D,className:mo.RefineButtonClassNames.DeleteButton,...b},$e.default.createElement(An.IconTrash,{size:20,...v})):$e.default.createElement(Ee.Button,{colorScheme:"red",variant:"outline",onClick:()=>M(O=>!O),isDisabled:D||(A==null?void 0:A.can)===!1,isLoading:L===(I==null?void 0:I.id)&&D,leftIcon:$e.default.createElement(An.IconTrash,{size:20,...v}),title:E(),className:mo.RefineButtonClassNames.DeleteButton,...b},n??w("buttons.delete","Delete"))),$e.default.createElement(Ee.PopoverContent,null,$e.default.createElement(Ee.PopoverArrow,null),$e.default.createElement(Ee.PopoverHeader,{textAlign:"center"},s??w("buttons.confirm","Are you sure?")),$e.default.createElement(Ee.PopoverBody,{display:"flex",justifyContent:"center"},$e.default.createElement(Ee.HStack,null,$e.default.createElement(Ee.Button,{onClick:()=>M(!1),size:"sm"},C??w("buttons.cancel","Cancel")),$e.default.createElement(Ee.Button,{colorScheme:"red",onClick:$,autoFocus:!0,size:"sm"},h??w("buttons.delete","Delete"))))))},"DeleteButton");var Oo=U(d("react")),Vt=U(ae()),po=U(ot()),Pa=d("@chakra-ui/react"),Nn=d("@tabler/icons"),Al=d("@tanstack/react-query");var No=x(({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:o=!1,dataProviderName:a,svgIconProps:n,children:i,onClick:l,meta:m,metaData:c,...f})=>{let y=(0,Vt.useTranslate)(),B=(0,Al.useQueryClient)(),s=(0,Vt.useInvalidate)(),{resources:h,identifier:C,id:v}=(0,Vt.useResource)(e??t),b=!!B.isFetching({queryKey:(0,Vt.queryKeys)(C,(0,Vt.pickDataProvider)(C,a,h)).detail(r??v)}),p=x(()=>{s({id:r??v,invalidates:["detail"],dataProviderName:a,resource:C})},"handleInvalidate");return o?Oo.default.createElement(Pa.IconButton,{variant:"outline","aria-label":y("buttons.refresh","Refresh"),onClick:g=>{l?l(g):p()},isLoading:b,className:po.RefineButtonClassNames.RefreshButton,...f},Oo.default.createElement(Nn.IconRefresh,{size:20,...n})):Oo.default.createElement(Pa.Button,{variant:"outline",leftIcon:Oo.default.createElement(Nn.IconRefresh,{size:20,...n}),isLoading:b,onClick:g=>{l?l(g):p()},className:po.RefineButtonClassNames.RefreshButton,...f},i??y("buttons.refresh","Refresh"))},"RefreshButton");var Cr=U(d("react")),Je=U(ae()),fo=U(ot()),Ca=d("@chakra-ui/react"),Mn=d("@tabler/icons");var Tp=x(({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:o=!1,accessControl:a,svgIconProps:n,meta:i,children:l,onClick:m,...c})=>{let f=(0,Cr.useContext)(Je.AccessControlContext),y=(a==null?void 0:a.enabled)??f.options.buttons.enableAccessControl,B=(a==null?void 0:a.hideIfUnauthorized)??f.options.buttons.hideIfUnauthorized,{showUrl:s}=(0,Je.useNavigation)(),h=(0,Je.useRouterType)(),C=(0,Je.useLink)(),{Link:v}=(0,Je.useRouterContext)(),b=h==="legacy"?v:C,p=(0,Je.useTranslate)(),{id:g,resource:S}=(0,Je.useResource)(e??t),{data:w}=(0,Je.useCan)({resource:S==null?void 0:S.name,action:"show",params:{id:r??g,resource:S},queryOptions:{enabled:y}}),L=x(()=>w!=null&&w.can?"":w!=null&&w.reason?w.reason:p("buttons.notAccessTitle","You don't have permission to access"),"disabledTitle"),P=S&&(r||g)?s(S,r??g,i):"";return y&&B&&!(w!=null&&w.can)?null:Cr.default.createElement(b,{to:P,replace:!1,onClick:F=>{m&&(F.preventDefault(),m(F))}},o?Cr.default.createElement(Ca.IconButton,{variant:"outline","aria-label":p("buttons.show","Show"),isDisabled:(w==null?void 0:w.can)===!1,title:L(),className:fo.RefineButtonClassNames.ShowButton,...c},Cr.default.createElement(Mn.IconEye,{size:20,...n})):Cr.default.createElement(Ca.Button,{variant:"outline",isDisabled:(w==null?void 0:w.can)===!1,leftIcon:Cr.default.createElement(Mn.IconEye,{size:20,...n}),title:L(),className:fo.RefineButtonClassNames.ShowButton,...c},l??p("buttons.show","Show")))},"ShowButton");var xr=U(d("react")),Fe=U(ae()),vo=U(ot()),xa=d("@chakra-ui/react"),qn=d("@tabler/icons");var Mo=x(({resource:e,resourceNameOrRouteName:t,hideText:r=!1,accessControl:o,svgIconProps:a,meta:n,children:i,onClick:l,...m})=>{var F,k;let c=(0,xr.useContext)(Fe.AccessControlContext),f=(o==null?void 0:o.enabled)??c.options.buttons.enableAccessControl,y=(o==null?void 0:o.hideIfUnauthorized)??c.options.buttons.hideIfUnauthorized,{listUrl:B}=(0,Fe.useNavigation)(),s=(0,Fe.useRouterType)(),h=(0,Fe.useLink)(),{Link:C}=(0,Fe.useRouterContext)(),v=(0,Fe.useUserFriendlyName)(),b=s==="legacy"?C:h,p=(0,Fe.useTranslate)(),{resource:g,identifier:S}=(0,Fe.useResource)(e??t),{data:w}=(0,Fe.useCan)({resource:g==null?void 0:g.name,action:"list",queryOptions:{enabled:f},params:{resource:g}}),L=x(()=>w!=null&&w.can?"":w!=null&&w.reason?w.reason:p("buttons.notAccessTitle","You don't have permission to access"),"disabledTitle"),P=g?B(g,n):"";return f&&y&&!(w!=null&&w.can)?null:xr.default.createElement(b,{to:P,replace:!1,onClick:T=>{l&&(T.preventDefault(),l(T))}},r?xr.default.createElement(xa.IconButton,{variant:"outline","aria-label":p(`${S}.titles.list`,v(((F=g==null?void 0:g.meta)==null?void 0:F.label)??(g==null?void 0:g.label)??S??t,"plural")),isDisabled:(w==null?void 0:w.can)===!1,title:L(),className:vo.RefineButtonClassNames.ListButton,...m},xr.default.createElement(qn.IconList,{size:20,...a})):xr.default.createElement(xa.Button,{variant:"outline",isDisabled:(w==null?void 0:w.can)===!1,leftIcon:xr.default.createElement(qn.IconList,{size:20,...a}),title:L(),className:vo.RefineButtonClassNames.ListButton,...m},i??p(`${S??e??t}.titles.list`,v(((k=g==null?void 0:g.meta)==null?void 0:k.label)??(g==null?void 0:g.label)??S??(0,Fe.pickNotDeprecated)(e,t),"plural"))))},"ListButton");var Uo=U(d("react")),Nl=U(ae()),go=U(ot()),wa=d("@chakra-ui/react"),On=d("@tabler/icons");var kp=x(({hideText:e=!1,children:t,loading:r=!1,svgIconProps:o,...a})=>{let n=(0,Nl.useTranslate)();return e?Uo.default.createElement(wa.IconButton,{variant:"outline","aria-label":n("buttons.export","Export"),isLoading:r,className:go.RefineButtonClassNames.ExportButton,...a},Uo.default.createElement(On.IconFileExport,{size:20,...o})):Uo.default.createElement(wa.Button,{variant:"outline",isLoading:r,leftIcon:Uo.default.createElement(On.IconFileExport,{size:20,...o}),className:go.RefineButtonClassNames.ExportButton,...a},t??n("buttons.export","Export"))},"ExportButton");var $o=U(d("react")),Ml=U(ae()),yo=U(ot()),La=d("@chakra-ui/react"),Un=d("@tabler/icons");var qo=x(({hideText:e=!1,svgIconProps:t,children:r,...o})=>{let a=(0,Ml.useTranslate)();return e?$o.default.createElement(La.IconButton,{colorScheme:"green","aria-label":a("buttons.save","Save"),className:yo.RefineButtonClassNames.SaveButton,...o},$o.default.createElement(Un.IconDeviceFloppy,{size:20,...t})):$o.default.createElement(La.Button,{colorScheme:"green",leftIcon:$o.default.createElement(Un.IconDeviceFloppy,{size:20,...t}),className:yo.RefineButtonClassNames.SaveButton,...o},r??a("buttons.save","Save"))},"SaveButton");var wr=U(d("react")),et=U(ae()),ho=U(ot()),Ba=d("@chakra-ui/react"),$n=d("@tabler/icons");var Ep=x(({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:o=!1,accessControl:a,svgIconProps:n,meta:i,children:l,onClick:m,...c})=>{let f=(0,wr.useContext)(et.AccessControlContext),y=(a==null?void 0:a.enabled)??f.options.buttons.enableAccessControl,B=(a==null?void 0:a.hideIfUnauthorized)??f.options.buttons.hideIfUnauthorized,{cloneUrl:s}=(0,et.useNavigation)(),h=(0,et.useRouterType)(),C=(0,et.useLink)(),{Link:v}=(0,et.useRouterContext)(),b=h==="legacy"?v:C,{id:p,resource:g}=(0,et.useResource)(e??t),S=(0,et.useTranslate)(),{data:w}=(0,et.useCan)({resource:g==null?void 0:g.name,action:"create",params:{id:r??p,resource:g},queryOptions:{enabled:y}}),L=x(()=>w!=null&&w.can?"":w!=null&&w.reason?w.reason:S("buttons.notAccessTitle","You don't have permission to access"),"disabledTitle"),P=g&&(r||p)?s(g,r??p,i):"";return y&&B&&!(w!=null&&w.can)?null:wr.default.createElement(b,{to:P,replace:!1,onClick:F=>{m&&(F.preventDefault(),m(F))}},o?wr.default.createElement(Ba.IconButton,{variant:"outline","aria-label":S("buttons.clone","Clone"),title:L(),className:ho.RefineButtonClassNames.CloneButton,...c},wr.default.createElement($n.IconSquarePlus,{size:20,...n})):wr.default.createElement(Ba.Button,{variant:"outline",isDisabled:(w==null?void 0:w.can)===!1,leftIcon:wr.default.createElement($n.IconSquarePlus,{size:20,...n}),title:L(),className:ho.RefineButtonClassNames.CloneButton,...c},l??S("buttons.clone","Clone")))},"CloneButton");var Hr=U(d("react")),ql=U(ae()),bo=U(ot()),Sa=d("@chakra-ui/react"),zn=d("@tabler/icons");var Fp=x(({inputProps:e,hideText:t=!1,loading:r=!1,svgIconProps:o,children:a,...n})=>{let i=(0,ql.useTranslate)();return Hr.default.createElement("label",{htmlFor:"contained-button-file"},Hr.default.createElement("input",{...e,id:"contained-button-file",multiple:!0,hidden:!0}),t?Hr.default.createElement(Sa.IconButton,{variant:"outline",as:"span","aria-label":i("buttons.import","Import"),isLoading:r,className:bo.RefineButtonClassNames.ImportButton,...n},Hr.default.createElement(zn.IconFileImport,{size:20,...o})):Hr.default.createElement(Sa.Button,{variant:"outline",as:"span",leftIcon:Hr.default.createElement(zn.IconFileImport,{size:20,...o}),isLoading:r,className:bo.RefineButtonClassNames.ImportButton,...n},a??i("buttons.import","Import")))},"ImportButton");var Ol=U(d("react")),Ul=d("@chakra-ui/react");var Ng=x(({value:e,...t})=>Ol.default.createElement(Ul.Text,{...t},e),"TextField");var $l=U(d("react")),zl=d("@chakra-ui/react");var Og=x(({value:e,...t})=>$l.default.createElement(zl.Tag,{...t},e==null?void 0:e.toString()),"TagField");var Hl=U(d("react")),Wl=d("@chakra-ui/react");var zg=x(({value:e,...t})=>Hl.default.createElement(Wl.Link,{href:`mailto:${e}`,...t},e),"EmailField");var zo=U(d("react")),jl=d("@chakra-ui/react"),Ta=d("@tabler/icons");var jg=x(({value:e,valueLabelTrue:t="true",valueLabelFalse:r="false",trueIcon:o,falseIcon:a,svgIconProps:n,...i})=>zo.default.createElement(jl.Tooltip,{label:e?t:r,...i},zo.default.createElement("span",null,e?o??zo.default.createElement(Ta.IconCheck,{size:20,...n}):a??zo.default.createElement(Ta.IconMinus,{size:20,...n}))),"BooleanField");var Vl=U(d("react")),ka=U(d("dayjs")),Kl=U(d("dayjs/plugin/localizedFormat")),_l=d("@chakra-ui/react");ka.default.extend(Kl.default);var Ip=ka.default.locale(),_g=x(({value:e,locales:t,format:r="L",...o})=>Vl.default.createElement(_l.Text,{...o},(0,ka.default)(e).locale(t||Ip).format(r)),"DateField");var Ql=U(d("react"));var Xg=x(({title:e,src:t,...r})=>Ql.default.createElement(Rl,{value:t,title:e,...r},e??t),"FileField");var Gl=U(d("react")),Xl=d("@chakra-ui/react");var Rl=x(({children:e,value:t,title:r,...o})=>Gl.default.createElement(Xl.Link,{href:t,title:r,...o},e??t),"UrlField");var Zl=U(d("react")),Yl=d("@chakra-ui/react");function Dp(){return!!(typeof Intl=="object"&&Intl&&typeof Intl.NumberFormat=="function")}x(Dp,"toLocaleStringSupportsOptions");var ty=x(({value:e,locale:t,options:r,...o})=>{let a=Number(e);return Zl.default.createElement(Yl.Text,{...o},Dp()?a.toLocaleString(t,r):a)},"NumberField");var Jl=U(d("react")),eu=U(d("react-markdown")),tu=U(d("remark-gfm"));var ay=x(({value:e=""})=>Jl.default.createElement(eu.default,{plugins:[tu.default]},e),"MarkdownField");var kt=U(d("react")),Se=d("@chakra-ui/react");var sy=x(()=>kt.createElement(Se.Box,{p:"4",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minH:"100vh",bg:"sider.background",bgImage:"https://refine.ams3.cdn.digitaloceanspaces.com/login-background/background.png"},kt.createElement(Se.Image,{mb:"8",src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"}),kt.createElement(Se.Heading,{mb:"6",as:"h1",size:"3xl",color:"white",textAlign:"center"},"Welcome on board"),kt.createElement(Se.Heading,{as:"h3",size:"md",color:"white",mb:"6",textAlign:"center"},"Your configuration is completed."),kt.createElement(Se.Text,{mb:"8",fontSize:"xl",color:"white",textAlign:"center"},"Now you can get started by adding your resources to the"," ",kt.createElement(Se.Code,null,"resources")," property of ",kt.createElement(Se.Code,null,"Refine")),kt.createElement(Se.Box,{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"3"},kt.createElement(Se.Button,{as:Se.Link,href:"https://refine.dev",target:"_blank",rel:"noreferrer",colorScheme:"white",color:"white",variant:"outline",minW:"150px"},"Documentation"),kt.createElement(Se.Button,{as:Se.Link,href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer",colorScheme:"white",color:"white",variant:"outline",minW:"150px"},"Examples"),kt.createElement(Se.Button,{as:Se.Link,href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer",colorScheme:"white",color:"white",variant:"outline",minW:"150px"},"Community"))),"ReadyPage");var ru=U(d("react")),ou=U(ae());var dy=x(()=>ru.default.createElement(ou.WelcomePage,null),"WelcomePage");var bt=U(d("react")),Kt=U(ae()),tt=d("@chakra-ui/react"),au=d("@tabler/icons");var py=x(()=>{let[e,t]=(0,bt.useState)(),r=(0,Kt.useTranslate)(),{push:o}=(0,Kt.useNavigation)(),a=(0,Kt.useGo)(),n=(0,Kt.useRouterType)(),{resource:i,action:l}=(0,Kt.useResource)();(0,bt.useEffect)(()=>{i&&l&&t(r("pages.error.info",{action:l,resource:i==null?void 0:i.name},`You may have forgotten to add the "${l}" component to "${i==null?void 0:i.name}" resource.`))},[i,l]);let m=(0,tt.useColorModeValue)("gray.500","gray.400");return bt.default.createElement(tt.Box,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minH:"calc(100vh - 150px)"},bt.default.createElement(tt.Heading,{fontWeight:900,fontSize:[120,160,220],color:m},"404"),bt.default.createElement(tt.Stack,{direction:["column","row"],alignItems:"center",spacing:2},bt.default.createElement(tt.Text,{color:m,fontSize:"xl",align:"center"},r("pages.error.404","Sorry, the page you visited does not exist.")),e&&bt.default.createElement(tt.Tooltip,{openDelay:0,label:e},bt.default.createElement(tt.IconButton,{"aria-label":"info",color:m,},bt.default.createElement(au.IconInfoCircle,null)))),bt.default.createElement(tt.Button,{mt:6,variant:"outline",onClick:()=>{n==="legacy"?o("/"):a({to:"/"})}},r("pages.error.backHome","Back Home")))},"ErrorComponent");var Wr=U(d("react"));var ne=U(d("react")),Et=U(ae()),te=d("@chakra-ui/react"),cu=U(Wo()),mu=d("react-hook-form");var Sr={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundSize:"cover",minHeight:"100vh"},Tr={width:"400px",borderRadius:"12px",padding:"32px"};var pu=x(({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:o,contentProps:a,wrapperProps:n,renderContent:i,formProps:l,title:m})=>{var D,I;let{onSubmit:c,...f}=l||{},y=(0,Et.useActiveAuthProvider)(),{mutate:B}=(0,Et.useLogin)({v3LegacyAuthProviderCompatible:!!(y!=null&&y.isLegacy)}),s=(0,Et.useTranslate)(),h=(0,Et.useRouterType)(),C=(0,Et.useLink)(),{Link:v}=(0,Et.useRouterContext)(),b=h==="legacy"?v:C,p=(0,cu.useForm)({...f}),{register:g,handleSubmit:S,formState:{errors:w}}=p,L=x(()=>e&&e.length>0?ne.default.createElement(ne.default.Fragment,null,ne.default.createElement(te.VStack,null,e.map(A=>ne.default.createElement(te.Button,{key:A.name,variant:"outline",width:"full",leftIcon:ne.default.createElement(ne.default.Fragment,null,A==null?void 0:A.icon),fontSize:"sm",onClick:()=>B({providerName:A.name})},A.label??ne.default.createElement("label",null,A.label)))),ne.default.createElement(te.Divider,{my:"6"})):null,"renderProviders"),P=(0,te.useColorModeValue)("brand.500","brand.200"),F=m===!1?null:ne.default.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},m??ne.default.createElement(Ht,{collapsed:!1})),k={...Tr,...a},T=ne.default.createElement(te.Box,{bg:"chakra-body-bg",borderWidth:"1px",borderColor:(0,te.useColorModeValue)("gray.200","gray.700"),backgroundColor:(0,te.useColorModeValue)("white","gray.800"),...k},ne.default.createElement(te.Heading,{mb:"8",textAlign:"center",fontSize:"2xl",color:P},s("pages.login.title","Sign in to your account")),L(),ne.default.createElement("form",{onSubmit:S(A=>c?c(A):B(A))},ne.default.createElement(te.FormControl,{mt:"6",isInvalid:!!(w!=null&&w.email)},ne.default.createElement(te.FormLabel,{htmlFor:"email"},s("pages.login.fields.email","Email")),ne.default.createElement(te.Input,{id:"email",placeholder:"Email",type:"text",...g("email",{required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:s("pages.login.errors.validEmail","Invalid email address")}})}),ne.default.createElement(te.FormErrorMessage,null,`${(D=w.email)==null?void 0:D.message}`)),ne.default.createElement(te.FormControl,{mt:"6",isInvalid:!!(w!=null&&w.password)},ne.default.createElement(te.FormLabel,{htmlFor:"password"},s("pages.login.fields.password","Password")),ne.default.createElement(te.Input,{id:"password",type:"password",placeholder:"Password",...g("password",{required:!0})}),ne.default.createElement(te.FormErrorMessage,null,`${(I=w.password)==null?void 0:I.message}`)),o??ne.default.createElement(te.Checkbox,{...g("remember"),mt:"6"},s("pages.login.buttons.rememberMe","Remember me")),ne.default.createElement(te.Button,{mt:"6",type:"submit",width:"full",colorScheme:"brand"},s("pages.login.signin","Sign in")),ne.default.createElement(te.Box,{mt:"6"},ne.default.createElement(te.HStack,{justifyContent:"space-between",fontSize:"12px"},r??ne.default.createElement(te.Link,{as:b,color:P,to:"/forgot-password"},s("pages.login.buttons.forgotPassword","Forgot password?")),t??ne.default.createElement(te.Box,null,ne.default.createElement("span",null,s("pages.login.buttons.noAccount","Don\u2019t have an account?")),ne.default.createElement(te.Link,{color:P,ml:"1",as:b,fontWeight:"bold",to:"/register"},s("pages.login.register","Sign up"))))))),N={...Sr,...n};return ne.default.createElement(mu.FormProvider,{...p},ne.default.createElement(te.Box,{...N},i?i(T,F):ne.default.createElement(ne.default.Fragment,null,F,T)))},"LoginPage");var ue=U(d("react")),Ft=U(ae()),se=d("@chakra-ui/react"),fu=U(Wo());var vu=x(({providers:e,loginLink:t,wrapperProps:r,contentProps:o,renderContent:a,formProps:n,title:i})=>{var k,T;let{onSubmit:l,...m}=n||{},c=(0,Ft.useRouterType)(),f=(0,Ft.useLink)(),{Link:y}=(0,Ft.useRouterContext)(),B=c==="legacy"?y:f,s=(0,Ft.useTranslate)(),h=(0,Ft.useActiveAuthProvider)(),{mutate:C}=(0,Ft.useRegister)({v3LegacyAuthProviderCompatible:!!(h!=null&&h.isLegacy)}),{register:v,handleSubmit:b,formState:{errors:p}}=(0,fu.useForm)({...m}),g=x(()=>e&&e.length>0?ue.default.createElement(ue.default.Fragment,null,ue.default.createElement(se.VStack,null,e.map(N=>ue.default.createElement(se.Button,{key:N.name,variant:"outline",fontSize:"sm",width:"full",leftIcon:ue.default.createElement(ue.default.Fragment,null,N==null?void 0:N.icon),onClick:()=>C({providerName:N.name})},N.label??ue.default.createElement("label",null,N.label)))),ue.default.createElement(se.Divider,{my:"6"})):null,"renderProviders"),S=(0,se.useColorModeValue)("brand.500","brand.200"),w=i===!1?null:ue.default.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},i??ue.default.createElement(Ht,{collapsed:!1})),L={...Tr,...o},P=ue.default.createElement(se.Box,{bg:"chakra-body-bg",borderWidth:"1px",borderColor:(0,se.useColorModeValue)("gray.200","gray.700"),backgroundColor:(0,se.useColorModeValue)("white","gray.800"),...L},ue.default.createElement(se.Heading,{mb:"8",textAlign:"center",fontSize:"2xl",color:S},s("pages.register.title","Sign up for your account")),g(),ue.default.createElement("form",{onSubmit:b(N=>l?l(N):C(N))},ue.default.createElement(se.FormControl,{mt:"6",isInvalid:!!(p!=null&&p.email)},ue.default.createElement(se.FormLabel,{htmlFor:"email"},s("pages.register.fields.email","Email")),ue.default.createElement(se.Input,{id:"email",type:"text",placeholder:"Email",...v("email",{required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:s("pages.register.errors.validEmail","Invalid email address")}})}),ue.default.createElement(se.FormErrorMessage,null,`${(k=p.email)==null?void 0:k.message}`)),ue.default.createElement(se.FormControl,{mt:"6",isInvalid:!!(p!=null&&p.password)},ue.default.createElement(se.FormLabel,{htmlFor:"password"},s("pages.register.fields.password","Password")),ue.default.createElement(se.Input,{id:"password",type:"password",placeholder:"Password",...v("password",{required:!0})}),ue.default.createElement(se.FormErrorMessage,null,`${(T=p.password)==null?void 0:T.message}`)),ue.default.createElement(se.Button,{mt:"6",type:"submit",width:"full",colorScheme:"brand"},s("pages.register.buttons.submit","Sign up")),t??ue.default.createElement(se.Box,{display:"flex",justifyContent:"flex-end",mt:"6",fontSize:"12px"},ue.default.createElement("span",null,s("pages.login.buttons.haveAccount","Have an account?")),ue.default.createElement(se.Link,{color:S,ml:"1",fontWeight:"bold",as:B,to:"/login"},s("pages.login.signin","Sign in"))))),F={...Sr,...r};return ue.default.createElement(se.Box,{...F},a?a(P,w):ue.default.createElement(ue.default.Fragment,null,w,P))},"RegisterPage");var Ke=U(d("react")),_t=U(ae()),we=d("@chakra-ui/react"),gu=U(Wo());var yu=x(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:o,formProps:a,title:n})=>{var L;let{onSubmit:i,...l}=a||{},{mutate:m}=(0,_t.useForgotPassword)(),c=(0,_t.useTranslate)(),f=(0,_t.useRouterType)(),y=(0,_t.useLink)(),{Link:B}=(0,_t.useRouterContext)(),s=f==="legacy"?B:y,{handleSubmit:h,register:C,formState:{errors:v}}=(0,gu.useForm)({...l}),b=(0,we.useColorModeValue)("brand.500","brand.200"),p=n===!1?null:Ke.default.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},n??Ke.default.createElement(Ht,{collapsed:!1})),g={...Tr,...r},S=Ke.default.createElement(we.Box,{bg:"chakra-body-bg",borderWidth:"1px",borderColor:(0,we.useColorModeValue)("gray.200","gray.700"),backgroundColor:(0,we.useColorModeValue)("white","gray.800"),...g},Ke.default.createElement(we.Heading,{mb:"8",textAlign:"center",fontSize:"2xl",color:b},c("pages.forgotPassword.title","Forgot your password?")),Ke.default.createElement("form",{onSubmit:h(P=>i?i(P):m(P))},Ke.default.createElement(we.FormControl,{mb:"3",isInvalid:!!(v!=null&&v.email)},Ke.default.createElement(we.FormLabel,{htmlFor:"email"},c("pages.forgotPassword.fields.email","Email")),Ke.default.createElement(we.Input,{id:"email",type:"text",...C("email",{required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:c("pages.login.errors.validEmail","Invalid email address")}})}),Ke.default.createElement(we.FormErrorMessage,null,`${(L=v.email)==null?void 0:L.message}`)),e??Ke.default.createElement(we.Box,{my:"6",display:"flex",justifyContent:"flex-end"},Ke.default.createElement("span",null,c("pages.register.buttons.haveAccount","Have an account?")),Ke.default.createElement(we.Link,{color:b,ml:"1",as:s,to:"/login"},c("pages.login.signin","Sign in"))),Ke.default.createElement(we.Button,{mb:"3",type:"submit",width:"full",colorScheme:"brand"},c("pages.forgotPassword.buttons.submit","Send reset instructions")))),w={...Sr,...t};return Ke.default.createElement(we.Box,{...w},o?o(S,p):Ke.default.createElement(Ke.default.Fragment,null,p,S))},"ForgotPasswordPage");var ze=U(d("react")),Co=U(ae()),Ce=d("@chakra-ui/react"),hu=U(Wo());var bu=x(({wrapperProps:e,contentProps:t,renderContent:r,formProps:o,title:a})=>{var g,S;let{onSubmit:n,...i}=o||{},l=(0,Co.useTranslate)(),m=(0,Co.useActiveAuthProvider)(),{mutate:c}=(0,Co.useUpdatePassword)({v3LegacyAuthProviderCompatible:!!(m!=null&&m.isLegacy)}),{register:f,watch:y,handleSubmit:B,formState:{errors:s}}=(0,hu.useForm)({...i}),h=(0,Ce.useColorModeValue)("brand.500","brand.200"),C=a===!1?null:ze.default.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},a??ze.default.createElement(Ht,{collapsed:!1})),v={...Tr,...t},b=ze.default.createElement(Ce.Box,{bg:"chakra-body-bg",borderWidth:"1px",borderColor:(0,Ce.useColorModeValue)("gray.200","gray.700"),backgroundColor:(0,Ce.useColorModeValue)("white","gray.800"),...v},ze.default.createElement(Ce.Heading,{mb:"8",textAlign:"center",fontSize:"2xl",color:h},l("pages.updatePassword.title","Set New Password")),ze.default.createElement("form",{onSubmit:B(w=>n?n(w):c(w))},ze.default.createElement(Ce.FormControl,{mb:"3",isInvalid:!!(s!=null&&s.password)},ze.default.createElement(Ce.FormLabel,{htmlFor:"password"},l("pages.updatePassword.fields.password","New Password")),ze.default.createElement(Ce.Input,{id:"password",type:"password",placeholder:"Password",...f("password",{required:!0})}),ze.default.createElement(Ce.FormErrorMessage,null,`${(g=s.password)==null?void 0:g.message}`)),ze.default.createElement(Ce.FormControl,{mb:"3",isInvalid:!!(s!=null&&s.confirmPassword)},ze.default.createElement(Ce.FormLabel,{htmlFor:"confirmPassword"},l("pages.updatePassword.fields.confirmPassword","Confirm New Password")),ze.default.createElement(Ce.Input,{id:"confirmPassword",type:"password",placeholder:"Confirm Password",...f("confirmPassword",{required:!0,validate:w=>{if(y("password")!=w)return l("pages.updatePassword.errors.confirmPasswordNotMatch","Passwords do not match")}})}),ze.default.createElement(Ce.FormErrorMessage,null,`${(S=s.confirmPassword)==null?void 0:S.message}`)),ze.default.createElement(Ce.Button,{mt:"6",type:"submit",width:"full",colorScheme:"brand"},l("pages.updatePassword.buttons.submit","Update")))),p={...Sr,...e};return ze.default.createElement(Ce.Box,{...p},r?r(b,C):ze.default.createElement(ze.default.Fragment,null,C,b))},"UpdatePasswordPage");var rh=x(e=>{let{type:t}=e;return Wr.default.createElement(Wr.default.Fragment,null,x(()=>{switch(t){case"register":return Wr.default.createElement(vu,{...e});case"forgotPassword":return Wr.default.createElement(yu,{...e});case"updatePassword":return Wr.default.createElement(bu,{...e});default:return Wr.default.createElement(pu,{...e})}},"renderView")())},"AuthPage");var kr=U(d("react")),ut=U(ae()),Er=d("@chakra-ui/react"),Pu=d("@tabler/icons");var hr=x(({breadcrumbProps:e,showHome:t=!0,hideIcons:r=!1,meta:o})=>{var B,s;let a=(0,ut.useRouterType)(),{breadcrumbs:n}=(0,ut.useBreadcrumb)({meta:o}),i=(0,ut.useLink)(),{Link:l}=(0,ut.useRouterContext)(),{hasDashboard:m}=(0,ut.useRefineContext)(),c=a==="legacy"?l:i;if(n.length===1)return null;let{resources:f}=(0,ut.useResource)(),y=(0,ut.matchResourceFromRoute)("/",f);return kr.default.createElement(Er.Breadcrumb,{mb:"3",...e},t&&(m||(y==null?void 0:y.found))&&kr.default.createElement(Er.BreadcrumbItem,null,kr.default.createElement(c,{to:"/"},((s=(B=y==null?void 0:y.resource)==null?void 0:B.meta)==null?void 0:s.icon)??kr.default.createElement(Pu.IconHome,{size:20}))),n.map(({label:h,icon:C,href:v})=>kr.default.createElement(Er.BreadcrumbItem,{key:h},!r&&C,v?kr.default.createElement(Er.BreadcrumbLink,{ml:2,as:c,to:v,href:v},h):kr.default.createElement(Er.BreadcrumbLink,{ml:2},h))))},"Breadcrumb");var jr=U(d("react")),It=d("@chakra-ui/react"),Cu=d("@tabler/icons");var Vn=x(({notificationKey:e="",message:t,cancelMutation:r,undoableTimeout:o=0})=>{let a=(0,It.useToast)();return jr.default.createElement(It.Box,{display:"flex",alignItems:"center",justifyContent:"space-between",gap:2,bg:"chakra-body-bg",shadow:"md",minW:320,p:2},jr.default.createElement(It.CircularProgress,{value:o*20,color:"green"},jr.default.createElement(It.CircularProgressLabel,null,o)),jr.default.createElement(It.Text,null,t),jr.default.createElement(It.IconButton,{"aria-label":"undo",variant:"outline",onClick:()=>{r==null||r(),a.close(e)}},jr.default.createElement(Cu.IconRotate2,{size:18})))},"UndoableNotification");var Dt=U(d("react")),Fa=U(ae()),xu=d("@chakra-ui/react"),Fr=d("@tabler/icons");var Il=x(({status:e,elements:{success:t=Dt.default.createElement(Ea,{key:"autoSave.success",defaultMessage:"saved",icon:Dt.default.createElement(Fr.IconCircleCheck,{size:"18px"})}),error:r=Dt.default.createElement(Ea,{key:"autoSave.error",defaultMessage:"auto save failure",icon:Dt.default.createElement(Fr.IconExclamationCircle,{size:"18px"})}),loading:o=Dt.default.createElement(Ea,{key:"autoSave.loading",defaultMessage:"saving...",icon:Dt.default.createElement(Fr.IconRefresh,{size:"18px"})}),idle:a=Dt.default.createElement(Ea,{key:"autoSave.idle",defaultMessage:"waiting for changes",icon:Dt.default.createElement(Fr.IconDots,{size:"18px"})})}={}})=>Dt.default.createElement(Fa.AutoSaveIndicator,{status:e,elements:{success:t,error:r,loading:o,idle:a}}),"AutoSaveIndicator"),Ea=x(({key:e,defaultMessage:t,icon:r})=>{let o=(0,Fa.useTranslate)();return Dt.default.createElement(xu.Text,{display:"flex",alignItems:"center",flexWrap:"wrap",color:"gray.700",marginRight:"2",fontSize:"sm"},o(e,t),Dt.default.createElement("span",{style:{marginLeft:"3px"}},r))},"Message");var _e=d("@chakra-ui/react"),Lu=d("@chakra-ui/theme-tools"),vh=(0,_e.extendTheme)({config:{initialColorMode:"system"},fonts:{heading:"Montserrat, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'",body:"Montserrat, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'"},styles:{global:()=>({"html, body":{fontSize:"14px"}})},colors:{brand:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},sider:{background:"#2A132E",collapseButton:"#150A17"}}}),Kp={header:{bg:{light:_e.baseTheme.colors.white,dark:_e.baseTheme.colors.gray[800]}},sider:{bg:{light:_e.baseTheme.colors.white,dark:_e.baseTheme.colors.gray[800]},header:{light:_e.baseTheme.colors.white,dark:_e.baseTheme.colors.gray[800]}}},wu={Blue:_e.baseTheme.colors.blue,Purple:_e.baseTheme.colors.purple,Magenta:_e.baseTheme.colors.pink,Red:_e.baseTheme.colors.red,Orange:_e.baseTheme.colors.orange,Yellow:_e.baseTheme.colors.yellow,Green:_e.baseTheme.colors.green},gh=Object.keys(wu).reduce((e,t)=>{let r=t;return{...e,[t]:(0,_e.extendTheme)({config:{initialColorMode:"system"},styles:{global:o=>{let a=o.theme.colors.gray[50],n=o.theme.colors.gray[900];return{"html, body":{background:(0,Lu.mode)(a,n)(o)}}}},colors:{brand:wu[r],refine:{...Kp}}})}},{});var Kn=U(d("react")),Bu=d("@chakra-ui/react");var bh=x(()=>{let e=(0,Bu.useToast)({position:"top-right",isClosable:!0});return{open:({key:t,message:r,type:o,description:a,undoableTimeout:n,cancelMutation:i})=>{o==="progress"?t&&e.isActive(t)?e.update(t,{render:()=>Kn.default.createElement(Vn,{notificationKey:t,message:r,cancelMutation:i,undoableTimeout:n})}):e({id:t,render:()=>Kn.default.createElement(Vn,{notificationKey:t,message:r,cancelMutation:i,undoableTimeout:n})}):t&&e.isActive(t)?e.update(t,{title:r,status:o,description:a}):e({id:t,title:r,description:a,status:o})},close:t=>e.close(t)}},"notificationProvider");})();
//# sourceMappingURL=index.js.map