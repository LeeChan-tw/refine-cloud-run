(()=>{var Ln=Object.create;var rr=Object.defineProperty;var wn=Object.getOwnPropertyDescriptor;var Sn=Object.getOwnPropertyNames;var Dn=Object.getPrototypeOf,Tn=Object.prototype.hasOwnProperty;var Q=(e,t)=>rr(e,"name",{value:t,configurable:!0}),C=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var ar=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var qn=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Sn(t))!Tn.call(e,i)&&i!==r&&rr(e,i,{get:()=>t[i],enumerable:!(a=wn(t,i))||a.enumerable});return e};var Mn=(e,t,r)=>(r=e!=null?Ln(Dn(e)):{},qn(t||!e||!e.__esModule?rr(r,"default",{value:e,enumerable:!0}):r,e));var It=ar((iu,ta)=>{var xn=Object.create,Ft=Object.defineProperty,Nn=Object.getOwnPropertyDescriptor,kn=Object.getOwnPropertyNames,On=Object.getPrototypeOf,Rn=Object.prototype.hasOwnProperty,An=Q((e,t)=>{for(var r in t)Ft(e,r,{get:t[r],enumerable:!0})},"N"),Hr=Q((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of kn(t))!Rn.call(e,i)&&i!==r&&Ft(e,i,{get:()=>t[i],enumerable:!(a=Nn(t,i))||a.enumerable});return e},"E"),Fn=Q((e,t,r)=>(r=e!=null?xn(On(e)):{},Hr(t||!e||!e.__esModule?Ft(r,"default",{value:e,enumerable:!0}):r,e)),"A"),In=Q(e=>Hr(Ft({},"__esModule",{value:!0}),e),"V"),Xr={};An(Xr,{DevToolsContext:()=>ea,DevToolsContextProvider:()=>Un,DevtoolsEvent:()=>Gr,hooksByScope:()=>$n,receive:()=>Jr,scopes:()=>Zr,send:()=>Yr});ta.exports=In(Xr);var Gr=(e=>(e.RELOAD="devtools:reload",e.DEVTOOLS_INIT="devtools:init",e.DEVTOOLS_HANDSHAKE="devtools:handshake",e.DEVTOOLS_ALREADY_CONNECTED="devtools:already-connected",e.ACTIVITY="devtools:send-activity",e.DEVTOOLS_ACTIVITY_UPDATE="devtools:activity-update",e.DEVTOOLS_CONNECTED_APP="devtools:connected-app",e.DEVTOOLS_DISCONNECTED_APP="devtools:disconnected-app",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR="devtools:highlight-in-monitor",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR_ACTION="devtools:highlight-in-monitor-action",e.DEVTOOLS_LOGIN_SUCCESS="devtools:login-success",e.DEVTOOLS_RELOAD_AFTER_LOGIN="devtools:reload-after-login",e))(Gr||{}),Zr={useCan:"access-control",useLog:"audit-log",useLogList:"audit-log",useCreate:"data",useCreateMany:"data",useCustom:"data",useCustomMutation:"data",useDelete:"data",useDeleteMany:"data",useInfiniteList:"data",useList:"data",useMany:"data",useOne:"data",useUpdate:"data",useUpdateMany:"data",useForgotPassword:"auth",useGetIdentity:"auth",useIsAuthenticated:"auth",useLogin:"auth",useLogout:"auth",useOnError:"auth",usePermissions:"auth",useRegister:"auth",useUpdatePassword:"auth"},$n=Object.entries(Zr).reduce((e,[t,r])=>(e[r]||(e[r]=[]),e[r].push(t),e),{}),vt=Fn(C("react"));async function Yr(e,t,r){if(e.readyState!==e.OPEN){await new Promise(a=>{let i=Q(()=>{e.send(JSON.stringify({event:t,payload:r})),a(),e.removeEventListener("open",i)},"a");e.addEventListener("open",i)});return}else{e.send(JSON.stringify({event:t,payload:r}));return}}Q(Yr,"d");function Jr(e,t,r){let a=Q(i=>{let{event:n,payload:o}=JSON.parse(i.data);t===n&&r(o)},"s");return e.addEventListener("message",a),()=>{e.removeEventListener("message",a)}}Q(Jr,"c");var ea=vt.default.createContext({__devtools:!1,port:5002,url:"localhost",secure:!1,ws:null}),Un=Q(({__devtools:e,port:t,children:r})=>{let[a,i]=vt.default.useState({__devtools:e??!1,port:t??5002,url:"localhost",secure:!1,ws:null}),[n,o]=vt.default.useState(null);vt.default.useEffect(()=>{let c=new WebSocket(`${a.secure?"wss":"ws"}://localhost:${a.port}`),d=Jr(c,"devtools:handshake",m=>{i(p=>({...p,devtoolsUrl:m.url})),d()});return c.addEventListener("open",()=>{a.__devtools||Yr(c,"devtools:init",{url:window.location.origin})}),o(c),()=>{d(),c.close(1e3,window.location.origin)}},[]);let u=vt.default.useMemo(()=>({...a,ws:n}),[a,n]);return vt.default.createElement(ea.Provider,{value:u},r)},"S")});var Z=ar((uu,la)=>{var Qn=Object.create,$t=Object.defineProperty,Kn=Object.getOwnPropertyDescriptor,zn=Object.getOwnPropertyNames,Wn=Object.getPrototypeOf,_n=Object.prototype.hasOwnProperty,jn=Q((e,t)=>{for(var r in t)$t(e,r,{get:t[r],enumerable:!0})},"L"),ra=Q((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of zn(t))!_n.call(e,i)&&i!==r&&$t(e,i,{get:()=>t[i],enumerable:!(a=Kn(t,i))||a.enumerable});return e},"d"),aa=Q((e,t,r)=>(r=e!=null?Qn(Wn(e)):{},ra(t||!e||!e.__esModule?$t(r,"default",{value:e,enumerable:!0}):r,e)),"E"),Bn=Q(e=>ra($t({},"__esModule",{value:!0}),e),"M"),ia={};jn(ia,{getTrace:()=>oa,getXRay:()=>Jn,useQuerySubscription:()=>eo});la.exports=Bn(ia);var Vn=aa(C("error-stack-parser")),Hn="renderWithHooks",Xn=Q(e=>{let t=e.findIndex(r=>r.functionName===Hn);return t!==-1?e.slice(0,t):e},"T"),na=/node_modules\/refinedev\/(?<name>.*?)\//,Gn=Q(e=>e?!!e.match(na):!1,"_"),Zn=Q(e=>{var t;if(!e)return;let r=e.match(na),a=(t=r==null?void 0:r.groups)==null?void 0:t.name;if(a)return`@refinedev/${a}`},"R");function oa(){return[];try{let e=new Error,t=Vn.default.parse(e);return Xn(t).map(r=>({file:r.fileName,line:r.lineNumber,column:r.columnNumber,function:r.functionName,isRefine:Gn(r.fileName),packageName:Zn(r.fileName)})).filter(r=>r.function).slice(1)}catch{return[]}}Q(oa,"l");var ir=It(),Yn=Q((e,t)=>{if(ir.scopes[e]==="auth")return null;if(e==="useCan")return t?"key[1].resource":"key[1]";if(ir.scopes[e]==="audit-log")return e==="useLog"?"variables.resource":"key[1]";if(ir.scopes[e]==="data"){if(e==="useCustom"||e==="useCustomMutation")return null;switch(e){case"useList":case"useInfiniteList":case"useOne":case"useMany":return t?"key[1]":"key[2]";case"useCreate":case"useCreateMany":case"useDelete":case"useDeleteMany":case"useUpdate":case"useUpdateMany":return"variables.resource"}}return null},"v");function Jn(e,t){return{hookName:"",trace:[],resourcePath:null,legacyKey:!1}}Q(Jn,"I");var ou=It(),lu=aa(C("react")),su=It(),eo=()=>({})});var vn=ar((cu,mn)=>{var to=Object.create,Lt=Object.defineProperty,ro=Object.getOwnPropertyDescriptor,ao=Object.getOwnPropertyNames,io=Object.getPrototypeOf,no=Object.prototype.hasOwnProperty,l=Q((e,t)=>Lt(e,"name",{value:t,configurable:!0}),"o"),oo=Q((e,t)=>{for(var r in t)Lt(e,r,{get:t[r],enumerable:!0})},"Pi"),ai=Q((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ao(t))!no.call(e,i)&&i!==r&&Lt(e,i,{get:()=>t[i],enumerable:!(a=ro(t,i))||a.enumerable});return e},"Bs"),U=Q((e,t,r)=>(r=e!=null?to(io(e)):{},ai(t||!e||!e.__esModule?Lt(r,"default",{value:e,enumerable:!0}):r,e)),"B"),lo=Q(e=>ai(Lt({},"__esModule",{value:!0}),e),"xi"),ii={};oo(ii,{AccessControlContext:()=>qt,AuthPage:()=>Rs,Authenticated:()=>dn,CanAccess:()=>Js,ErrorComponent:()=>Ms,GitHubBanner:()=>tu,KeyBuilder:()=>Tr,LayoutWrapper:()=>Xs,LoginPage:()=>ln,ReadyPage:()=>sn,Refine:()=>Hs,ResourceContext:()=>St,RouteChangeHandler:()=>cn,TranslationContext:()=>ut,UndoableQueue:()=>un,WelcomePage:()=>Fs,createTreeView:()=>bo,file2Base64:()=>$o,generateDefaultDocumentTitle:()=>xi,getDefaultFilter:()=>Io,getDefaultSortOrder:()=>Fo,getNextPageParam:()=>wi,getPreviousPageParam:()=>Si,handleUseParams:()=>mo,importCSVMapper:()=>li,keys:()=>Xe,legacyResourceTransform:()=>Di,matchResourceFromRoute:()=>Po,parseTableParams:()=>Nr,parseTableParamsFromQuery:()=>Ao,pickDataProvider:()=>H,pickNotDeprecated:()=>$,queryKeys:()=>vo,routeGenerator:()=>bi,setInitialFilters:()=>Lr,setInitialSorters:()=>wr,stringifyTableParams:()=>Er,unionFilters:()=>Ct,unionSorters:()=>Cr,useActiveAuthProvider:()=>ue,useApiUrl:()=>ml,useAuthenticated:()=>_o,useBack:()=>en,useBreadcrumb:()=>Ds,useCan:()=>an,useCanWithoutCache:()=>ps,useCancelNotification:()=>Pt,useCheckError:()=>jo,useCreate:()=>Ur,useCreateMany:()=>Ui,useCustom:()=>fl,useCustomMutation:()=>hl,useDataProvider:()=>fe,useDelete:()=>nl,useDeleteMany:()=>cl,useExport:()=>Hl,useForgotPassword:()=>Ar,useForm:()=>Zl,useGetIdentity:()=>kr,useGetLocale:()=>jl,useGetToPath:()=>zr,useGo:()=>Ne,useHandleNotification:()=>Se,useImport:()=>as,useInfiniteList:()=>Ll,useInvalidate:()=>je,useIsAuthenticated:()=>Gt,useIsExistAuthentication:()=>Fi,useLink:()=>Zt,useList:()=>Ir,useLiveMode:()=>Gi,useLoadingOvertime:()=>ce,useLog:()=>dt,useLogList:()=>Ls,useLogin:()=>Xt,useLogout:()=>jt,useMany:()=>Ii,useMenu:()=>qs,useMeta:()=>oe,useModal:()=>is,useMutationMode:()=>ht,useNavigation:()=>ke,useNotification:()=>Je,useOnError:()=>Pe,useOne:()=>$r,useParse:()=>Hi,useParsed:()=>$e,usePermissions:()=>Ai,usePublish:()=>st,useRedirectionAfterSubmission:()=>Ji,useRefineContext:()=>he,useRegister:()=>Rr,useResource:()=>X,useResourceSubscription:()=>Tt,useResourceWithRoute:()=>Xi,useRouterContext:()=>De,useRouterType:()=>de,useSelect:()=>ys,useSetLocale:()=>_l,useShow:()=>es,useSubscription:()=>Il,useSyncWithLocation:()=>ki,useTable:()=>nn,useTitle:()=>Oo,useToPath:()=>os,useTranslate:()=>te,useUpdate:()=>Sr,useUpdateMany:()=>ul,useUpdatePassword:()=>Fr,useUserFriendlyName:()=>xr,useWarnAboutChange:()=>Mr,userFriendlyResourceName:()=>si});mn.exports=lo(ii);var at=U(C("react")),sa=C("@tanstack/react-query"),ua=Z(),Dr=U(C("qs")),ni=U(C("lodash/unionWith")),oi=U(C("lodash/differenceWith")),so=U(C("warn-once")),nr=l(e=>e/1e3,"userFriendlySecond"),uo=U(C("lodash/zip")),co=U(C("lodash/fromPairs")),li=l((e,t=r=>r)=>{let[r,...a]=e;return a.map(i=>(0,co.default)((0,uo.default)(r,i))).map((i,n,o)=>t.call(void 0,i,n,o))},"importCSVMapper"),da=U(C("pluralize")),si=l((e="",t)=>{let r=Ei(e);return t==="singular"?da.default.singular(r):da.default.plural(r)},"userFriendlyResourceName"),mo=l((e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,"handleUseParams"),$=l((...e)=>e.find(t=>typeof t<"u"),"pickNotDeprecated");function Ue(e,t){return e.findIndex((r,a)=>a<=e.length-t.length&&t.every((i,n)=>e[a+n]===i))}Q(Ue,"Ye");l(Ue,"arrayFindIndex");function ui(e){if(e[0]==="data"){let t=e.slice(1);if(t[2]==="many")t[2]="getMany";else if(t[2]==="infinite")t[2]="list";else if(t[2]==="one")t[2]="detail";else if(t[1]==="custom"){let r={...t[2]};return delete r.method,delete r.url,[t[0],t[1],t[2].method,t[2].url,r]}return t}if(e[0]==="audit"&&e[2]==="list")return["logList",e[1],e[3]];if(e[0]==="access"&&e.length===4)return["useCan",{resource:e[1],action:e[2],...e[3]}];if(e[0]==="auth"){if(Ue(e,["auth","login"])!==-1)return["useLogin"];if(Ue(e,["auth","logout"])!==-1)return["useLogout"];if(Ue(e,["auth","identity"])!==-1)return["getUserIdentity"];if(Ue(e,["auth","register"])!==-1)return["useRegister"];if(Ue(e,["auth","forgotPassword"])!==-1)return["useForgotPassword"];if(Ue(e,["auth","check"])!==-1)return["useAuthenticated",e[2]];if(Ue(e,["auth","onError"])!==-1)return["useCheckError"];if(Ue(e,["auth","permissions"])!==-1)return["usePermissions"];if(Ue(e,["auth","updatePassword"])!==-1)return["useUpdatePassword"]}return e}Q(ui,"Ci");l(ui,"convertToLegacy");var we=Q(class{constructor(e=[]){this.segments=[],this.segments=e}key(){return this.segments}legacy(){return ui(this.segments)}get(e){return e?this.legacy():this.segments}},"ve");l(we,"BaseKeyBuilder");var _e=Q(class extends we{constructor(e){super(e)}params(e){return new we([...this.segments,e])}},"We");l(_e,"ParamsKeyBuilder");var di=Q(class extends we{constructor(e){super(e)}id(e){return new _e([...this.segments,e?String(e):void 0])}},"Mr");l(di,"DataIdRequiringKeyBuilder");var ci=Q(class extends we{constructor(e){super(e)}ids(...e){return new _e([...this.segments,...e.length?[e.map(t=>String(t))]:[]])}},"Ir");l(ci,"DataIdsRequiringKeyBuilder");var mi=Q(class extends we{constructor(e){super(e)}action(e){if(e==="one")return new di([...this.segments,e]);if(e==="many")return new ci([...this.segments,e]);if(["list","infinite"].includes(e))return new _e([...this.segments,e]);throw new Error("Invalid action type")}},"wr");l(mi,"DataResourceKeyBuilder");var vi=Q(class extends we{constructor(e){super(e)}resource(e){return new mi([...this.segments,e])}mutation(e){return new _e([...e==="custom"?this.segments:[this.segments[0]],e])}},"Sr");l(vi,"DataKeyBuilder");var pi=Q(class extends we{constructor(e){super(e)}action(e){return new _e([...this.segments,e])}},"Ar");l(pi,"AuthKeyBuilder");var fi=Q(class extends we{constructor(e){super(e)}action(e){return new _e([...this.segments,e])}},"kr");l(fi,"AccessResourceKeyBuilder");var gi=Q(class extends we{constructor(e){super(e)}resource(e){return new fi([...this.segments,e])}},"Qr");l(gi,"AccessKeyBuilder");var yi=Q(class extends we{constructor(e){super(e)}action(e){return new _e([...this.segments,e])}},"Fr");l(yi,"AuditActionKeyBuilder");var hi=Q(class extends we{constructor(e){super(e)}resource(e){return new yi([...this.segments,e])}action(e){return new _e([...this.segments,e])}},"Vr");l(hi,"AuditKeyBuilder");var Tr=Q(class extends we{constructor(e){super(e)}data(e){return new vi(["data",e||"default"])}auth(){return new pi(["auth"])}access(){return new gi(["access"])}audit(){return new hi(["audit"])}},"Pt");l(Tr,"KeyBuilder");var Xe=l(()=>new Tr([]),"keys"),vo=l((e,t,r,a)=>{let i=t||"default",n={all:[i],resourceAll:[i,e||""],list:o=>[...n.resourceAll,"list",{...o,...$(r,a)||{}}],many:o=>[...n.resourceAll,"getMany",o&&o.map(String),{...$(r,a)||{}}].filter(u=>u!==void 0),detail:o=>[...n.resourceAll,"detail",o==null?void 0:o.toString(),{...$(r,a)||{}}],logList:o=>["logList",e,o,a].filter(u=>u!==void 0)};return n},"queryKeys"),Vt=l(e=>(t,r,a,i)=>{let n=r||"default";return{all:Xe().data(n).get(e),resourceAll:Xe().data(r).resource(t??"").get(e),list:o=>Xe().data(r).resource(t??"").action("list").params({...o,...$(a,i)||{}}).get(e),many:o=>Xe().data(r).resource(t??"").action("many").ids(...o??[]).params({...$(a,i)||{}}).get(e),detail:o=>Xe().data(r).resource(t??"").action("one").id(o??"").params({...$(a,i)||{}}).get(e),logList:o=>[...Xe().audit().resource(t).action("list").params(o).get(e),i].filter(u=>u!==void 0)}},"queryKeysReplacement"),po=l((e,t)=>!e||!t?!1:!!e.find(r=>r===t),"hasPermission"),qr=l(e=>e.startsWith(":"),"isParameter"),gt=l(e=>e.split("/").filter(t=>t!==""),"splitToSegments"),fo=l((e,t)=>{let r=gt(e),a=gt(t);return r.length===a.length},"isSegmentCountsSame"),We=l(e=>e.replace(/^\/|\/$/g,""),"removeLeadingTrailingSlashes"),go=l((e,t)=>{let r=We(e),a=We(t);if(!fo(r,a))return!1;let i=gt(r);return gt(a).every((n,o)=>qr(n)||n===i[o])},"checkBySegments"),yo=l((e,t,r)=>{let a=We(r||""),i=`${a}${a?"/":""}${e}`;return t==="list"?i=`${i}`:t==="create"?i=`${i}/create`:t==="edit"?i=`${i}/edit/:id`:t==="show"?i=`${i}/show/:id`:t==="clone"&&(i=`${i}/clone/:id`),`/${i.replace(/^\//,"")}`},"getDefaultActionPath"),Ze=l((e,t)=>{var r,a;let i=$((r=e.meta)==null?void 0:r.parent,(a=e.options)==null?void 0:a.parent,e.parentName);return i?t.find(n=>(n.identifier??n.name)===i)??{name:i}:void 0},"getParentResource"),Pi=l((e,t,r)=>{let a=[],i=Ze(e,t);for(;i;)a.push(i),i=Ze(i,t);if(a.length!==0)return`/${a.reverse().map(n=>{var o;let u=r?((o=n.options)==null?void 0:o.route)??n.name:n.name;return We(u)}).join("/")}`},"getParentPrefixForResource"),Ce=l((e,t,r)=>{let a=[],i=["list","show","edit","create","clone"],n=Pi(e,t,r);return i.forEach(o=>{var u,c;let d=r&&o==="clone"?e.create:e[o],m;typeof d=="function"||r?m=yo(r?((u=e.meta)==null?void 0:u.route)??((c=e.options)==null?void 0:c.route)??e.name:e.name,o,r?n:void 0):typeof d=="string"?m=d:typeof d=="object"&&(m=d.path),m&&a.push({action:o,resource:e,route:`/${m.replace(/^\//,"")}`})}),a},"getActionRoutesFromResource"),ho=l(e=>{var t;if(e.length===0)return;if(e.length===1)return e[0];let r=e.map(n=>({...n,splitted:gt(We(n.route))})),a=((t=r[0])==null?void 0:t.splitted.length)??0,i=[...r];for(let n=0;n<a;n++){let o=i.filter(u=>!qr(u.splitted[n]));if(o.length!==0){if(o.length===1){i=o;break}i=o}}return i[0]},"pickMatchedRoute"),Po=l((e,t)=>{let r=t.flatMap(i=>Ce(i,t)).filter(i=>go(e,i.route)),a=ho(r);return{found:!!a,resource:a==null?void 0:a.resource,action:a==null?void 0:a.action,matchedRoute:a==null?void 0:a.route}},"matchResourceFromRoute"),bi=l((e,t)=>{var r;let a,i=Pi(e,t,!0);if(i){let n=$(e.meta,e.options);a=`${i}/${(n==null?void 0:n.route)??e.name}`}else a=((r=e.options)==null?void 0:r.route)??e.name;return`/${a.replace(/^\//,"")}`},"routeGenerator"),bo=l(e=>{var t;let r=[],a={},i={},n,o;for(let u=0;u<e.length;u++){n=e[u];let c=n.route??((t=$(n==null?void 0:n.meta,n.options))==null?void 0:t.route)??"";a[c]=n,a[c].children=[],i[n.name]=n,i[n.name].children=[]}for(let u in a)a.hasOwnProperty(u)&&(o=a[u],o.parentName&&i[o.parentName]?i[o.parentName].children.push(o):r.push(o));return r},"createTreeView"),Ei=l(e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),"humanizeString"),Ci=U(C("react")),ca=U(C("pluralize")),Eo=U(C("react")),Li=l(({children:e})=>Eo.default.createElement("div",null,e),"DefaultLayout"),ye={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"},overtime:{interval:1e3},textTransformers:{humanize:Ei,plural:ca.default.plural,singular:ca.default.singular},disableServerSideValidation:!1},Ye=Ci.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:Li,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:ye}),Co=l(({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,undoableTimeout:i,children:n,DashboardPage:o,Title:u,Layout:c=Li,Header:d,Sider:m,Footer:p,OffLayoutArea:w,LoginPage:s=ln,catchAll:v,liveMode:P="off",onLiveEvent:g,options:y})=>Ci.default.createElement(Ye.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,Title:u,undoableTimeout:i,Layout:c,Header:d,Sider:m,Footer:p,OffLayoutArea:w,DashboardPage:o,LoginPage:s,catchAll:v,liveMode:P,onLiveEvent:g,options:y}},n),"RefineContextProvider"),Lo=l(({options:e,disableTelemetry:t,liveMode:r,mutationMode:a,reactQueryClientConfig:i,reactQueryDevtoolConfig:n,syncWithLocation:o,undoableTimeout:u,warnWhenUnsavedChanges:c}={})=>{var d,m,p,w,s,v,P,g;let y={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(e==null?void 0:e.mutationMode)??a??ye.mutationMode,undoableTimeout:(e==null?void 0:e.undoableTimeout)??u??ye.undoableTimeout,syncWithLocation:(e==null?void 0:e.syncWithLocation)??o??ye.syncWithLocation,warnWhenUnsavedChanges:(e==null?void 0:e.warnWhenUnsavedChanges)??c??ye.warnWhenUnsavedChanges,liveMode:(e==null?void 0:e.liveMode)??r??ye.liveMode,redirect:{afterCreate:((d=e==null?void 0:e.redirect)==null?void 0:d.afterCreate)??ye.redirect.afterCreate,afterClone:((m=e==null?void 0:e.redirect)==null?void 0:m.afterClone)??ye.redirect.afterClone,afterEdit:((p=e==null?void 0:e.redirect)==null?void 0:p.afterEdit)??ye.redirect.afterEdit},overtime:(e==null?void 0:e.overtime)??ye.overtime,textTransformers:{humanize:((w=e==null?void 0:e.textTransformers)==null?void 0:w.humanize)??ye.textTransformers.humanize,plural:((s=e==null?void 0:e.textTransformers)==null?void 0:s.plural)??ye.textTransformers.plural,singular:((v=e==null?void 0:e.textTransformers)==null?void 0:v.singular)??ye.textTransformers.singular},disableServerSideValidation:(e==null?void 0:e.disableServerSideValidation)??ye.disableServerSideValidation,projectId:e==null?void 0:e.projectId,useNewQueryKeys:e==null?void 0:e.useNewQueryKeys},f=(e==null?void 0:e.disableTelemetry)??t??!1,b={clientConfig:((P=e==null?void 0:e.reactQuery)==null?void 0:P.clientConfig)??i??{},devtoolConfig:((g=e==null?void 0:e.reactQuery)==null?void 0:g.devtoolConfig)??n??{}};return{optionsWithDefaults:y,disableTelemetryWithDefault:f,reactQueryWithDefaults:b}},"handleRefineOptions"),wo=l(({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},"redirectPage"),ma=l(async(e,t,r)=>{let a=[];for(let[i,n]of e.entries())try{let o=await n();a.push(t(o,i))}catch(o){a.push(r(o,i))}return a},"sequentialPromises"),ve=l((e,t=[],r=!1)=>{if(!e)return;if(r)return t.find(n=>We(n.route??"")===We(e))||t.find(n=>n.name===e);let a=t.find(i=>i.identifier===e);return a||(a=t.find(i=>i.name===e)),a},"pickResource"),H=l((e,t,r)=>{if(t)return t;let a=ve(e,r),i=$(a==null?void 0:a.meta,a==null?void 0:a.options);return i!=null&&i.dataProviderName?i.dataProviderName:"default"},"pickDataProvider"),Ht=l(async e=>({data:(await Promise.all(e)).map(t=>t.data)}),"handleMultiple"),wi=l(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let a=(t==null?void 0:t.current)||1,i=(t==null?void 0:t.pageSize)||10,n=Math.ceil((e.total||0)/i);return a<n?Number(a)+1:void 0},"getNextPageParam"),Si=l(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let a=(t==null?void 0:t.current)||1;return a===1?void 0:a-1},"getPreviousPageParam"),Di=l(e=>{let t=[];return e.forEach(r=>{var a,i;t.push({...r,label:((a=r.meta)==null?void 0:a.label)??((i=r.options)==null?void 0:i.label),route:bi(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},"legacyResourceTransform"),So=l(e=>gt(We(e)).flatMap(t=>qr(t)?[t.slice(1)]:[]),"pickRouteParams"),Do=l((e,t={})=>e.reduce((r,a)=>{let i=t[a];return typeof i<"u"&&(r[a]=i),r},{}),"prepareRouteParams"),Me=l((e,t={},r={},a={})=>{let i=So(e),n=Do(i,{...t,...typeof(r==null?void 0:r.id)<"u"?{id:r.id}:{},...typeof(r==null?void 0:r.action)<"u"?{action:r.action}:{},...typeof(r==null?void 0:r.resource)<"u"?{resource:r.resource}:{},...r==null?void 0:r.params,...a});return e.replace(/:([^\/]+)/g,(o,u)=>{let c=n[u];return typeof c<"u"?`${c}`:o})},"composeRoute"),yt=U(C("react")),Ti=yt.default.createContext({}),To=l(({children:e,isProvided:t,...r})=>{let{replace:a}=ke(),i=l(async c=>{var d;try{return await((d=r.login)==null?void 0:d.call(r,c))}catch(m){return Promise.reject(m)}},"loginFunc"),n=l(async c=>{var d;try{return await((d=r.register)==null?void 0:d.call(r,c))}catch(m){return Promise.reject(m)}},"registerFunc"),o=l(async c=>{var d;try{return await((d=r.logout)==null?void 0:d.call(r,c))}catch(m){return Promise.reject(m)}},"logoutFunc"),u=l(async c=>{var d;try{return await((d=r.checkAuth)==null?void 0:d.call(r,c)),Promise.resolve()}catch(m){return m!=null&&m.redirectPath&&a(m.redirectPath),Promise.reject(m)}},"checkAuthFunc");return yt.default.createElement(Ti.Provider,{value:{...r,login:i,logout:o,checkAuth:u,register:n,isProvided:t}},e)},"LegacyAuthContextProvider"),qi=yt.default.createContext({}),qo=l(({children:e,isProvided:t,...r})=>{let a=l(async d=>{var m;try{return await((m=r.login)==null?void 0:m.call(r,d))}catch(p){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",p),Promise.reject(p)}},"handleLogin"),i=l(async d=>{var m;try{return await((m=r.register)==null?void 0:m.call(r,d))}catch(p){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",p),Promise.reject(p)}},"handleRegister"),n=l(async d=>{var m;try{return await((m=r.logout)==null?void 0:m.call(r,d))}catch(p){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",p),Promise.reject(p)}},"handleLogout"),o=l(async d=>{var m;try{let p=await((m=r.check)==null?void 0:m.call(r,d));return Promise.resolve(p)}catch(p){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",p),Promise.reject(p)}},"handleCheck"),u=l(async d=>{var m;try{let p=await((m=r.forgotPassword)==null?void 0:m.call(r,d));return Promise.resolve(p)}catch(p){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",p),Promise.reject(p)}},"handleForgotPassword"),c=l(async d=>{var m;try{let p=await((m=r.updatePassword)==null?void 0:m.call(r,d));return Promise.resolve(p)}catch(p){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",p),Promise.reject(p)}},"handleUpdatePassword");return yt.default.createElement(qi.Provider,{value:{...r,login:a,logout:n,check:o,register:i,forgotPassword:u,updatePassword:c,isProvided:t}},e)},"AuthBindingsContextProvider"),xe=l(()=>yt.default.useContext(Ti),"useLegacyAuthContext"),Ie=l(()=>yt.default.useContext(qi),"useAuthBindingsContext"),ue=l(()=>{let e=xe(),t=Ie();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},"useActiveAuthProvider"),Mi=l(({hasPagination:e,pagination:t,configPagination:r}={})=>{let a=e===!1?"off":"server",i=(t==null?void 0:t.mode)??a,n=$(t==null?void 0:t.current,r==null?void 0:r.current)??1,o=$(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize)??10;return{current:n,pageSize:o,mode:i}},"handlePaginationParams"),va=C("react"),pa=l(e=>{let[t,r]=(0,va.useState)(!1);return(0,va.useEffect)(()=>{let a=window.matchMedia(e);a.matches!==t&&r(a.matches);let i=l(()=>r(a.matches),"listener");return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[t,e]),t},"useMediaQuery"),or=l((e,t,r,a)=>{let i=a?e(t,a,r):e(t,r);return i===t||typeof i>"u"?r??t:i},"safeTranslate");function xi(e,t,r,a,i){var n;let o={create:"Create new ",clone:`#${a??""} Clone `,edit:`#${a??""} Edit `,show:`#${a??""} Show `,list:""},u=(t==null?void 0:t.identifier)??(t==null?void 0:t.name),c=(t==null?void 0:t.label)??((n=t==null?void 0:t.meta)==null?void 0:n.label)??si(u,r==="list"?"plural":"singular"),d=i??c,m=or(e,"documentTitle.default","refine"),p=or(e,"documentTitle.suffix"," | refine"),w=m;return r&&u&&(w=or(e,`documentTitle.${u}.${r}`,`${o[r]??""}${d}${p}`,{id:a})),w}Q(xi,"Ko");l(xi,"generateDefaultDocumentTitle");var Mo=C("react"),ht=l(()=>{let{mutationMode:e,undoableTimeout:t}=(0,Mo.useContext)(Ye);return{mutationMode:e,undoableTimeout:t}},"useMutationMode"),fa=C("react"),br=U(C("react")),Ni=br.default.createContext({}),xo=l(({children:e})=>{let[t,r]=(0,br.useState)(!1);return br.default.createElement(Ni.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},"UnsavedWarnContextProvider"),Mr=l(()=>{let{warnWhenUnsavedChanges:e}=(0,fa.useContext)(Ye),{warnWhen:t,setWarnWhen:r}=(0,fa.useContext)(Ni);return{warnWhenUnsavedChanges:e,warnWhen:!!t,setWarnWhen:r??(()=>{})}},"useWarnAboutChange"),No=C("react"),ki=l(()=>{let{syncWithLocation:e}=(0,No.useContext)(Ye);return{syncWithLocation:e}},"useSyncWithLocation"),ko=C("react"),Oo=l(()=>{let{Title:e}=(0,ko.useContext)(Ye);return e},"useTitle"),Ro=C("react"),he=l(()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:i,Title:n,hasDashboard:o,mutationMode:u,syncWithLocation:c,undoableTimeout:d,warnWhenUnsavedChanges:m,DashboardPage:p,LoginPage:w,catchAll:s,options:v}=(0,Ro.useContext)(Ye);return{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:i,Title:n,hasDashboard:o,mutationMode:u,syncWithLocation:c,undoableTimeout:d,warnWhenUnsavedChanges:m,DashboardPage:p,LoginPage:w,catchAll:s,options:v}},"useRefineContext"),xr=l(()=>{let{options:{textTransformers:e}}=he();return l((t="",r)=>{let a=e.humanize(t);return r==="singular"?e.singular(a):e.plural(a)},"getFriendlyName")},"useUserFriendlyName"),Nr=l(e=>{let{current:t,pageSize:r,sorter:a,sorters:i,filters:n}=Dr.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:$(i,a)??[],parsedFilters:n??[]}},"parseTableParams"),Ao=l(e=>{let t=Dr.default.stringify(e);return Nr(`/${t}`)},"parseTableParamsFromQuery"),Er=l(e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:a,sorters:i,filters:n,...o}=e;return Dr.default.stringify({...o,...r||{},sorters:$(i,a),filters:n},t)},"stringifyTableParams"),Oi=l((e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,"compareFilters"),Ri=l((e,t)=>e.field==t.field,"compareSorters"),Ct=l((e,t,r=[])=>(t.filter(a=>(a.operator==="or"||a.operator==="and")&&!a.key).length>1&&(0,so.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,ni.default)(e,t,r,Oi).filter(a=>a.value!==void 0&&a.value!==null&&(a.operator!=="or"||a.operator==="or"&&a.value.length!==0)&&(a.operator!=="and"||a.operator==="and"&&a.value.length!==0))),"unionFilters"),Cr=l((e,t)=>(0,ni.default)(e,t,Ri).filter(r=>r.order!==void 0&&r.order!==null),"unionSorters"),Lr=l((e,t)=>[...(0,oi.default)(t,e,Oi),...e],"setInitialFilters"),wr=l((e,t)=>[...(0,oi.default)(t,e,Ri),...e],"setInitialSorters"),Fo=l((e,t)=>{if(!t)return;let r=t.find(a=>a.field===e);if(r)return r.order},"getDefaultSortOrder"),Io=l((e,t,r="eq")=>{let a=t==null?void 0:t.find(i=>{if(i.operator!=="or"&&i.operator!=="and"&&"field"in i){let{operator:n,field:o}=i;return o===e&&n===r}});if(a)return a.value||[]},"getDefaultFilter"),$o=l(e=>new Promise((t,r)=>{let a=new FileReader,i=l(()=>{a.result&&(a.removeEventListener("load",i,!1),t(a.result))},"resultHandler");a.addEventListener("load",i,!1),a.readAsDataURL(e.originFileObj),a.onerror=n=>(a.removeEventListener("load",i,!1),r(n))}),"file2Base64"),Y=l(()=>{let{options:{useNewQueryKeys:e}}=he();return{keys:Xe,preferLegacyKeys:!e}},"useKeys");function Ai({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=xe(),{getPermissions:a}=Ie(),{keys:i,preferLegacyKeys:n}=Y(),o=(0,sa.useQuery)(i().auth().action("permissions").get(n),a??(()=>Promise.resolve(void 0)),{enabled:!e&&!!a,...e?{}:t,meta:{...e?{}:t==null?void 0:t.meta,...(0,ua.getXRay)("usePermissions",n)}}),u=(0,sa.useQuery)([...i().auth().action("permissions").get(n),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve(void 0)),{enabled:e&&!!r,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,ua.getXRay)("usePermissions",n)}});return e?u:o}Q(Ai,"mn");l(Ai,"usePermissions");var ga=C("@tanstack/react-query"),ya=Z();function kr({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=xe(),{getIdentity:a}=Ie(),{keys:i,preferLegacyKeys:n}=Y(),o=(0,ga.useQuery)(i().auth().action("identity").get(n),a??(()=>Promise.resolve({})),{enabled:!e&&!!a,retry:!1,...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,ya.getXRay)("useGetIdentity",n)}}),u=(0,ga.useQuery)([...i().auth().action("identity").get(n),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve({})),{enabled:e&&!!r,retry:!1,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,ya.getXRay)("useGetIdentity",n)}});return e?u:o}Q(kr,"zr");l(kr,"useGetIdentity");var ha=C("@tanstack/react-query"),Pa=Z(),Uo=C("@tanstack/react-query"),Or=l(()=>{let e=(0,Uo.useQueryClient)(),{keys:t,preferLegacyKeys:r}=Y();return l(async()=>{await Promise.all(["check","identity","permissions"].map(a=>e.invalidateQueries(t().auth().action(a).get(r))))},"invalidate")},"useInvalidateAuthStore");function jt({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Or(),a=de(),i=Ne(),{push:n}=ke(),{open:o,close:u}=Je(),{logout:c}=xe(),{logout:d}=Ie(),{keys:m,preferLegacyKeys:p}=Y(),w=(0,ha.useMutation)(m().auth().action("logout").get(p),d,{onSuccess:async(v,P)=>{let{success:g,error:y,redirectTo:f}=v,{redirectPath:b}=P??{},T=b??f;g&&(u==null||u("useLogout-error")),(y||!g)&&(o==null||o(lr(y))),await r(),T!==!1&&(a==="legacy"?n(T??"/login"):T&&i({to:T}))},onError:v=>{o==null||o(lr(v))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Pa.getXRay)("useLogout",p)}}),s=(0,ha.useMutation)([...m().auth().action("logout").get(p),"v3LegacyAuthProviderCompatible"],c,{onSuccess:async(v,P)=>{let g=(P==null?void 0:P.redirectPath)??v;if(await r(),g!==!1){if(g){a==="legacy"?n(g):i({to:g});return}a==="legacy"?n("/login"):i({to:"/login"})}},onError:v=>{o==null||o(lr(v))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Pa.getXRay)("useLogout",p)}});return e?s:w}Q(jt,"pr");l(jt,"useLogout");var lr=l(e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),"buildNotification"),Qo=U(C("react")),ba=C("@tanstack/react-query"),Ea=Z(),Ko=U(C("qs"));function Xt({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Or(),a=de(),i=Ne(),{replace:n}=ke(),o=$e(),{useLocation:u}=De(),{search:c}=u(),{close:d,open:m}=Je(),{login:p}=xe(),{login:w}=Ie(),{keys:s,preferLegacyKeys:v}=Y(),P=Qo.default.useMemo(()=>{var f;return a==="legacy"?Ko.default.parse(c,{ignoreQueryPrefix:!0}).to:(f=o.params)==null?void 0:f.to},[a,o.params,c]),g=(0,ba.useMutation)(s().auth().action("login").get(v),w,{onSuccess:async({success:f,redirectTo:b,error:T})=>{f&&(d==null||d("login-error")),(T||!f)&&(m==null||m(sr(T))),await r(),P&&f?a==="legacy"?n(P):i({to:P,type:"replace"}):b?a==="legacy"?n(b):i({to:b,type:"replace"}):a==="legacy"&&n("/")},onError:f=>{m==null||m(sr(f))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Ea.getXRay)("useLogin",v)}}),y=(0,ba.useMutation)([...s().auth().action("login").get(v),"v3LegacyAuthProviderCompatible"],p,{onSuccess:async f=>{await r(),P&&n(P),f!==!1&&!P&&(typeof f=="string"?a==="legacy"?n(f):i({to:f,type:"replace"}):a==="legacy"?n("/"):i({to:"/",type:"replace"})),d==null||d("login-error")},onError:f=>{m==null||m(sr(f))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ea.getXRay)("useLogin",v)}});return e?y:g}Q(Xt,"At");l(Xt,"useLogin");var sr=l(e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),"buildNotification"),Ca=C("@tanstack/react-query"),La=Z();function Rr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Or(),a=de(),i=Ne(),{replace:n}=ke(),{register:o}=xe(),{register:u}=Ie(),{close:c,open:d}=Je(),{keys:m,preferLegacyKeys:p}=Y(),w=(0,Ca.useMutation)(m().auth().action("register").get(p),u,{onSuccess:async({success:v,redirectTo:P,error:g})=>{v&&(c==null||c("register-error")),(g||!v)&&(d==null||d(ur(g))),await r(),P?a==="legacy"?n(P):i({to:P,type:"replace"}):a==="legacy"&&n("/")},onError:v=>{d==null||d(ur(v))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,La.getXRay)("useRegister",p)}}),s=(0,Ca.useMutation)([...m().auth().action("register").get(p),"v3LegacyAuthProviderCompatible"],o,{onSuccess:async v=>{await r(),v!==!1&&(v?a==="legacy"?n(v):i({to:v,type:"replace"}):a==="legacy"?n("/"):i({to:"/",type:"replace"}),c==null||c("register-error"))},onError:v=>{d==null||d(ur(v))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,La.getXRay)("useRegister",p)}});return e?s:w}Q(Rr,"jr");l(Rr,"useRegister");var ur=l(e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),"buildNotification"),wa=C("@tanstack/react-query"),Sa=Z();function Ar({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=de(),a=Ne(),{replace:i}=ke(),{forgotPassword:n}=xe(),{forgotPassword:o}=Ie(),{close:u,open:c}=Je(),{keys:d,preferLegacyKeys:m}=Y(),p=(0,wa.useMutation)(d().auth().action("forgotPassword").get(m),o,{onSuccess:({success:s,redirectTo:v,error:P})=>{s&&(u==null||u("forgot-password-error")),(P||!s)&&(c==null||c(dr(P))),v&&(r==="legacy"?i(v):a({to:v,type:"replace"}))},onError:s=>{c==null||c(dr(s))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Sa.getXRay)("useForgotPassword",m)}}),w=(0,wa.useMutation)([...d().auth().action("forgotPassword").get(m),"v3LegacyAuthProviderCompatible"],n,{onSuccess:s=>{s!==!1&&s&&(r==="legacy"?i(s):a({to:s,type:"replace"})),u==null||u("forgot-password-error")},onError:s=>{c==null||c(dr(s))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Sa.getXRay)("useForgotPassword",m)}});return e?w:p}Q(Ar,"_r");l(Ar,"useForgotPassword");var dr=l(e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),"buildNotification"),zo=U(C("react")),Da=C("@tanstack/react-query"),Ta=Z(),Wo=U(C("qs"));function Fr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=de(),a=Ne(),{replace:i}=ke(),{updatePassword:n}=xe(),{updatePassword:o}=Ie(),{close:u,open:c}=Je(),{keys:d,preferLegacyKeys:m}=Y(),p=$e(),{useLocation:w}=De(),{search:s}=w(),v=zo.default.useMemo(()=>r==="legacy"?Wo.default.parse(s,{ignoreQueryPrefix:!0})??{}:p.params??{},[s,p,r]),P=(0,Da.useMutation)(d().auth().action("updatePassword").get(m),async y=>o==null?void 0:o({...v,...y}),{onSuccess:({success:y,redirectTo:f,error:b})=>{y&&(u==null||u("update-password-error")),(b||!y)&&(c==null||c(cr(b))),f&&(r==="legacy"?i(f):a({to:f,type:"replace"}))},onError:y=>{c==null||c(cr(y))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Ta.getXRay)("useUpdatePassword",m)}}),g=(0,Da.useMutation)([...d().auth().action("updatePassword").get(m),"v3LegacyAuthProviderCompatible"],async y=>n==null?void 0:n({...v,...y}),{onSuccess:y=>{y!==!1&&y&&(r==="legacy"?i(y):a({to:y,type:"replace"})),u==null||u("update-password-error")},onError:y=>{c==null||c(cr(y))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ta.getXRay)("useUpdatePassword",m)}});return e?g:P}Q(Fr,"Or");l(Fr,"useUpdatePassword");var cr=l(e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),"buildNotification"),qa=C("@tanstack/react-query"),Ma=Z();function Gt({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=xe(),{check:a}=Ie(),{keys:i,preferLegacyKeys:n}=Y(),o=(0,qa.useQuery)(i().auth().action("check").params(t).get(n),async()=>await(a==null?void 0:a(t))??{},{retry:!1,enabled:!e,meta:{...(0,Ma.getXRay)("useIsAuthenticated",n)}}),u=(0,qa.useQuery)([...i().auth().action("check").params(t).get(n),"v3LegacyAuthProviderCompatible"],async()=>await(r==null?void 0:r(t))??{},{retry:!1,enabled:e,meta:{...(0,Ma.getXRay)("useIsAuthenticated",n)}});return e?u:o}Q(Gt,"lr");l(Gt,"useIsAuthenticated");var _o=Gt,xa=C("@tanstack/react-query"),Na=Z();function Pe({v3LegacyAuthProviderCompatible:e=!1}={}){let t=de(),r=Ne(),{replace:a}=ke(),{checkError:i}=xe(),{onError:n}=Ie(),{keys:o,preferLegacyKeys:u}=Y(),{mutate:c}=jt({v3LegacyAuthProviderCompatible:!!e}),{mutate:d}=jt({v3LegacyAuthProviderCompatible:!!e}),m=(0,xa.useMutation)(o().auth().action("onError").get(u),n,{onSuccess:({logout:w,redirectTo:s})=>{if(w){d({redirectPath:s});return}if(s){t==="legacy"?a(s):r({to:s,type:"replace"});return}},meta:{...(0,Na.getXRay)("useOnError",u)}}),p=(0,xa.useMutation)([...o().auth().action("onError").get(u),"v3LegacyAuthProviderCompatible"],i,{onError:w=>{c({redirectPath:w})},meta:{...(0,Na.getXRay)("useOnError",u)}});return e?p:m}Q(Pe,"ae");l(Pe,"useOnError");var jo=Pe,Fi=l(()=>{let{isProvided:e}=xe(),{isProvided:t}=Ie();return!!(t||e)},"useIsExistAuthentication"),Bo=C("@tanstack/react-query"),Vo=Z(),mr=C("react"),ce=l(({isLoading:e,interval:t,onInterval:r})=>{let[a,i]=(0,mr.useState)(void 0),{options:n}=he(),{overtime:o}=n,u=t??o.interval,c=r??(o==null?void 0:o.onInterval);return(0,mr.useEffect)(()=>{let d;return e&&(d=setInterval(()=>{i(m=>m===void 0?u:m+u)},u)),()=>{clearInterval(d),i(void 0)}},[e,u]),(0,mr.useEffect)(()=>{c&&a&&c(a)},[a]),{elapsedTime:a}},"useLoadingOvertime"),Ir=l(({resource:e,config:t,filters:r,hasPagination:a,pagination:i,sorters:n,queryOptions:o,successNotification:u,errorNotification:c,meta:d,metaData:m,liveMode:p,onLiveEvent:w,liveParams:s,dataProviderName:v,overtimeOptions:P})=>{let{resources:g,resource:y,identifier:f}=X(e),b=fe(),T=te(),I=ue(),{mutate:E}=Pe({v3LegacyAuthProviderCompatible:!!(I!=null&&I.isLegacy)}),h=Se(),M=oe(),{keys:L,preferLegacyKeys:q}=Y(),O=H(f,v,g),D=$(d,m),S=$(r,t==null?void 0:t.filters),R=$(n,t==null?void 0:t.sort),x=$(a,t==null?void 0:t.hasPagination),N=Mi({pagination:i,configPagination:t==null?void 0:t.pagination,hasPagination:x}),k=N.mode==="server",A=M({resource:y,meta:D}),K={meta:A,metaData:A,filters:S,hasPagination:k,pagination:N,sorters:R,config:{...t,sort:R}},F=(o==null?void 0:o.enabled)===void 0||(o==null?void 0:o.enabled)===!0,{getList:B}=b(O);Tt({resource:f,types:["*"],params:{meta:A,metaData:A,pagination:N,hasPagination:k,sort:R,sorters:R,filters:S,subscriptionType:"useList",...s},channel:`resources/${y==null?void 0:y.name}`,enabled:F,liveMode:p,onLiveEvent:w});let z=(0,Bo.useQuery)(L().data(O).resource(f??"").action("list").params({...D||{},filters:S,hasPagination:k,...k&&{pagination:N},...n&&{sorters:n},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(q),({queryKey:W,pageParam:_,signal:j})=>B({resource:(y==null?void 0:y.name)??"",pagination:N,hasPagination:k,filters:S,sort:R,sorters:R,meta:{...A,queryContext:{queryKey:W,pageParam:_,signal:j}},metaData:{...A,queryContext:{queryKey:W,pageParam:_,signal:j}}}),{...o,enabled:typeof(o==null?void 0:o.enabled)<"u"?o==null?void 0:o.enabled:!!(y!=null&&y.name),select:W=>{var _;let j=W,{current:me,mode:pe,pageSize:Te}=N;return pe==="client"&&(j={...j,data:j.data.slice((me-1)*Te,me*Te),total:j.total}),o!=null&&o.select?(_=o==null?void 0:o.select)==null?void 0:_.call(o,j):j},onSuccess:W=>{var _;(_=o==null?void 0:o.onSuccess)==null||_.call(o,W);let j=typeof u=="function"?u(W,K,f):u;h(j)},onError:W=>{var _;E(W),(_=o==null?void 0:o.onError)==null||_.call(o,W);let j=typeof c=="function"?c(W,K,f):c;h(j,{key:`${f}-useList-notification`,message:T("notifications.error",{statusCode:W.statusCode},`Error (status code: ${W.statusCode})`),description:W.message,type:"error"})},meta:{...o==null?void 0:o.meta,...(0,Vo.getXRay)("useList",q)}}),{elapsedTime:V}=ce({isLoading:z.isFetching,interval:P==null?void 0:P.interval,onInterval:P==null?void 0:P.onInterval});return{...z,overtime:{elapsedTime:V}}},"useList"),Ho=C("@tanstack/react-query"),Xo=Z(),$r=l(({resource:e,id:t,queryOptions:r,successNotification:a,errorNotification:i,meta:n,metaData:o,liveMode:u,onLiveEvent:c,liveParams:d,dataProviderName:m,overtimeOptions:p})=>{let{resources:w,resource:s,identifier:v}=X(e),P=fe(),g=te(),y=ue(),{mutate:f}=Pe({v3LegacyAuthProviderCompatible:!!(y!=null&&y.isLegacy)}),b=Se(),T=oe(),{keys:I,preferLegacyKeys:E}=Y(),h=$(n,o),M=H(v,m,w),{getOne:L}=P(M),q=T({resource:s,meta:h});Tt({resource:v,types:["*"],channel:`resources/${s==null?void 0:s.name}`,params:{ids:t?[t]:[],id:t,meta:q,metaData:q,subscriptionType:"useOne",...d},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof(s==null?void 0:s.name)<"u"&&typeof t<"u",liveMode:u,onLiveEvent:c});let O=(0,Ho.useQuery)(I().data(M).resource(v??"").action("one").id(t??"").params({...h||{}}).get(E),({queryKey:S,pageParam:R,signal:x})=>L({resource:(s==null?void 0:s.name)??"",id:t,meta:{...q,queryContext:{queryKey:S,pageParam:R,signal:x}},metaData:{...q,queryContext:{queryKey:S,pageParam:R,signal:x}}}),{...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:S=>{var R;(R=r==null?void 0:r.onSuccess)==null||R.call(r,S);let x=typeof a=="function"?a(S,{id:t,...q},v):a;b(x)},onError:S=>{var R;f(S),(R=r==null?void 0:r.onError)==null||R.call(r,S);let x=typeof i=="function"?i(S,{id:t,...q},v):i;b(x,{key:`${t}-${v}-getOne-notification`,message:g("notifications.error",{statusCode:S.statusCode},`Error (status code: ${S.statusCode})`),description:S.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,Xo.getXRay)("useOne",E)}}),{elapsedTime:D}=ce({isLoading:O.isFetching,interval:p==null?void 0:p.interval,onInterval:p==null?void 0:p.onInterval});return{...O,overtime:{elapsedTime:D}}},"useOne"),Go=C("@tanstack/react-query"),Zo=Z(),Ii=l(({resource:e,ids:t,queryOptions:r,successNotification:a,errorNotification:i,meta:n,metaData:o,liveMode:u,onLiveEvent:c,liveParams:d,dataProviderName:m,overtimeOptions:p})=>{let{resources:w,resource:s,identifier:v}=X(e),P=fe(),g=te(),y=ue(),{mutate:f}=Pe({v3LegacyAuthProviderCompatible:!!(y!=null&&y.isLegacy)}),b=Se(),T=oe(),{keys:I,preferLegacyKeys:E}=Y(),h=$(n,o),M=H(v,m,w),L=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0,{getMany:q,getOne:O}=P(M),D=T({resource:s,meta:h});Tt({resource:v,types:["*"],params:{ids:t,meta:D,metaData:D,subscriptionType:"useMany",...d},channel:`resources/${s.name}`,enabled:L,liveMode:u,onLiveEvent:c});let S=(0,Go.useQuery)(I().data(M).resource(v).action("many").ids(...t).params({...h||{}}).get(E),({queryKey:x,pageParam:N,signal:k})=>q?q({resource:s==null?void 0:s.name,ids:t,meta:{...D,queryContext:{queryKey:x,pageParam:N,signal:k}},metaData:{...D,queryContext:{queryKey:x,pageParam:N,signal:k}}}):Ht(t.map(A=>O({resource:s==null?void 0:s.name,id:A,meta:{...D,queryContext:{queryKey:x,pageParam:N,signal:k}},metaData:{...D,queryContext:{queryKey:x,pageParam:N,signal:k}}}))),{...r,onSuccess:x=>{var N;(N=r==null?void 0:r.onSuccess)==null||N.call(r,x);let k=typeof a=="function"?a(x,t,v):a;b(k)},onError:x=>{var N;f(x),(N=r==null?void 0:r.onError)==null||N.call(r,x);let k=typeof i=="function"?i(x,t,v):i;b(k,{key:`${t[0]}-${v}-getMany-notification`,message:g("notifications.error",{statusCode:x.statusCode},`Error (status code: ${x.statusCode})`),description:x.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,Zo.getXRay)("useMany",E)}}),{elapsedTime:R}=ce({isLoading:S.isFetching,interval:p==null?void 0:p.interval,onInterval:p==null?void 0:p.onInterval});return{...S,overtime:{elapsedTime:R}}},"useMany"),ka=C("@tanstack/react-query"),Yo=Z(),Wt=U(C("react")),vr=U(C("lodash/isEqual")),$i=Wt.default.createContext({notifications:[],notificationDispatch:()=>!1}),Jo=[],el=l((e,t)=>{switch(t.type){case"ADD":return[...e.filter(r=>!((0,vr.default)(r.id,t.payload.id)&&r.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!((0,vr.default)(r.id,t.payload.id)&&r.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>(0,vr.default)(r.id,t.payload.id)&&r.resource==t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},"undoableQueueReducer"),tl=l(({children:e})=>{let[t,r]=(0,Wt.useReducer)(el,Jo),a={notifications:t,notificationDispatch:r};return Wt.default.createElement($i.Provider,{value:a},e,typeof window<"u"&&t.map(i=>Wt.default.createElement(un,{key:`${i.id}-${i.resource}-queue`,notification:i})))},"UndoableQueueContextProvider"),Sr=l(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:a}=X(),i=(0,ka.useQueryClient)(),n=fe(),{mutationMode:o,undoableTimeout:u}=ht(),c=te(),d=ue(),{mutate:m}=Pe({v3LegacyAuthProviderCompatible:!!(d!=null&&d.isLegacy)}),p=st(),{log:w}=dt(),{notificationDispatch:s}=Pt(),v=Se(),P=je(),g=oe(),{options:{textTransformers:y}}=he(),{keys:f,preferLegacyKeys:b}=Y(),T=(0,ka.useMutation)(({id:E,values:h,resource:M,mutationMode:L,undoableTimeout:q,onCancel:O,meta:D,metaData:S,dataProviderName:R})=>{let{resource:x,identifier:N}=a(M),k=g({resource:x,meta:$(D,S)}),A=L??o,K=q??u;return A!=="undoable"?n(H(N,R,r)).update({resource:x.name,id:E,variables:h,meta:k,metaData:k}):new Promise((F,B)=>{let z=l(()=>{n(H(N,R,r)).update({resource:x.name,id:E,variables:h,meta:k,metaData:k}).then(W=>F(W)).catch(W=>B(W))},"doMutation"),V=l(()=>{B({message:"mutationCancelled"})},"cancelMutation");O&&O(V),s({type:"ADD",payload:{id:E,resource:N,cancelMutation:V,doMutation:z,seconds:K,isSilent:!!O}})})},{onMutate:async({resource:E,id:h,mutationMode:M,values:L,dataProviderName:q,meta:O,metaData:D,optimisticUpdateMap:S={list:!0,many:!0,detail:!0}})=>{let{identifier:R}=a(E),x=$(O,D),N=Vt(b)(R,H(R,q,r),x),k=f().data(H(R,q,r)).resource(R),A=i.getQueriesData(k.get(b)),K=M??o;return await i.cancelQueries(k.get(b),void 0,{silent:!0}),K!=="pessimistic"&&(S.list&&i.setQueriesData(k.action("list").params(x??{}).get(b),F=>{if(typeof S.list=="function")return S.list(F,L,h);if(!F)return null;let B=F.data.map(z=>{var V;return((V=z.id)==null?void 0:V.toString())===(h==null?void 0:h.toString())?{id:h,...z,...L}:z});return{...F,data:B}}),S.many&&i.setQueriesData(k.action("many").get(b),F=>{if(typeof S.many=="function")return S.many(F,L,h);if(!F)return null;let B=F.data.map(z=>{var V;return((V=z.id)==null?void 0:V.toString())===(h==null?void 0:h.toString())&&(z={id:h,...z,...L}),z});return{...F,data:B}}),S.detail&&i.setQueriesData(k.action("one").id(h).params(x??{}).get(b),F=>typeof S.detail=="function"?S.detail(F,L,h):F?{...F,data:{...F.data,...L}}:null)),{previousQueries:A,queryKey:N}},onSettled:(E,h,{id:M,resource:L,dataProviderName:q,invalidates:O=["list","many","detail"]})=>{let{identifier:D}=a(L);P({resource:D,dataProviderName:H(D,q,r),invalidates:O,id:M}),s({type:"REMOVE",payload:{id:M,resource:D}})},onSuccess:(E,{id:h,resource:M,successNotification:L,dataProviderName:q,values:O,meta:D,metaData:S},R)=>{var x;let{resource:N,identifier:k}=a(M),A=y.singular(k),K=typeof L=="function"?L(E,{id:h,values:O},k):L;v(K,{key:`${h}-${k}-notification`,description:c("notifications.success","Successful"),message:c("notifications.editSuccess",{resource:c(`${k}.${k}`,A)},`Successfully updated ${A}`),type:"success"}),p==null||p({channel:`resources/${N.name}`,type:"updated",payload:{ids:(x=E.data)!=null&&x.id?[E.data.id]:void 0},date:new Date});let F;if(R){let _=i.getQueryData(R.queryKey.detail(h));F=Object.keys(O||{}).reduce((j,me)=>{var pe;return j[me]=(pe=_==null?void 0:_.data)==null?void 0:pe[me],j},{})}let{fields:B,operation:z,variables:V,...W}=$(D,S)||{};w==null||w.mutate({action:"update",resource:N.name,data:O,previousData:F,meta:{id:h,dataProviderName:H(k,q,r),...W}})},onError:(E,{id:h,resource:M,errorNotification:L,values:q},O)=>{let{identifier:D}=a(M);if(O)for(let S of O.previousQueries)i.setQueryData(S[0],S[1]);if(E.message!=="mutationCancelled"){m==null||m(E);let S=y.singular(D),R=typeof L=="function"?L(E,{id:h,values:q},D):L;v(R,{key:`${h}-${D}-notification`,message:c("notifications.editError",{resource:c(`${D}.${D}`,S),statusCode:E.statusCode},`Error when updating ${S} (status code: ${E.statusCode})`),description:E.message,type:"error"})}},mutationKey:f().data().mutation("update").get(b),...e,meta:{...e==null?void 0:e.meta,...(0,Yo.getXRay)("useUpdate",b)}}),{elapsedTime:I}=ce({isLoading:T.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...T,overtime:{elapsedTime:I}}},"useUpdate"),rl=C("@tanstack/react-query"),al=Z(),Ur=l(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ue(),{mutate:a}=Pe({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),i=fe(),n=je(),{resources:o,select:u}=X(),c=te(),d=st(),{log:m}=dt(),p=Se(),w=oe(),{options:{textTransformers:s}}=he(),{keys:v,preferLegacyKeys:P}=Y(),g=(0,rl.useMutation)(({resource:f,values:b,meta:T,metaData:I,dataProviderName:E})=>{let{resource:h,identifier:M}=u(f),L=w({resource:h,meta:$(T,I)});return i(H(M,E,o)).create({resource:h.name,variables:b,meta:L,metaData:L})},{onSuccess:(f,{resource:b,successNotification:T,dataProviderName:I,invalidates:E=["list","many"],values:h,meta:M,metaData:L})=>{var q,O;let{resource:D,identifier:S}=u(b),R=s.singular(S),x=typeof T=="function"?T(f,h,S):T;p(x,{key:`create-${S}-notification`,message:c("notifications.createSuccess",{resource:c(`${S}.${S}`,R)},`Successfully created ${R}`),description:c("notifications.success","Success"),type:"success"}),n({resource:S,dataProviderName:H(S,I,o),invalidates:E}),d==null||d({channel:`resources/${D.name}`,type:"created",payload:{ids:(q=f==null?void 0:f.data)!=null&&q.id?[f.data.id]:void 0},date:new Date});let N=w({resource:D,meta:$(M,L)}),{fields:k,operation:A,variables:K,...F}=N||{};m==null||m.mutate({action:"create",resource:D.name,data:h,meta:{dataProviderName:H(S,I,o),id:((O=f==null?void 0:f.data)==null?void 0:O.id)??void 0,...F}})},onError:(f,{resource:b,errorNotification:T,values:I})=>{a(f);let{identifier:E}=u(b),h=s.singular(E),M=typeof T=="function"?T(f,I,E):T;p(M,{key:`create-${E}-notification`,description:f.message,message:c("notifications.createError",{resource:c(`${E}.${E}`,h),statusCode:f.statusCode},`There was an error creating ${h} (status code: ${f.statusCode})`),type:"error"})},mutationKey:v().data().mutation("create").get(P),...e,meta:{...e==null?void 0:e.meta,...(0,al.getXRay)("useCreate",P)}}),{elapsedTime:y}=ce({isLoading:g.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...g,overtime:{elapsedTime:y}}},"useCreate"),Oa=C("@tanstack/react-query"),il=Z(),nl=l(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ue(),{mutate:a}=Pe({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),i=fe(),{resources:n,select:o}=X(),u=(0,Oa.useQueryClient)(),{mutationMode:c,undoableTimeout:d}=ht(),{notificationDispatch:m}=Pt(),p=te(),w=st(),{log:s}=dt(),v=Se(),P=je(),g=oe(),{options:{textTransformers:y}}=he(),{keys:f,preferLegacyKeys:b}=Y(),T=(0,Oa.useMutation)(({id:E,mutationMode:h,undoableTimeout:M,resource:L,onCancel:q,meta:O,metaData:D,dataProviderName:S,values:R})=>{let{resource:x,identifier:N}=o(L),k=g({resource:x,meta:$(O,D)}),A=h??c,K=M??d;return A!=="undoable"?i(H(N,S,n)).deleteOne({resource:x.name,id:E,meta:k,metaData:k,variables:R}):new Promise((F,B)=>{let z=l(()=>{i(H(N,S,n)).deleteOne({resource:x.name,id:E,meta:k,metaData:k,variables:R}).then(W=>F(W)).catch(W=>B(W))},"doMutation"),V=l(()=>{B({message:"mutationCancelled"})},"cancelMutation");q&&q(V),m({type:"ADD",payload:{id:E,resource:N,cancelMutation:V,doMutation:z,seconds:K,isSilent:!!q}})})},{onMutate:async({id:E,resource:h,mutationMode:M,dataProviderName:L,meta:q,metaData:O})=>{let{identifier:D}=o(h),S=$(q,O),R=Vt(b)(D,H(D,L,n),S),x=f().data(H(D,L,n)).resource(D),N=M??c;await u.cancelQueries(x.get(b),void 0,{silent:!0});let k=u.getQueriesData(x.get(b));return N!=="pessimistic"&&(u.setQueriesData(x.action("list").params(S??{}).get(b),A=>A?{data:A.data.filter(K=>{var F;return((F=K.id)==null?void 0:F.toString())!==E.toString()}),total:A.total-1}:null),u.setQueriesData(x.action("many").get(b),A=>{if(!A)return null;let K=A.data.filter(F=>{var B;return((B=F.id)==null?void 0:B.toString())!==(E==null?void 0:E.toString())});return{...A,data:K}})),{previousQueries:k,queryKey:R}},onSettled:(E,h,{id:M,resource:L,dataProviderName:q,invalidates:O=["list","many"]})=>{let{identifier:D}=o(L);P({resource:D,dataProviderName:H(D,q,n),invalidates:O}),m({type:"REMOVE",payload:{id:M,resource:D}})},onSuccess:(E,{id:h,resource:M,successNotification:L,dataProviderName:q,meta:O,metaData:D},S)=>{let{resource:R,identifier:x}=o(M),N=y.singular(x);u.removeQueries(S==null?void 0:S.queryKey.detail(h));let k=typeof L=="function"?L(E,h,x):L;v(k,{key:`${h}-${x}-notification`,description:p("notifications.success","Success"),message:p("notifications.deleteSuccess",{resource:p(`${x}.${x}`,N)},`Successfully deleted a ${N}`),type:"success"}),w==null||w({channel:`resources/${R.name}`,type:"deleted",payload:{ids:[h]},date:new Date});let A=g({resource:R,meta:$(O,D)}),{fields:K,operation:F,variables:B,...z}=A||{};s==null||s.mutate({action:"delete",resource:R.name,meta:{id:h,dataProviderName:H(x,q,n),...z}}),u.removeQueries(S==null?void 0:S.queryKey.detail(h))},onError:(E,{id:h,resource:M,errorNotification:L},q)=>{let{identifier:O}=o(M);if(q)for(let D of q.previousQueries)u.setQueryData(D[0],D[1]);if(E.message!=="mutationCancelled"){a(E);let D=y.singular(O),S=typeof L=="function"?L(E,h,O):L;v(S,{key:`${h}-${O}-notification`,message:p("notifications.deleteError",{resource:D,statusCode:E.statusCode},`Error (status code: ${E.statusCode})`),description:E.message,type:"error"})}},mutationKey:f().data().mutation("delete").get(b),...e,meta:{...e==null?void 0:e.meta,...(0,il.getXRay)("useDelete",b)}}),{elapsedTime:I}=ce({isLoading:T.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...T,overtime:{elapsedTime:I}}},"useDelete"),ol=C("@tanstack/react-query"),ll=Z(),Ui=l(({mutationOptions:e,overtimeOptions:t}={})=>{let r=fe(),{resources:a,select:i}=X(),n=te(),o=st(),u=Se(),c=je(),{log:d}=dt(),m=oe(),{options:{textTransformers:p}}=he(),{keys:w,preferLegacyKeys:s}=Y(),v=(0,ol.useMutation)(({resource:g,values:y,meta:f,metaData:b,dataProviderName:T})=>{let{resource:I,identifier:E}=i(g),h=m({resource:I,meta:$(f,b)}),M=r(H(E,T,a));return M.createMany?M.createMany({resource:I.name,variables:y,meta:h,metaData:h}):Ht(y.map(L=>M.create({resource:I.name,variables:L,meta:h,metaData:h})))},{onSuccess:(g,{resource:y,successNotification:f,dataProviderName:b,invalidates:T=["list","many"],values:I,meta:E,metaData:h})=>{let{resource:M,identifier:L}=i(y),q=p.plural(L),O=typeof f=="function"?f(g,I,L):f;u(O,{key:`createMany-${L}-notification`,message:n("notifications.createSuccess",{resource:n(`${L}.${L}`,L)},`Successfully created ${q}`),description:n("notifications.success","Success"),type:"success"}),c({resource:L,dataProviderName:H(L,b,a),invalidates:T});let D=g==null?void 0:g.data.filter(A=>(A==null?void 0:A.id)!==void 0).map(A=>A.id);o==null||o({channel:`resources/${M.name}`,type:"created",payload:{ids:D},date:new Date});let S=m({resource:M,meta:$(E,h)}),{fields:R,operation:x,variables:N,...k}=S||{};d==null||d.mutate({action:"createMany",resource:M.name,data:I,meta:{dataProviderName:H(L,b,a),ids:D,...k}})},onError:(g,{resource:y,errorNotification:f,values:b})=>{let{identifier:T}=i(y),I=typeof f=="function"?f(g,b,T):f;u(I,{key:`createMany-${T}-notification`,description:g.message,message:n("notifications.createError",{resource:n(`${T}.${T}`,T),statusCode:g.statusCode},`There was an error creating ${T} (status code: ${g.statusCode}`),type:"error"})},mutationKey:w().data().mutation("createMany").get(s),...e,meta:{...e==null?void 0:e.meta,...(0,ll.getXRay)("useCreateMany",s)}}),{elapsedTime:P}=ce({isLoading:v.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...v,overtime:{elapsedTime:P}}},"useCreateMany"),Ra=C("@tanstack/react-query"),sl=Z(),ul=l(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:a}=X(),i=(0,Ra.useQueryClient)(),n=fe(),o=te(),{mutationMode:u,undoableTimeout:c}=ht(),d=ue(),{mutate:m}=Pe({v3LegacyAuthProviderCompatible:!!(d!=null&&d.isLegacy)}),{notificationDispatch:p}=Pt(),w=st(),s=Se(),v=je(),{log:P}=dt(),g=oe(),{options:{textTransformers:y}}=he(),{keys:f,preferLegacyKeys:b}=Y(),T=(0,Ra.useMutation)(({ids:E,values:h,resource:M,onCancel:L,mutationMode:q,undoableTimeout:O,meta:D,metaData:S,dataProviderName:R})=>{let{resource:x,identifier:N}=a(M),k=g({resource:x,meta:$(D,S)}),A=q??u,K=O??c,F=n(H(N,R,r)),B=l(()=>F.updateMany?F.updateMany({resource:x.name,ids:E,variables:h,meta:k,metaData:k}):Ht(E.map(z=>F.update({resource:x.name,id:z,variables:h,meta:k,metaData:k}))),"mutationFn");return A!=="undoable"?B():new Promise((z,V)=>{let W=l(()=>{B().then(j=>z(j)).catch(j=>V(j))},"doMutation"),_=l(()=>{V({message:"mutationCancelled"})},"cancelMutation");L&&L(_),p({type:"ADD",payload:{id:E,resource:N,cancelMutation:_,doMutation:W,seconds:K,isSilent:!!L}})})},{onMutate:async({resource:E,ids:h,values:M,mutationMode:L,dataProviderName:q,meta:O,metaData:D,optimisticUpdateMap:S={list:!0,many:!0,detail:!0}})=>{let{identifier:R}=a(E),x=$(O,D),N=Vt(b)(R,H(R,q,r),$(O,D)),k=f().data(H(R,q,r)).resource(R),A=L??u;await i.cancelQueries(k.get(b),void 0,{silent:!0});let K=i.getQueriesData(k.get(b));if(A!=="pessimistic"&&(S.list&&i.setQueriesData(k.action("list").params(x??{}).get(b),F=>{if(typeof S.list=="function")return S.list(F,M,h);if(!F)return null;let B=F.data.map(z=>z.id!==void 0&&h.filter(V=>V!==void 0).map(String).includes(z.id.toString())?{...z,...M}:z);return{...F,data:B}}),S.many&&i.setQueriesData(k.action("many").get(b),F=>{if(typeof S.many=="function")return S.many(F,M,h);if(!F)return null;let B=F.data.map(z=>z.id!==void 0&&h.filter(V=>V!==void 0).map(String).includes(z.id.toString())?{...z,...M}:z);return{...F,data:B}}),S.detail))for(let F of h)i.setQueriesData(k.action("one").id(F).params(x??{}).get(b),B=>{if(typeof S.detail=="function")return S.detail(B,M,F);if(!B)return null;let z={...B.data,...M};return{...B,data:z}});return{previousQueries:K,queryKey:N}},onSettled:(E,h,{ids:M,resource:L,dataProviderName:q})=>{let{identifier:O}=a(L);v({resource:O,invalidates:["list","many"],dataProviderName:H(O,q,r)}),M.forEach(D=>v({resource:O,invalidates:["detail"],dataProviderName:H(O,q,r),id:D})),p({type:"REMOVE",payload:{id:M,resource:O}})},onSuccess:(E,{ids:h,resource:M,meta:L,metaData:q,dataProviderName:O,successNotification:D,values:S},R)=>{let{resource:x,identifier:N}=a(M),k=y.singular(N),A=typeof D=="function"?D(E,{ids:h,values:S},N):D;s(A,{key:`${h}-${N}-notification`,description:o("notifications.success","Successful"),message:o("notifications.editSuccess",{resource:o(`${N}.${N}`,N)},`Successfully updated ${k}`),type:"success"}),w==null||w({channel:`resources/${x.name}`,type:"updated",payload:{ids:h.map(String)},date:new Date});let K=[];R&&h.forEach(_=>{let j=i.getQueryData(R.queryKey.detail(_));K.push(Object.keys(S||{}).reduce((me,pe)=>{var Te;return me[pe]=(Te=j==null?void 0:j.data)==null?void 0:Te[pe],me},{}))});let F=g({resource:x,meta:$(L,q)}),{fields:B,operation:z,variables:V,...W}=F||{};P==null||P.mutate({action:"updateMany",resource:x.name,data:S,previousData:K,meta:{ids:h,dataProviderName:H(N,O,r),...W}})},onError:(E,{ids:h,resource:M,errorNotification:L,values:q},O)=>{let{identifier:D}=a(M);if(O)for(let S of O.previousQueries)i.setQueryData(S[0],S[1]);if(E.message!=="mutationCancelled"){m==null||m(E);let S=y.singular(D),R=typeof L=="function"?L(E,{ids:h,values:q},D):L;s(R,{key:`${h}-${D}-updateMany-error-notification`,message:o("notifications.editError",{resource:S,statusCode:E.statusCode},`Error when updating ${S} (status code: ${E.statusCode})`),description:E.message,type:"error"})}},mutationKey:f().data().mutation("updateMany").get(b),...e,meta:{...e==null?void 0:e.meta,...(0,sl.getXRay)("useUpdateMany",b)}}),{elapsedTime:I}=ce({isLoading:T.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...T,overtime:{elapsedTime:I}}},"useUpdateMany"),Aa=C("@tanstack/react-query"),dl=Z(),cl=l(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ue(),{mutate:a}=Pe({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),{mutationMode:i,undoableTimeout:n}=ht(),o=fe(),{notificationDispatch:u}=Pt(),c=te(),d=st(),m=Se(),p=je(),{log:w}=dt(),{resources:s,select:v}=X(),P=(0,Aa.useQueryClient)(),g=oe(),{options:{textTransformers:y}}=he(),{keys:f,preferLegacyKeys:b}=Y(),T=(0,Aa.useMutation)(({resource:E,ids:h,mutationMode:M,undoableTimeout:L,onCancel:q,meta:O,metaData:D,dataProviderName:S,values:R})=>{let{resource:x,identifier:N}=v(E),k=g({resource:x,meta:$(O,D)}),A=M??i,K=L??n,F=o(H(N,S,s)),B=l(()=>F.deleteMany?F.deleteMany({resource:x.name,ids:h,meta:k,metaData:k,variables:R}):Ht(h.map(z=>F.deleteOne({resource:x.name,id:z,meta:k,metaData:k,variables:R}))),"mutationFn");return A!=="undoable"?B():new Promise((z,V)=>{let W=l(()=>{B().then(j=>z(j)).catch(j=>V(j))},"doMutation"),_=l(()=>{V({message:"mutationCancelled"})},"cancelMutation");q&&q(_),u({type:"ADD",payload:{id:h,resource:N,cancelMutation:_,doMutation:W,seconds:K,isSilent:!!q}})})},{onMutate:async({ids:E,resource:h,mutationMode:M,dataProviderName:L,meta:q,metaData:O})=>{let{identifier:D}=v(h),S=$(q,O),R=Vt(b)(D,H(D,L,s),S),x=f().data(H(D,L,s)).resource(D),N=M??i;await P.cancelQueries(x.get(b),void 0,{silent:!0});let k=P.getQueriesData(x.get(b));if(N!=="pessimistic"){P.setQueriesData(x.action("list").params(S??{}).get(b),A=>A?{data:A.data.filter(K=>K.id&&!E.map(String).includes(K.id.toString())),total:A.total-1}:null),P.setQueriesData(x.action("many").get(b),A=>{if(!A)return null;let K=A.data.filter(F=>F.id?!E.map(String).includes(F.id.toString()):!1);return{...A,data:K}});for(let A of E)P.setQueriesData(x.action("one").id(A).params(S).get(b),K=>!K||K.data.id==A?null:{...K})}return{previousQueries:k,queryKey:R}},onSettled:(E,h,{resource:M,ids:L,dataProviderName:q,invalidates:O=["list","many"]})=>{let{identifier:D}=v(M);p({resource:D,dataProviderName:H(D,q,s),invalidates:O}),u({type:"REMOVE",payload:{id:L,resource:D}})},onSuccess:(E,{ids:h,resource:M,meta:L,metaData:q,dataProviderName:O,successNotification:D},S)=>{let{resource:R,identifier:x}=v(M);h.forEach(z=>P.removeQueries(S==null?void 0:S.queryKey.detail(z)));let N=typeof D=="function"?D(E,h,x):D;m(N,{key:`${h}-${x}-notification`,description:c("notifications.success","Success"),message:c("notifications.deleteSuccess",{resource:c(`${x}.${x}`,x)},`Successfully deleted ${x}`),type:"success"}),d==null||d({channel:`resources/${R.name}`,type:"deleted",payload:{ids:h},date:new Date});let k=g({resource:R,meta:$(L,q)}),{fields:A,operation:K,variables:F,...B}=k||{};w==null||w.mutate({action:"deleteMany",resource:R.name,meta:{ids:h,dataProviderName:H(x,O,s),...B}}),h.forEach(z=>P.removeQueries(S==null?void 0:S.queryKey.detail(z)))},onError:(E,{ids:h,resource:M,errorNotification:L},q)=>{let{identifier:O}=v(M);if(q)for(let D of q.previousQueries)P.setQueryData(D[0],D[1]);if(E.message!=="mutationCancelled"){a(E);let D=y.singular(O),S=typeof L=="function"?L(E,h,O):L;m(S,{key:`${h}-${O}-notification`,message:c("notifications.deleteError",{resource:D,statusCode:E.statusCode},`Error (status code: ${E.statusCode})`),description:E.message,type:"error"})}},mutationKey:f().data().mutation("deleteMany").get(b),...e,meta:{...e==null?void 0:e.meta,...(0,dl.getXRay)("useDeleteMany",b)}}),{elapsedTime:I}=ce({isLoading:T.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...T,overtime:{elapsedTime:I}}},"useDeleteMany"),ml=l(e=>{var t;let r=fe(),{resource:a}=X(),{getApiUrl:i}=r(e??((t=$(a==null?void 0:a.meta,a==null?void 0:a.options))==null?void 0:t.dataProviderName));return i()},"useApiUrl"),vl=C("@tanstack/react-query"),pl=Z(),fl=l(({url:e,method:t,config:r,queryOptions:a,successNotification:i,errorNotification:n,meta:o,metaData:u,dataProviderName:c,overtimeOptions:d})=>{let m=fe(),p=ue(),{mutate:w}=Pe({v3LegacyAuthProviderCompatible:!!(p!=null&&p.isLegacy)}),s=te(),v=Se(),P=oe(),{keys:g,preferLegacyKeys:y}=Y(),f=$(o,u),{custom:b}=m(c),T=P({meta:f});if(b){let I=(0,vl.useQuery)({queryKey:g().data(c).mutation("custom").params({method:t,url:e,...r,...f||{}}).get(y),queryFn:({queryKey:h,pageParam:M,signal:L})=>b({url:e,method:t,...r,meta:{...T,queryContext:{queryKey:h,pageParam:M,signal:L}},metaData:{...T,queryContext:{queryKey:h,pageParam:M,signal:L}}}),...a,onSuccess:h=>{var M;(M=a==null?void 0:a.onSuccess)==null||M.call(a,h);let L=typeof i=="function"?i(h,{...r,...T}):i;v(L)},onError:h=>{var M;w(h),(M=a==null?void 0:a.onError)==null||M.call(a,h);let L=typeof n=="function"?n(h,{...r,...T}):n;v(L,{key:`${t}-notification`,message:s("notifications.error",{statusCode:h.statusCode},`Error (status code: ${h.statusCode})`),description:h.message,type:"error"})},meta:{...a==null?void 0:a.meta,...(0,pl.getXRay)("useCustom",y)}}),{elapsedTime:E}=ce({isLoading:I.isFetching,interval:d==null?void 0:d.interval,onInterval:d==null?void 0:d.onInterval});return{...I,overtime:{elapsedTime:E}}}else throw Error("Not implemented custom on data provider.")},"useCustom"),gl=C("@tanstack/react-query"),yl=Z(),hl=l(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ue(),{mutate:a}=Pe({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),i=Se(),n=fe(),o=te(),u=oe(),{keys:c,preferLegacyKeys:d}=Y(),m=(0,gl.useMutation)(({url:w,method:s,values:v,meta:P,metaData:g,dataProviderName:y,config:f})=>{let b=u({meta:$(P,g)}),{custom:T}=n(y);if(T)return T({url:w,method:s,payload:v,meta:b,metaData:b,headers:{...f==null?void 0:f.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(w,{successNotification:s,config:v,meta:P,metaData:g})=>{let y=typeof s=="function"?s(w,{...v,...$(P,g)||{}}):s;i(y)},onError:(w,{errorNotification:s,method:v,config:P,meta:g,metaData:y})=>{a(w);let f=typeof s=="function"?s(w,{...P,...$(g,y)||{}}):s;i(f,{key:`${v}-notification`,message:o("notifications.error",{statusCode:w.statusCode},`Error (status code: ${w.statusCode})`),description:w.message,type:"error"})},mutationKey:c().data().mutation("customMutation").get(d),...e,meta:{...e==null?void 0:e.meta,...(0,yl.getXRay)("useCustomMutation",d)}}),{elapsedTime:p}=ce({isLoading:m.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...m,overtime:{elapsedTime:p}}},"useCustomMutation"),Fa=C("react"),Qi=U(C("react")),Pl=l(()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),"defaultDataProvider"),Qr=Qi.default.createContext(Pl()),bl=l(({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},Qi.default.createElement(Qr.Provider,{value:r},e)},"DataContextProvider"),fe=l(()=>{let e=(0,Fa.useContext)(Qr);return(0,Fa.useCallback)(t=>{if(t){if(!e[t])throw new Error(`"${t}" Data provider not found`);return e[t]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},"useDataProvider"),El=C("@tanstack/react-query"),Cl=Z(),Ll=l(({resource:e,config:t,filters:r,hasPagination:a,pagination:i,sorters:n,queryOptions:o,successNotification:u,errorNotification:c,meta:d,metaData:m,liveMode:p,onLiveEvent:w,liveParams:s,dataProviderName:v,overtimeOptions:P})=>{let{resources:g,resource:y,identifier:f}=X(e),b=fe(),T=te(),I=ue(),{mutate:E}=Pe({v3LegacyAuthProviderCompatible:!!(I!=null&&I.isLegacy)}),h=Se(),M=oe(),{keys:L,preferLegacyKeys:q}=Y(),O=H(f,v,g),D=$(d,m),S=$(r,t==null?void 0:t.filters),R=$(n,t==null?void 0:t.sort),x=$(a,t==null?void 0:t.hasPagination),N=Mi({pagination:i,configPagination:t==null?void 0:t.pagination,hasPagination:x}),k=N.mode==="server",A={meta:D,metaData:D,filters:S,hasPagination:k,pagination:N,sorters:R,config:{...t,sort:R}},K=(o==null?void 0:o.enabled)===void 0||(o==null?void 0:o.enabled)===!0,F=M({resource:y,meta:D}),{getList:B}=b(O);Tt({resource:f,types:["*"],params:{meta:F,metaData:F,pagination:N,hasPagination:k,sort:R,sorters:R,filters:S,subscriptionType:"useList",...s},channel:`resources/${y.name}`,enabled:K,liveMode:p,onLiveEvent:w});let z=(0,El.useInfiniteQuery)(L().data(O).resource(f).action("infinite").params({...D||{},filters:S,hasPagination:k,...k&&{pagination:N},...n&&{sorters:n},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(q),({queryKey:W,pageParam:_,signal:j})=>{let me={...N,current:_};return B({resource:y.name,pagination:me,hasPagination:k,filters:S,sort:R,sorters:R,meta:{...F,queryContext:{queryKey:W,pageParam:_,signal:j}},metaData:{...F,queryContext:{queryKey:W,pageParam:_,signal:j}}}).then(({data:pe,total:Te,...tt})=>({data:pe,total:Te,pagination:me,...tt}))},{getNextPageParam:W=>wi(W),getPreviousPageParam:W=>Si(W),...o,onSuccess:W=>{var _;(_=o==null?void 0:o.onSuccess)==null||_.call(o,W);let j=typeof u=="function"?u(W,A,f):u;h(j)},onError:W=>{var _;E(W),(_=o==null?void 0:o.onError)==null||_.call(o,W);let j=typeof c=="function"?c(W,A,f):c;h(j,{key:`${f}-useInfiniteList-notification`,message:T("notifications.error",{statusCode:W.statusCode},`Error (status code: ${W.statusCode})`),description:W.message,type:"error"})},meta:{...o==null?void 0:o.meta,...(0,Cl.getXRay)("useInfiniteList",q)}}),{elapsedTime:V}=ce({isLoading:z.isFetching,interval:P==null?void 0:P.interval,onInterval:P==null?void 0:P.onInterval});return{...z,overtime:{elapsedTime:V}}},"useInfiniteList"),pr=C("react"),Ki=U(C("react")),wt=Ki.default.createContext(void 0),wl=l(({liveProvider:e,children:t})=>Ki.default.createElement(wt.Provider,{value:e},t),"LiveContextProvider"),Sl=C("react"),zi=U(C("react")),Dl=C("react"),Tl=C("react"),ql=U(C("lodash/isEqual")),Ml=l(e=>{let t=(0,Tl.useRef)(e);return(0,ql.default)(t.current,e)||(t.current=e),t.current},"useMemoized"),Wi=l((e,t)=>{let r=Ml(t);return(0,Dl.useMemo)(e,r)},"useDeepMemo"),St=zi.default.createContext({resources:[]}),xl=l(({resources:e,children:t})=>{let r=Wi(()=>Di(e??[]),[e]);return zi.default.createElement(St.Provider,{value:{resources:r}},t)},"ResourceContextProvider"),_i=U(C("react")),ji=_i.default.createContext("new"),Nl=ji.Provider,de=l(()=>_i.default.useContext(ji),"useRouterType"),kl=U(C("react")),Bi=U(C("react")),Vi={},Dt=(0,Bi.createContext)(Vi),Ol=l(({children:e,router:t})=>Bi.default.createElement(Dt.Provider,{value:t??Vi},e),"RouterBindingsProvider"),Ia=U(C("react")),Hi=l(()=>{let e=(0,Ia.useContext)(Dt);return Ia.default.useMemo(()=>(e==null?void 0:e.parse)??(()=>()=>({})),[e==null?void 0:e.parse])()},"useParse"),$e=l(()=>{let e=Hi();return kl.default.useMemo(()=>e(),[e])},"useParsed");function X(e){let{resources:t}=(0,Sl.useContext)(St),r=de(),a=$e(),i={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},n=l((p,w=!0)=>{let s=ve(p,t,r==="legacy");if(s)return{resource:s,identifier:s.identifier??s.name};if(w){let v={name:p,identifier:p},P=v.identifier??v.name;return{resource:v,identifier:P}}},"select"),o=Xi(),{useParams:u}=De(),c=u();if(r==="legacy"){let p=i.resourceNameOrRouteName?i.resourceNameOrRouteName:c.resource,w=p?o(p):void 0,s=(i==null?void 0:i.recordItemId)??c.id,v=c.action,P=(i==null?void 0:i.resourceName)??(w==null?void 0:w.name),g=(w==null?void 0:w.identifier)??(w==null?void 0:w.name);return{resources:t,resource:w,resourceName:P,id:s,action:v,select:n,identifier:g}}let d,m=typeof e=="string"?e:i==null?void 0:i.resourceNameOrRouteName;if(m){let p=ve(m,t);p?d=p:d={name:m}}else a!=null&&a.resource&&(d=a.resource);return{resources:t,resource:d,resourceName:d==null?void 0:d.name,id:a.id,action:a.action,select:n,identifier:(d==null?void 0:d.identifier)??(d==null?void 0:d.name)}}Q(X,"K");l(X,"useResource");var $a=C("react"),Xi=l(()=>{let{resources:e}=(0,$a.useContext)(St);return(0,$a.useCallback)(t=>ve(t,e,!0)||{name:t,route:t},[e])},"useResourceWithRoute"),Rl=C("react"),Al=C("@tanstack/react-query"),je=l(()=>{let{resources:e}=X(),t=(0,Al.useQueryClient)(),{keys:r,preferLegacyKeys:a}=Y();return(0,Rl.useCallback)(async({resource:i,dataProviderName:n,invalidates:o,id:u,invalidationFilters:c={type:"all",refetchType:"active"},invalidationOptions:d={cancelRefetch:!1}})=>{if(o===!1)return;let m=H(i,n,e),p=r().data(m).resource(i??"");await Promise.all(o.map(w=>{switch(w){case"all":return t.invalidateQueries(r().data(m).get(a),c,d);case"list":return t.invalidateQueries(p.action("list").get(a),c,d);case"many":return t.invalidateQueries(p.action("many").get(a),c,d);case"resourceAll":return t.invalidateQueries(p.get(a),c,d);case"detail":return t.invalidateQueries(p.action("one").id(u||"").get(a),c,d);default:return}}))},[])},"useInvalidate"),Tt=l(({resource:e,params:t,channel:r,types:a,enabled:i=!0,liveMode:n,onLiveEvent:o})=>{let{resource:u,identifier:c}=X(e),d=(0,pr.useContext)(wt),{liveMode:m,onLiveEvent:p}=(0,pr.useContext)(Ye),w=n??m,s=je();(0,pr.useEffect)(()=>{let v,P=l(g=>{var y;w==="auto"&&s({resource:c,dataProviderName:(y=u==null?void 0:u.meta)==null?void 0:y.dataProviderName,invalidates:["resourceAll"],invalidationFilters:{type:"active",refetchType:"active"},invalidationOptions:{cancelRefetch:!1}}),o==null||o(g),p==null||p(g)},"callback");return w&&w!=="off"&&i&&(v=d==null?void 0:d.subscribe({channel:r,params:{resource:u==null?void 0:u.name,...t},types:a,callback:P})),()=>{v&&(d==null||d.unsubscribe(v))}},[i])},"useResourceSubscription"),Fl=C("react"),Gi=l(e=>{let{liveMode:t}=(0,Fl.useContext)(Ye);return e??t},"useLiveMode"),Ua=C("react"),Il=l(({params:e,channel:t,types:r=["*"],enabled:a=!0,onLiveEvent:i})=>{let n=(0,Ua.useContext)(wt);(0,Ua.useEffect)(()=>{let o;return a&&(o=n==null?void 0:n.subscribe({channel:t,params:e,types:r,callback:i})),()=>{o&&(n==null||n.unsubscribe(o))}},[a])},"useSubscription"),$l=C("react"),st=l(()=>{let e=(0,$l.useContext)(wt);return e==null?void 0:e.publish},"usePublish"),Ul=C("react"),Pt=l(()=>{let{notifications:e,notificationDispatch:t}=(0,Ul.useContext)($i);return{notifications:e,notificationDispatch:t}},"useCancelNotification"),Ql=C("react"),Zi=U(C("react")),Kr=(0,Zi.createContext)({}),Kl=l(({open:e,close:t,children:r})=>Zi.default.createElement(Kr.Provider,{value:{open:e,close:t}},r),"NotificationContextProvider"),Je=l(()=>{let{open:e,close:t}=(0,Ql.useContext)(Kr);return{open:e,close:t}},"useNotification"),zl=C("react"),Se=l(()=>{let{open:e}=Je();return(0,zl.useCallback)((t,r)=>{t!==!1&&(t?e==null||e(t):r&&(e==null||e(r)))},[])},"useHandleNotification"),Qa=C("react"),Yi=U(C("react")),ut=Yi.default.createContext({}),Wl=l(({children:e,i18nProvider:t})=>Yi.default.createElement(ut.Provider,{value:{i18nProvider:t}},e),"TranslationContextProvider"),_l=l(()=>{let{i18nProvider:e}=(0,Qa.useContext)(ut);return(0,Qa.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},"useSetLocale"),Ka=C("react"),te=l(()=>{let{i18nProvider:e}=(0,Ka.useContext)(ut);return(0,Ka.useMemo)(()=>{function t(r,a,i){return(e==null?void 0:e.translate(r,a,i))??i??(typeof a=="string"&&typeof i>"u"?a:r)}return Q(t,"r"),l(t,"translate"),t},[e])},"useTranslate"),za=C("react"),jl=l(()=>{let{i18nProvider:e}=(0,za.useContext)(ut);return(0,za.useCallback)(()=>e==null?void 0:e.getLocale(),[])},"useGetLocale"),Bl=C("react"),Vl=C("export-to-csv-fix-source-map"),Hl=l(({resourceName:e,resource:t,sorter:r,sorters:a,filters:i,maxItemCount:n,pageSize:o=20,mapData:u=l(s=>s,"mapData"),exportOptions:c,meta:d,metaData:m,dataProviderName:p,onError:w}={})=>{let[s,v]=(0,Bl.useState)(!1),P=fe(),g=oe(),{resource:y,resources:f,identifier:b}=X($(t,e)),T=`${xr()(b,"plural")}-${new Date().toLocaleString()}`,{getList:I}=P(H(b,p,f)),E=g({resource:y,meta:$(d,m)});return{isLoading:s,triggerExport:l(async()=>{v(!0);let h=[],M=1,L=!0;for(;L;)try{let{data:q,total:O}=await I({resource:(y==null?void 0:y.name)??"",filters:i,sort:$(a,r),sorters:$(a,r),pagination:{current:M,pageSize:o,mode:"server"},meta:E,metaData:E});M++,h.push(...q),n&&h.length>=n&&(h=h.slice(0,n),L=!1),O===h.length&&(L=!1)}catch(q){v(!1),L=!1,w==null||w(q);return}new Vl.ExportToCsv({filename:T,useKeysAsHeaders:!0,...c}).generateCsv(h.map(u)),v(!1)},"triggerExport")}},"useExport"),fr=U(C("react")),Xl=U(C("warn-once")),Gl=U(C("lodash/debounce")),Zl=l(({resource:e,action:t,id:r,onMutationSuccess:a,onMutationError:i,redirect:n,successNotification:o,errorNotification:u,meta:c,metaData:d,queryMeta:m,mutationMeta:p,mutationMode:w,liveMode:s,onLiveEvent:v,liveParams:P,undoableTimeout:g,dataProviderName:y,invalidates:f,queryOptions:b,createMutationOptions:T,updateMutationOptions:I,overtimeOptions:E,autoSave:h,optimisticUpdateMap:M}={})=>{let L=je(),{options:q}=he(),O=oe(),{resource:D,id:S,action:R,identifier:x}=X(e),{identifier:N}=X(),k=l(()=>e&&e!==N?r:r??S,"getDefaultId")(),[A,K]=fr.default.useState(k);fr.default.useEffect(()=>{K(k)},[k]);let F=l(()=>t||(R==="edit"||R==="clone"?R:"create"),"getAction")(),B=O({resource:D,meta:$(c,d)}),{mutationMode:z}=ht(),V=w??z,W=F==="create",_=F==="edit",j=F==="clone";(0,Xl.default)((j||_)&&!!e&&!r&&(b==null?void 0:b.enabled)!==!1,`[useForm]: action: "${F}", resource: "${x}", id: ${A} 

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`);let me=wo({redirectFromProps:n,action:F,redirectOptions:q.redirect}),pe=$r({resource:x,id:A??"",queryOptions:{enabled:A!==void 0&&(_||j),...b},liveMode:s,onLiveEvent:v,liveParams:P,meta:{...B,...m},metaData:{...B,...m},dataProviderName:y}),{isFetching:Te}=pe,tt=Ur({mutationOptions:T}),{mutate:xt,isLoading:Nt}=tt,Oe=Sr({mutationOptions:I}),{mutate:kt,isLoading:Be}=Oe,Ve=Sr({}),{setWarnWhen:rt}=Mr(),He=Ji(),ct=l(async re=>{rt(!1);let Re=l(ie=>{He({redirect:me,resource:D,id:ie,meta:$(c,d)})},"onSuccess");return V!=="pessimistic"&&setTimeout(()=>{Re()}),new Promise((ie,Qe)=>{if(V!=="pessimistic"&&ie(),!!D)return xt({values:re,resource:x??D.name,successNotification:o,errorNotification:u,meta:{...B,...p},metaData:{...B,...p},dataProviderName:y,invalidates:f},{onSuccess:(le,Ae,Fe)=>{var Ke;a&&a(le,re,Fe);let ze=(Ke=le==null?void 0:le.data)==null?void 0:Ke.id;Re(ze),ie(le)},onError:(le,Ae,Fe)=>{if(i)return i(le,re,Fe);Qe()}})})},"onFinishCreate");fr.default.useEffect(()=>()=>{h!=null&&h.invalidateOnUnmount&&Ve.status==="success"&&L({id:A,invalidates:f||["list","many","detail"],dataProviderName:y,resource:x})},[h==null?void 0:h.invalidateOnUnmount,Ve.status]);let mt=l(re=>{if(!D||!_)return;let Re={id:A??"",values:re,resource:x??D.name,successNotification:!1,errorNotification:!1,meta:{...B,...p},metaData:{...B,...p},dataProviderName:y,invalidates:[],mutationMode:"pessimistic"};return Ve.mutate(Re,{onSuccess:(ie,Qe,le)=>{a&&a(ie,re,le,!0)},onError:(ie,Qe,le)=>{if(i)return i(ie,re,le,!0)}})},"onFinishAutoSaveMutation"),Ot=(0,Gl.default)(re=>mt(re),(h==null?void 0:h.debounce)||1e3),bt=W||j?{formLoading:Te||Nt,mutationResult:tt,onFinish:ct}:{formLoading:Te||Be,mutationResult:Oe,onFinish:l(async re=>{if(rt(!1),!D)return;let Re={id:A??"",values:re,resource:x??D.name,mutationMode:V,undoableTimeout:g,successNotification:o,errorNotification:u,meta:{...B,...p},metaData:{...B,...p},dataProviderName:y,invalidates:f,optimisticUpdateMap:M},ie=l(()=>{He({redirect:me,resource:D,id:A,meta:$(c,d)})},"onSuccess");return V!=="pessimistic"&&setTimeout(()=>{ie()}),new Promise((Qe,le)=>(V!=="pessimistic"&&Qe(),setTimeout(()=>{kt(Re,{onSuccess:(Ae,Fe,Ke)=>{a&&a(Ae,re,Ke),V==="pessimistic"&&ie(),Qe(Ae)},onError:(Ae,Fe,Ke)=>{if(i)return i(Ae,re,Ke);le()}})})))},"onFinishUpdate")},{elapsedTime:er}=ce({isLoading:bt.mutationResult.isLoading||pe.isFetching,interval:E==null?void 0:E.interval,onInterval:E==null?void 0:E.onInterval});return{...bt,queryResult:pe,onFinishAutoSave:Ot,autoSaveProps:{status:Ve.status,data:Ve.data,error:Ve.error},id:A,setId:K,redirect:(re,Re)=>{He({redirect:re!==void 0?re:_?"list":"edit",resource:D,id:Re??A,meta:$(c,d)})},overtime:{elapsedTime:er}}},"useForm"),Yl=C("react"),Ji=l(()=>{let{show:e,edit:t,list:r,create:a}=ke();return(0,Yl.useCallback)(({redirect:i,resource:n,id:o,meta:u={}})=>{if(i&&n)return n.show&&i==="show"&&o?e(n,o,void 0,u):n.edit&&i==="edit"&&o?t(n,o,void 0,u):n.create&&i==="create"?a(n,void 0,u):r(n,"push",u)},[])},"useRedirectionAfterSubmission"),Wa=U(C("react")),Ne=l(()=>{let e=(0,Wa.useContext)(Dt);return Wa.default.useMemo(()=>(e==null?void 0:e.go)??(()=>()=>{}),[e==null?void 0:e.go])()},"useGo"),_a=U(C("react")),en=l(()=>{let e=(0,_a.useContext)(Dt);return _a.default.useMemo(()=>(e==null?void 0:e.back)??(()=>()=>{}),[e==null?void 0:e.back])()},"useBack"),ke=l(()=>{let{resources:e}=X(),t=de(),{useHistory:r}=De(),a=r(),i=$e(),n=Ne(),o=en(),u=l((s,v="push")=>{t==="legacy"?a[v](s):n({to:s,type:v})},"handleUrl"),c=l((s,v={})=>{var P;if(t==="legacy"){let g=typeof s=="string"?ve(s,e,!0)??{name:s,route:s}:s,y=Ce(g,e,!0).find(f=>f.action==="create");return y?Me(y.route,g==null?void 0:g.meta,i,v):""}else{let g=typeof s=="string"?ve(s,e)??{name:s}:s,y=(P=Ce(g,e).find(f=>f.action==="create"))==null?void 0:P.route;return y?n({to:Me(y,g==null?void 0:g.meta,i,v),type:"path"}):""}},"createUrl"),d=l((s,v,P={})=>{var g;let y=encodeURIComponent(v);if(t==="legacy"){let f=typeof s=="string"?ve(s,e,!0)??{name:s,route:s}:s,b=Ce(f,e,!0).find(T=>T.action==="edit");return b?Me(b.route,f==null?void 0:f.meta,i,{...P,id:y}):""}else{let f=typeof s=="string"?ve(s,e)??{name:s}:s,b=(g=Ce(f,e).find(T=>T.action==="edit"))==null?void 0:g.route;return b?n({to:Me(b,f==null?void 0:f.meta,i,{...P,id:y}),type:"path"}):""}},"editUrl"),m=l((s,v,P={})=>{var g;let y=encodeURIComponent(v);if(t==="legacy"){let f=typeof s=="string"?ve(s,e,!0)??{name:s,route:s}:s,b=Ce(f,e,!0).find(T=>T.action==="clone");return b?Me(b.route,f==null?void 0:f.meta,i,{...P,id:y}):""}else{let f=typeof s=="string"?ve(s,e)??{name:s}:s,b=(g=Ce(f,e).find(T=>T.action==="clone"))==null?void 0:g.route;return b?n({to:Me(b,f==null?void 0:f.meta,i,{...P,id:y}),type:"path"}):""}},"cloneUrl"),p=l((s,v,P={})=>{var g;let y=encodeURIComponent(v);if(t==="legacy"){let f=typeof s=="string"?ve(s,e,!0)??{name:s,route:s}:s,b=Ce(f,e,!0).find(T=>T.action==="show");return b?Me(b.route,f==null?void 0:f.meta,i,{...P,id:y}):""}else{let f=typeof s=="string"?ve(s,e)??{name:s}:s,b=(g=Ce(f,e).find(T=>T.action==="show"))==null?void 0:g.route;return b?n({to:Me(b,f==null?void 0:f.meta,i,{...P,id:y}),type:"path"}):""}},"showUrl"),w=l((s,v={})=>{var P;if(t==="legacy"){let g=typeof s=="string"?ve(s,e,!0)??{name:s,route:s}:s,y=Ce(g,e,!0).find(f=>f.action==="list");return y?Me(y.route,g==null?void 0:g.meta,i,v):""}else{let g=typeof s=="string"?ve(s,e)??{name:s}:s,y=(P=Ce(g,e).find(f=>f.action==="list"))==null?void 0:P.route;return y?n({to:Me(y,g==null?void 0:g.meta,i,v),type:"path"}):""}},"listUrl");return{create:l((s,v="push",P={})=>{u(c(s,P),v)},"create"),createUrl:c,edit:l((s,v,P="push",g={})=>{u(d(s,v,g),P)},"edit"),editUrl:d,clone:l((s,v,P="push",g={})=>{u(m(s,v,g),P)},"clone"),cloneUrl:m,show:l((s,v,P="push",g={})=>{u(p(s,v,g),P)},"show"),showUrl:p,list:l((s,v="push",P={})=>{u(w(s,P),v)},"list"),listUrl:w,push:l((s,...v)=>{t==="legacy"?a.push(s,...v):n({to:s,type:"push"})},"push"),replace:l((s,...v)=>{t==="legacy"?a.replace(s,...v):n({to:s,type:"replace"})},"replace"),goBack:l(()=>{t==="legacy"?a.goBack():o()},"goBack")}},"useNavigation"),ja=U(C("react")),Jl=U(C("warn-once")),es=l(({resource:e,id:t,successNotification:r,errorNotification:a,meta:i,metaData:n,liveMode:o,onLiveEvent:u,dataProviderName:c,queryOptions:d,overtimeOptions:m}={})=>{let{resource:p,id:w,identifier:s}=X(e),{identifier:v}=X(),P=oe(),g=l(()=>e&&e!==v?t:t??w,"getDefaultId")(),[y,f]=(0,ja.useState)(g);ja.default.useEffect(()=>{f(g)},[g]);let b=P({resource:p,meta:$(i,n)});(0,Jl.default)(!!e&&!t,`[useShow]: resource: "${s}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`);let T=$r({resource:s,id:y??"",queryOptions:{enabled:y!==void 0,...d},successNotification:r,errorNotification:a,meta:b,metaData:b,liveMode:o,onLiveEvent:u,dataProviderName:c}),{elapsedTime:I}=ce({isLoading:T.isFetching,interval:m==null?void 0:m.interval,onInterval:m==null?void 0:m.onInterval});return{queryResult:T,showId:y,setShowId:f,overtime:{elapsedTime:I}}},"useShow"),Ut=C("react"),ts=C("papaparse"),rs=U(C("lodash/chunk")),as=l(({resourceName:e,resource:t,mapData:r=l(m=>m,"mapData"),paparseOptions:a,batchSize:i=Number.MAX_SAFE_INTEGER,onFinish:n,meta:o,metaData:u,onProgress:c,dataProviderName:d}={})=>{let[m,p]=(0,Ut.useState)(0),[w,s]=(0,Ut.useState)(0),[v,P]=(0,Ut.useState)(!1),{resource:g,identifier:y}=X(t??e),f=oe(),b=Ui(),T=Ur(),I=f({resource:g,meta:$(o,u)}),E;i===1?E=T:E=b;let h=l(()=>{s(0),p(0),P(!1)},"handleCleanup"),M=l(q=>{let O={succeeded:q.filter(D=>D.type==="success"),errored:q.filter(D=>D.type==="error")};n==null||n(O),P(!1)},"handleFinish");(0,Ut.useEffect)(()=>{c==null||c({totalAmount:w,processedAmount:m})},[w,m]);let L=l(({file:q})=>(h(),new Promise(O=>{P(!0),(0,ts.parse)(q,{complete:async({data:D})=>{let S=li(D,r);if(s(S.length),i===1){let R=S.map(N=>l(async()=>({response:await T.mutateAsync({resource:y??"",values:N,successNotification:!1,errorNotification:!1,dataProviderName:d,meta:I,metaData:I}),value:N}),"fn")),x=await ma(R,({response:N,value:k})=>(p(A=>A+1),{response:[N.data],type:"success",request:[k]}),(N,k)=>({response:[N],type:"error",request:[S[k]]}));O(x)}else{let R=(0,rs.default)(S,i),x=R.map(k=>l(async()=>({response:await b.mutateAsync({resource:y??"",values:k,successNotification:!1,errorNotification:!1,dataProviderName:d,meta:I,metaData:I}),value:k,currentBatchLength:k.length}),"fn")),N=await ma(x,({response:k,currentBatchLength:A,value:K})=>(p(F=>F+A),{response:k.data,type:"success",request:K}),(k,A)=>({response:[k],type:"error",request:R[A]}));O(N)}},...a})}).then(O=>(M(O),O))),"handleChange");return{inputProps:{type:"file",accept:".csv",onChange:q=>{q.target.files&&q.target.files.length>0&&L({file:q.target.files[0]})}},mutationResult:E,isLoading:v,handleChange:L}},"useImport"),gr=C("react"),is=l(({defaultVisible:e=!1}={})=>{let[t,r]=(0,gr.useState)(e),a=(0,gr.useCallback)(()=>r(!0),[t]),i=(0,gr.useCallback)(()=>r(!1),[t]);return{visible:t,show:a,close:i}},"useModal"),ns=U(C("react")),zr=l(()=>{let e=de(),{resource:t,resources:r}=X(),a=$e();return ns.default.useCallback(({resource:i,action:n,meta:o})=>{var u;let c=i||t;if(!c)return;let d=(u=Ce(c,r,e==="legacy").find(m=>m.action===n))==null?void 0:u.route;return d?Me(d,c==null?void 0:c.meta,a,o):void 0},[r,t,a])},"useGetToPath"),os=l(({resource:e,action:t,meta:r,legacy:a})=>zr()({resource:e,action:t,meta:r,legacy:a}),"useToPath"),Ba=U(C("react")),Zt=l(()=>{let e=(0,Ba.useContext)(Dt);return e!=null&&e.Link?e.Link:l(({to:t,...r})=>Ba.default.createElement("a",{href:t,...r}),"FallbackLink")},"useLink"),ls=C("react"),tn=U(C("react")),Ge={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},ss=tn.default.createContext(Ge),Wr=ss,us=l(({children:e,useHistory:t,useLocation:r,useParams:a,Prompt:i,Link:n,routes:o})=>tn.default.createElement(Wr.Provider,{value:{useHistory:t??Ge.useHistory,useLocation:r??Ge.useLocation,useParams:a??Ge.useParams,Prompt:i??Ge.Prompt,Link:n??Ge.Link,routes:o??Ge.routes}},e),"LegacyRouterContextProvider"),De=l(()=>{let e=(0,ls.useContext)(Wr),{useHistory:t,useLocation:r,useParams:a,Prompt:i,Link:n,routes:o}=e??Ge;return{useHistory:t,useLocation:r,useParams:a,Prompt:i,Link:n,routes:o}},"useRouterContext"),ds=C("@tanstack/react-query"),cs=C("react"),rn=U(C("react")),qt=rn.default.createContext({options:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}),ms=l(({can:e,children:t,options:r})=>rn.default.createElement(qt.Provider,{value:{can:e,options:r?{...r,buttons:{enableAccessControl:!0,hideIfUnauthorized:!1,...r.buttons}}:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}},t),"AccessControlContextProvider"),_r=l(e=>{if(!e)return;let{icon:t,list:r,edit:a,create:i,show:n,clone:o,children:u,meta:c,options:d,...m}=e,{icon:p,...w}=c??{},{icon:s,...v}=d??{};return{...m,...c?{meta:w}:{},...d?{options:v}:{}}},"sanitizeResource"),vs=Z(),an=l(({action:e,resource:t,params:r,queryOptions:a})=>{let{can:i}=(0,cs.useContext)(qt),{keys:n,preferLegacyKeys:o}=Y(),{resource:u,...c}=r??{},d=_r(u),m=(0,ds.useQuery)(n().access().resource(t).action(e).params({params:{...c,resource:d},enabled:a==null?void 0:a.enabled}).get(o),()=>(i==null?void 0:i({action:e,resource:t,params:{...c,resource:d}}))??Promise.resolve({can:!0}),{enabled:typeof i<"u",...a,meta:{...a==null?void 0:a.meta,...(0,vs.getXRay)("useCan",o)},retry:!1});return typeof i>"u"?{data:{can:!0}}:m},"useCan"),Va=U(C("react")),ps=l(()=>{let{can:e}=Va.default.useContext(qt);return{can:Va.default.useMemo(()=>e?l(async({params:t,...r})=>{let a=t!=null&&t.resource?_r(t.resource):void 0;return e({...r,...t?{params:{...t,resource:a}}:{}})},"canWithSanitizedResource"):void 0,[e])}},"useCanWithoutCache"),pt=C("react"),fs=U(C("lodash/uniqBy")),gs=U(C("lodash/debounce")),Qt=U(C("lodash/get")),ys=l(e=>{let[t,r]=(0,pt.useState)([]),[a,i]=(0,pt.useState)([]),[n,o]=(0,pt.useState)([]),{resource:u,sort:c,sorters:d,filters:m=[],optionLabel:p="title",optionValue:w="id",debounce:s=300,successNotification:v,errorNotification:P,defaultValueQueryOptions:g,queryOptions:y,fetchSize:f,pagination:b,hasPagination:T=!1,liveMode:I,defaultValue:E=[],onLiveEvent:h,onSearch:M,liveParams:L,meta:q,metaData:O,dataProviderName:D,overtimeOptions:S}=e,{resource:R,identifier:x}=X(u),N=oe()({resource:R,meta:$(q,O)}),k=Array.isArray(E)?E:[E],A=(0,pt.useCallback)(_=>{o(_.data.map(j=>({label:(0,Qt.default)(j,p),value:(0,Qt.default)(j,w)})))},[p,w]),K=g??y,F=Ii({resource:x,ids:k,queryOptions:{...K,enabled:k.length>0&&((K==null?void 0:K.enabled)??!0),onSuccess:_=>{var j;A(_),(j=K==null?void 0:K.onSuccess)==null||j.call(K,_)}},meta:N,metaData:N,liveMode:"off",dataProviderName:D}),B=(0,pt.useCallback)(_=>{i(_.data.map(j=>({label:(0,Qt.default)(j,p),value:(0,Qt.default)(j,w)})))},[p,w]),z=Ir({resource:x,sorters:$(d,c),filters:m.concat(t),pagination:{current:b==null?void 0:b.current,pageSize:(b==null?void 0:b.pageSize)??f,mode:b==null?void 0:b.mode},hasPagination:T,queryOptions:{...y,onSuccess:_=>{var j;B(_),(j=y==null?void 0:y.onSuccess)==null||j.call(y,_)}},successNotification:v,errorNotification:P,meta:N,metaData:N,liveMode:I,liveParams:L,onLiveEvent:h,dataProviderName:D}),V=l(_=>{if(M){r(M(_));return}if(_)r([{field:p,operator:"contains",value:_}]);else{r([]);return}},"onSearch"),{elapsedTime:W}=ce({isLoading:z.isFetching||F.isFetching,interval:S==null?void 0:S.interval,onInterval:S==null?void 0:S.onInterval});return{queryResult:z,defaultValueQueryResult:F,options:(0,pt.useMemo)(()=>(0,fs.default)([...a,...n],"value"),[a,n]),onSearch:(0,gs.default)(V,s),overtime:{elapsedTime:W}}},"useSelect"),it=U(C("react")),Ha=U(C("qs")),Kt=U(C("lodash/differenceWith")),zt=U(C("lodash/isEqual")),hs=U(C("warn-once")),Xa=[],Ga=[];function nn({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:a,initialSorter:i,permanentSorter:n=Ga,defaultSetFilterBehavior:o,initialFilter:u,permanentFilter:c=Xa,filters:d,sorters:m,syncWithLocation:p,resource:w,successNotification:s,errorNotification:v,queryOptions:P,liveMode:g,onLiveEvent:y,liveParams:f,meta:b,metaData:T,dataProviderName:I,overtimeOptions:E}={}){var h,M,L,q,O;let{syncWithLocation:D}=ki(),S=p??D,R=Gi(g),x=de(),{useLocation:N}=De(),{search:k,pathname:A}=N(),K=oe(),F=$e(),B=((d==null?void 0:d.mode)||"server")==="server",z=((m==null?void 0:m.mode)||"server")==="server",V=r===!1?"off":"server",W=((a==null?void 0:a.mode)??V)!=="off",_=$(a==null?void 0:a.current,e),j=$(a==null?void 0:a.pageSize,t),me=$(b,T),{parsedCurrent:pe,parsedPageSize:Te,parsedSorter:tt,parsedFilters:xt}=Nr(k??"?"),Nt=$(d==null?void 0:d.initial,u),Oe=$(d==null?void 0:d.permanent,c)??Xa,kt=$(m==null?void 0:m.initial,i),Be=$(m==null?void 0:m.permanent,n)??Ga,Ve=$(d==null?void 0:d.defaultBehavior,o)??"merge",rt,He,ct,mt;S?(rt=((h=F==null?void 0:F.params)==null?void 0:h.current)||pe||_||1,He=((M=F==null?void 0:F.params)==null?void 0:M.pageSize)||Te||j||10,ct=((L=F==null?void 0:F.params)==null?void 0:L.sorters)||(tt.length?tt:kt),mt=((q=F==null?void 0:F.params)==null?void 0:q.filters)||(xt.length?xt:Nt)):(rt=_||1,He=j||10,ct=kt,mt=Nt);let{replace:Ot}=ke(),bt=Ne(),{resource:er,identifier:re}=X(w),Re=K({resource:er,meta:me});it.default.useEffect(()=>{(0,hs.default)(typeof re>"u","useTable: `resource` is not defined.")},[re]);let[ie,Qe]=(0,it.useState)(wr(Be,ct??[])),[le,Ae]=(0,it.useState)(Lr(Oe,mt??[])),[Fe,Ke]=(0,it.useState)(rt),[ze,jr]=(0,it.useState)(He),gn=l(({pagination:{current:ne,pageSize:qe},sorter:Rt,filters:At})=>{if(x==="new")return bt({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...W?{current:ne,pageSize:qe}:{},sorters:Rt,filters:At,...Br()}})??"";{let Et=Ha.default.parse(k==null?void 0:k.substring(1)),Cn=Er({pagination:{pageSize:qe,current:ne},sorters:ie??Rt,filters:At,...Et});return`${A??""}?${Cn??""}`}},"createLinkForSyncWithLocation");(0,it.useEffect)(()=>{k===""&&(Ke(rt),jr(He),Qe(wr(Be,ct??[])),Ae(Lr(Oe,mt??[])))},[k]);let Br=l(()=>{if(x==="new"){let{sorters:ne,filters:qe,pageSize:Rt,current:At,...Et}=(F==null?void 0:F.params)??{};return Et}else{let{sorter:ne,filters:qe,pageSize:Rt,current:At,...Et}=Ha.default.parse(k,{ignoreQueryPrefix:!0});return Et}},"currentQueryParams");(0,it.useEffect)(()=>{if(S){let ne=Br();if(x==="new")bt({type:"replace",options:{keepQuery:!0},query:{...W?{pageSize:ze,current:Fe}:{},sorters:(0,Kt.default)(ie,Be,zt.default),filters:(0,Kt.default)(le,Oe,zt.default)}});else{let qe=Er({...W?{pagination:{pageSize:ze,current:Fe}}:{},sorters:(0,Kt.default)(ie,Be,zt.default),filters:(0,Kt.default)(le,Oe,zt.default),...ne});return Ot==null?void 0:Ot(`${A}?${qe}`,void 0,{shallow:!0})}}},[S,Fe,ze,ie,le]);let tr=Ir({resource:re,hasPagination:r,pagination:{current:Fe,pageSize:ze,mode:a==null?void 0:a.mode},filters:B?Ct(Oe,le):void 0,sorters:z?Cr(Be,ie):void 0,queryOptions:P,successNotification:s,errorNotification:v,meta:Re,metaData:Re,liveMode:R,liveParams:f,onLiveEvent:y,dataProviderName:I}),yn=l(ne=>{Ae(qe=>Ct(Oe,ne,qe))},"setFiltersAsMerge"),hn=l(ne=>{Ae(Ct(Oe,ne))},"setFiltersAsReplace"),Pn=l(ne=>{Ae(qe=>Ct(Oe,ne(qe)))},"setFiltersWithSetter"),bn=l((ne,qe=Ve)=>{typeof ne=="function"?Pn(ne):qe==="replace"?hn(ne):yn(ne)},"setFiltersFn"),Vr=l(ne=>{Qe(()=>Cr(Be,ne))},"setSortWithUnion"),{elapsedTime:En}=ce({isLoading:tr.isFetching,interval:E==null?void 0:E.interval,onInterval:E==null?void 0:E.onInterval});return{tableQueryResult:tr,sorters:ie,setSorters:Vr,sorter:ie,setSorter:Vr,filters:le,setFilters:bn,current:Fe,setCurrent:Ke,pageSize:ze,setPageSize:jr,pageCount:ze?Math.ceil((((O=tr.data)==null?void 0:O.total)??0)/ze):1,createLinkForSyncWithLocation:gn,overtime:{elapsedTime:En}}}Q(nn,"ki");l(nn,"useTable");var Za=C("react"),yr=C("@tanstack/react-query"),on=U(C("react")),Yt=on.default.createContext({}),Ps=l(({create:e,get:t,update:r,children:a})=>on.default.createElement(Yt.Provider,{value:{create:e,get:t,update:r}},a),"AuditLogContextProvider"),Ya=Z(),dt=l(({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,yr.useQueryClient)(),a=(0,Za.useContext)(Yt),{keys:i,preferLegacyKeys:n}=Y(),o=ue(),{resources:u}=(0,Za.useContext)(St),{data:c,refetch:d,isLoading:m}=kr({v3LegacyAuthProviderCompatible:!!(o!=null&&o.isLegacy),queryOptions:{enabled:!!a}}),p=(0,yr.useMutation)(async s=>{var v,P,g,y,f;let b=ve(s.resource,u),T=$((v=b==null?void 0:b.meta)==null?void 0:v.audit,(P=b==null?void 0:b.options)==null?void 0:P.audit,(y=(g=b==null?void 0:b.options)==null?void 0:g.auditLog)==null?void 0:y.permissions);if(T&&!po(T,s.action))return;let I;return m&&(I=await d()),await((f=a.create)==null?void 0:f.call(a,{...s,author:c??(I==null?void 0:I.data)}))},{mutationKey:i().audit().action("log").get(),...e,meta:{...e==null?void 0:e.meta,...(0,Ya.getXRay)("useLog",n)}}),w=(0,yr.useMutation)(async s=>{var v;return await((v=a.update)==null?void 0:v.call(a,s))},{onSuccess:s=>{s!=null&&s.resource&&r.invalidateQueries(i().audit().resource((s==null?void 0:s.resource)??"").action("list").get(n))},mutationKey:i().audit().action("rename").get(),...t,meta:{...t==null?void 0:t.meta,...(0,Ya.getXRay)("useLog",n)}});return{log:p,rename:w}},"useLog"),bs=C("react"),Es=C("@tanstack/react-query"),Cs=Z(),Ls=l(({resource:e,action:t,meta:r,author:a,metaData:i,queryOptions:n})=>{let{get:o}=(0,bs.useContext)(Yt),{keys:u,preferLegacyKeys:c}=Y();return(0,Es.useQuery)(u().audit().resource(e).action("list").params(r).get(c),()=>(o==null?void 0:o({resource:e,action:t,author:a,meta:r,metaData:i}))??Promise.resolve([]),{enabled:typeof o<"u",...n,retry:!1,meta:{...n==null?void 0:n.meta,...(0,Cs.getXRay)("useLogList",c)}})},"useLogList"),ws=C("react"),Ss=U(C("warn-once")),Ds=l(({meta:e={}}={})=>{let t=de(),{i18nProvider:r}=(0,ws.useContext)(ut),a=$e(),i=te(),{resources:n,resource:o,action:u}=X(),{options:{textTransformers:c}}=he(),d=[];if(!(o!=null&&o.name))return{breadcrumbs:d};let m=l(p=>{var w,s,v,P,g,y;let f=typeof p=="string"?ve(p,n,t==="legacy")??{name:p}:p;if(f){let b=$((w=f==null?void 0:f.meta)==null?void 0:w.parent,f==null?void 0:f.parentName);b&&m(b);let T=Ce(f,n,t==="legacy").find(h=>h.action==="list"),I=(s=T==null?void 0:T.resource)!=null&&s.list?T==null?void 0:T.route:void 0,E=I?t==="legacy"?I:Me(I,f==null?void 0:f.meta,a,e):void 0;d.push({label:$((v=f.meta)==null?void 0:v.label,(P=f.options)==null?void 0:P.label)??i(`${f.name}.${f.name}`,c.humanize(f.name)),href:E,icon:$((g=f.meta)==null?void 0:g.icon,(y=f.options)==null?void 0:y.icon,f.icon)})}},"addBreadcrumb");if(m(o),u&&u!=="list"){let p=`actions.${u}`,w=i(p);typeof r<"u"&&w===p?((0,Ss.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${u}" action. Please add "actions.${u}" key to your translation file.
For more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`),d.push({label:i(`buttons.${u}`,c.humanize(u))})):d.push({label:i(p,c.humanize(u))})}return{breadcrumbs:d}},"useBreadcrumb"),hr=U(C("react")),_t=l((e,t,r=!1)=>{let a=[],i=Ze(e,t);for(;i;)a.push(i),i=Ze(i,t);return a.reverse(),`/${[...a,e].map(n=>We((r?n.route:void 0)??n.identifier??n.name)).join("/").replace(/^\//,"")}`},"createResourceKey"),Ts=l((e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(i=>{let n=[],o=Ze(i,e);for(;o;)n.push(o),o=Ze(o,e);n.reverse();let u=r;n.forEach(d=>{let m=(t?d.route:void 0)??d.identifier??d.name;u.children[m]||(u.children[m]={item:d,children:{}}),u=u.children[m]});let c=(t?i.route:void 0)??i.identifier??i.name;u.children[c]||(u.children[c]={item:i,children:{}})});let a=l(i=>{let n=[];return Object.keys(i.children).forEach(o=>{let u=_t(i.children[o].item,e,t),c={...i.children[o].item,key:u,children:a(i.children[o])};n.push(c)}),n},"flatten");return a(r)},"createTree"),Ja=l(e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),"getCleanPath"),qs=l(({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=te(),a=zr(),i=de(),{resource:n,resources:o}=X(),{pathname:u}=$e(),{useLocation:c}=De(),{pathname:d}=c(),m=xr(),p=`/${((i==="legacy"?Ja(d):u?Ja(u):void 0)??"").replace(/^\//,"")}`,w=n?_t(n,o,i==="legacy"):p??"",s=hr.default.useMemo(()=>{if(!n)return[];let g=Ze(n,o),y=[_t(n,o)];for(;g;)y.push(_t(g,o)),g=Ze(g,o);return y},[]),v=hr.default.useCallback(g=>{var y,f,b,T,I,E;if((((y=g==null?void 0:g.meta)==null?void 0:y.hide)??((f=g==null?void 0:g.options)==null?void 0:f.hide))||!(g!=null&&g.list)&&g.children.length===0)return;let h=g.list?a({resource:g,action:"list",legacy:i==="legacy",meta:e}):void 0;if(!(t&&h&&h.match(/(\/|^):(.+?)(\/|$){1}/)))return{...g,route:h,icon:$((b=g.meta)==null?void 0:b.icon,(T=g.options)==null?void 0:T.icon,g.icon),label:$((I=g==null?void 0:g.meta)==null?void 0:I.label,(E=g==null?void 0:g.options)==null?void 0:E.label)??r(`${g.name}.${g.name}`,m(g.name,"plural"))}},[i,e,r,t]),P=hr.default.useMemo(()=>{let g=Ts(o,i==="legacy"),y=l(f=>f.flatMap(b=>{let T=y(b.children),I=v({...b,children:T});return I?[I]:[]}),"prepare");return y(g)},[o,i,v]);return{defaultOpenKeys:s,selectedKey:w,menuItems:P}},"useMenu"),oe=l(()=>{let{params:e}=$e();return l(({resource:t,meta:r}={})=>{let{meta:a}=_r(t)??{meta:{}},{filters:i,sorters:n,current:o,pageSize:u,...c}=e??{};return{...a,...c,...r}},"getMetaFn")},"useMeta"),Ms=l(()=>{let[e,t]=(0,at.useState)(),r=te(),{push:a}=ke(),i=Ne(),n=de(),{resource:o,action:u}=X();return(0,at.useEffect)(()=>{o&&u&&t(r("pages.error.info",{action:u,resource:o.name},`You may have forgotten to add the "${u}" component to "${o.name}" resource.`))},[o,u]),at.default.createElement(at.default.Fragment,null,at.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&at.default.createElement("p",null,e),at.default.createElement("button",{onClick:()=>{n==="legacy"?a("/"):i({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},"ErrorComponent"),se=U(C("react")),ln=l(()=>{let[e,t]=(0,se.useState)(""),[r,a]=(0,se.useState)(""),i=te(),n=ue(),{mutate:o}=Xt({v3LegacyAuthProviderCompatible:!!(n!=null&&n.isLegacy)});return se.default.createElement(se.default.Fragment,null,se.default.createElement("h1",null,i("pages.login.title","Sign in your account")),se.default.createElement("form",{onSubmit:u=>{u.preventDefault(),o({username:e,password:r})}},se.default.createElement("table",null,se.default.createElement("tbody",null,se.default.createElement("tr",null,se.default.createElement("td",null,i("pages.login.username",void 0,"username"),":"),se.default.createElement("td",null,se.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:u=>t(u.target.value)}))),se.default.createElement("tr",null,se.default.createElement("td",null,i("pages.login.password",void 0,"password"),":"),se.default.createElement("td",null,se.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:u=>a(u.target.value)}))))),se.default.createElement("br",null),se.default.createElement("input",{type:"submit",value:"login"})))},"LoginPage"),ft=U(C("react")),J=U(C("react")),xs=l(({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:a,contentProps:i,wrapperProps:n,renderContent:o,formProps:u,title:c=void 0})=>{let d=de(),m=Zt(),{Link:p}=De(),w=d==="legacy"?p:m,[s,v]=(0,J.useState)(""),[P,g]=(0,J.useState)(""),[y,f]=(0,J.useState)(!1),b=te(),T=ue(),{mutate:I}=Xt({v3LegacyAuthProviderCompatible:!!(T!=null&&T.isLegacy)}),E=l((L,q)=>J.default.createElement(w,{to:L},q),"renderLink"),h=l(()=>e?e.map(L=>J.default.createElement("div",{key:L.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},J.default.createElement("button",{onClick:()=>I({providerName:L.name}),style:{display:"flex",alignItems:"center"}},L==null?void 0:L.icon,L.label??J.default.createElement("label",null,L.label)))):null,"renderProviders"),M=J.default.createElement("div",{...i},J.default.createElement("h1",{style:{textAlign:"center"}},b("pages.login.title","Sign in to your account")),h(),J.default.createElement("hr",null),J.default.createElement("form",{onSubmit:L=>{L.preventDefault(),I({email:s,password:P,remember:y})},...u},J.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},J.default.createElement("label",{htmlFor:"email-input"},b("pages.login.fields.email","Email")),J.default.createElement("input",{id:"email-input",name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:s,onChange:L=>v(L.target.value)}),J.default.createElement("label",{htmlFor:"password-input"},b("pages.login.fields.password","Password")),J.default.createElement("input",{id:"password-input",type:"password",name:"password",required:!0,size:20,value:P,onChange:L=>g(L.target.value)}),a??J.default.createElement(J.default.Fragment,null,J.default.createElement("label",{htmlFor:"remember-me-input"},b("pages.login.buttons.rememberMe","Remember me"),J.default.createElement("input",{id:"remember-me-input",name:"remember",type:"checkbox",size:20,checked:y,value:y.toString(),onChange:()=>{f(!y)}}))),J.default.createElement("br",null),r??E("/forgot-password",b("pages.login.buttons.forgotPassword","Forgot password?")),J.default.createElement("input",{type:"submit",value:b("pages.login.signin","Sign in")}),t??J.default.createElement("span",null,b("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",E("/register",b("pages.login.register","Sign up"))))));return J.default.createElement("div",{...n},o?o(M,c):M)},"LoginPage"),ae=U(C("react")),Ns=l(({providers:e,loginLink:t,wrapperProps:r,contentProps:a,renderContent:i,formProps:n,title:o=void 0})=>{let u=de(),c=Zt(),{Link:d}=De(),m=u==="legacy"?d:c,[p,w]=(0,ae.useState)(""),[s,v]=(0,ae.useState)(""),P=te(),g=ue(),{mutate:y,isLoading:f}=Rr({v3LegacyAuthProviderCompatible:!!(g!=null&&g.isLegacy)}),b=l((E,h)=>ae.default.createElement(m,{to:E},h),"renderLink"),T=l(()=>e?e.map(E=>ae.default.createElement("div",{key:E.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ae.default.createElement("button",{onClick:()=>y({providerName:E.name}),style:{display:"flex",alignItems:"center"}},E==null?void 0:E.icon,E.label??ae.default.createElement("label",null,E.label)))):null,"renderProviders"),I=ae.default.createElement("div",{...a},ae.default.createElement("h1",{style:{textAlign:"center"}},P("pages.register.title","Sign up for your account")),T(),ae.default.createElement("hr",null),ae.default.createElement("form",{onSubmit:E=>{E.preventDefault(),y({email:p,password:s})},...n},ae.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ae.default.createElement("label",{htmlFor:"email-input"},P("pages.register.fields.email","Email")),ae.default.createElement("input",{id:"email-input",name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:p,onChange:E=>w(E.target.value)}),ae.default.createElement("label",{htmlFor:"password-input"},P("pages.register.fields.password","Password")),ae.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:s,onChange:E=>v(E.target.value)}),ae.default.createElement("input",{type:"submit",value:P("pages.register.buttons.submit","Sign up"),disabled:f}),t??ae.default.createElement(ae.default.Fragment,null,ae.default.createElement("span",null,P("pages.login.buttons.haveAccount","Have an account?")," ",b("/login",P("pages.login.signin","Sign in")))))));return ae.default.createElement("div",{...r},i?i(I,o):I)},"RegisterPage"),be=U(C("react")),ks=l(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:a,formProps:i,title:n=void 0})=>{let o=te(),u=de(),c=Zt(),{Link:d}=De(),m=u==="legacy"?d:c,[p,w]=(0,be.useState)(""),{mutate:s,isLoading:v}=Ar(),P=l((y,f)=>be.default.createElement(m,{to:y},f),"renderLink"),g=be.default.createElement("div",{...r},be.default.createElement("h1",{style:{textAlign:"center"}},o("pages.forgotPassword.title","Forgot your password?")),be.default.createElement("hr",null),be.default.createElement("form",{onSubmit:y=>{y.preventDefault(),s({email:p})},...i},be.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},be.default.createElement("label",{htmlFor:"email-input"},o("pages.forgotPassword.fields.email","Email")),be.default.createElement("input",{id:"email-input",name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:p,onChange:y=>w(y.target.value)}),be.default.createElement("input",{type:"submit",disabled:v,value:o("pages.forgotPassword.buttons.submit","Send reset instructions")}),be.default.createElement("br",null),e??be.default.createElement("span",null,o("pages.register.buttons.haveAccount","Have an account? ")," ",P("/login",o("pages.login.signin","Sign in"))))));return be.default.createElement("div",{...t},a?a(g,n):g)},"ForgotPasswordPage"),Ee=U(C("react")),Os=l(({wrapperProps:e,contentProps:t,renderContent:r,formProps:a,title:i=void 0})=>{let n=te(),o=ue(),{mutate:u,isLoading:c}=Fr({v3LegacyAuthProviderCompatible:!!(o!=null&&o.isLegacy)}),[d,m]=(0,Ee.useState)(""),[p,w]=(0,Ee.useState)(""),s=Ee.default.createElement("div",{...t},Ee.default.createElement("h1",{style:{textAlign:"center"}},n("pages.updatePassword.title","Update Password")),Ee.default.createElement("hr",null),Ee.default.createElement("form",{onSubmit:v=>{v.preventDefault(),u({password:d,confirmPassword:p})},...a},Ee.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Ee.default.createElement("label",{htmlFor:"password-input"},n("pages.updatePassword.fields.password","New Password")),Ee.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:d,onChange:v=>m(v.target.value)}),Ee.default.createElement("label",{htmlFor:"confirm-password-input"},n("pages.updatePassword.fields.confirmPassword","Confirm New Password")),Ee.default.createElement("input",{id:"confirm-password-input",name:"confirmPassword",type:"password",required:!0,size:20,value:p,onChange:v=>w(v.target.value)}),Ee.default.createElement("input",{type:"submit",disabled:c,value:n("pages.updatePassword.buttons.submit","Update")}))));return Ee.default.createElement("div",{...e},r?r(s,i):s)},"UpdatePasswordPage"),Rs=l(e=>{let{type:t}=e;return ft.default.createElement(ft.default.Fragment,null,l(()=>{switch(t){case"register":return ft.default.createElement(Ns,{...e});case"forgotPassword":return ft.default.createElement(ks,{...e});case"updatePassword":return ft.default.createElement(Os,{...e});default:return ft.default.createElement(xs,{...e})}},"renderView")())},"AuthPage"),ge=U(C("react")),sn=l(()=>ge.default.createElement(ge.default.Fragment,null,ge.default.createElement("h1",null,"Welcome on board"),ge.default.createElement("p",null,"Your configuration is completed."),ge.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",ge.default.createElement("code",null,"`resources`")," property of ",ge.default.createElement("code",null,"`<Refine>`")),ge.default.createElement("div",{style:{display:"flex",gap:8}},ge.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},ge.default.createElement("button",null,"Documentation")),ge.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},ge.default.createElement("button",null,"Examples")),ge.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},ge.default.createElement("button",null,"Community")))),"ReadyPage"),G=U(C("react")),As=[{title:"Documentation",description:"Learn about the technical details of using refine in your projects.",link:"https://refine.dev/",icon:G.default.createElement("svg",{width:"14",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},G.default.createElement("path",{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V5a1 1 0 0 0-1-1H3a1 1 0 0 1 0-2h10a1 1 0 1 0 0-2H2Z",fill:"#fff"}))},{title:"Tutorial",description:"Learn how to use refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/docs/tutorial/introduction/index/",icon:G.default.createElement("svg",{width:"16",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},G.default.createElement("path",{d:"M0 4.573c0-.475.163-.948.53-1.25a4.57 4.57 0 0 1 .854-.553L5.956.485a4.571 4.571 0 0 1 4.088 0l4.572 2.285c.308.154.594.34.853.553.306.251.47.62.517 1.01.01.055.014.112.014.169v6.5a1 1 0 0 1-2 0V6.684l-3.956 1.978a4.571 4.571 0 0 1-4.088 0L1.384 6.376a4.57 4.57 0 0 1-.853-.553C.163 5.522 0 5.05 0 4.573Z",fill:"#fff"}),G.default.createElement("path",{d:"M5.061 13.305 3 12.274V9.42l2.061 1.031a6.571 6.571 0 0 0 5.878 0L13 9.421v2.853l-2.061 1.03a6.571 6.571 0 0 1-5.878 0Z",fill:"#fff"}))},{title:"Examples",description:"A collection of reference applications you can use as a starting point.",link:"https://refine.dev/examples",icon:G.default.createElement("svg",{width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},G.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4H0V2Zm3 2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm4-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm2 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",fill:"#fff"}),G.default.createElement("path",{d:"M0 14V8h16v6a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2Z",fill:"#fff"}))},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",icon:G.default.createElement("svg",{width:"16",height:"12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},G.default.createElement("path",{d:"M13.553 1.005A13.334 13.334 0 0 0 10.253 0c-.156.276-.298.56-.423.85a12.42 12.42 0 0 0-3.664 0A8.975 8.975 0 0 0 5.744 0 13.43 13.43 0 0 0 2.44 1.007C.351 4.066-.215 7.05.068 9.99A13.36 13.36 0 0 0 4.116 12c.328-.436.618-.9.867-1.384a8.647 8.647 0 0 1-1.365-.645c.115-.082.227-.167.335-.249a9.594 9.594 0 0 0 8.094 0c.11.089.222.173.335.25-.436.254-.894.47-1.368.646.249.484.539.946.867 1.382a13.3 13.3 0 0 0 4.051-2.01c.332-3.41-.568-6.365-2.379-8.985Zm-8.21 7.176c-.79 0-1.442-.709-1.442-1.58 0-.872.63-1.587 1.439-1.587s1.456.715 1.442 1.586c-.014.872-.636 1.58-1.44 1.58Zm5.315 0c-.79 0-1.44-.709-1.44-1.58 0-.872.63-1.587 1.44-1.587.81 0 1.452.715 1.438 1.586-.014.872-.634 1.58-1.438 1.58Z",fill:"#fff"}))}],Fs=l(()=>{let e=pa("(max-width: 1010px)"),t=pa("(max-width: 650px)"),r=l(()=>t?"1, 280px":e?"2, 280px":"4, 208px","getGridTemplateColumns"),a=l(()=>t?"32px":e?"40px":"48px","getHeaderFontSize"),i=l(()=>t?"16px":e?"20px":"24px","getSubHeaderFontSize");return G.default.createElement("div",{style:{backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-page.webp)",backgroundPosition:"center top",backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"100vh",backgroundColor:"#0D0D12",fontFamily:"Arial",color:"#FFFFFF"}},G.default.createElement("div",{style:{height:"89px"}}),G.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},G.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-logo.webp",width:"198",height:"54"})),G.default.createElement("div",{style:{height:e?"270px":"22vw",minHeight:e?"270px":"313px"}}),G.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},G.default.createElement("h1",{style:{fontSize:a(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),G.default.createElement("h4",{style:{fontSize:i(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),G.default.createElement("div",{style:{height:"64px"}}),G.default.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",maxWidth:"976px",margin:"auto"}},As.map(n=>G.default.createElement(Is,{key:`welcome-page-${n.title}`,card:n}))),G.default.createElement("div",{style:{height:"64px"}}))},"WelcomePage"),Is=l(({card:e})=>{let{title:t,description:r,icon:a,link:i}=e,[n,o]=(0,G.useState)(!1);return G.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},G.default.createElement("div",{style:{display:"flex",alignItems:"center"}},G.default.createElement("a",{onPointerEnter:()=>o(!0),onPointerLeave:()=>o(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:i},a,G.default.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),G.default.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...n&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},G.default.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),G.default.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))},"Card"),ee=U(C("react")),Pr=C("@tanstack/react-query"),$s=Z(),ei=U(C("react")),nt=C("react"),Us="4.42.4",Qs=l(()=>{var e;let t=Fi(),r=(0,nt.useContext)(Yt),a=(0,nt.useContext)(wt),i=(0,nt.useContext)(Wr),n=(0,nt.useContext)(Qr),{i18nProvider:o}=(0,nt.useContext)(ut),u=(0,nt.useContext)(Kr),c=(0,nt.useContext)(qt),{resources:d}=X(),m=he(),p=!!r.create||!!r.get||!!r.update,w=!!(a!=null&&a.publish)||!!(a!=null&&a.subscribe)||!!(a!=null&&a.unsubscribe),s=!!i.useHistory||!!i.Link||!!i.Prompt||!!i.useLocation||!!i.useParams,v=!!n,P=!!(o!=null&&o.changeLocale)||!!(o!=null&&o.getLocale)||!!(o!=null&&o.translate),g=!!u.close||!!u.open,y=!!c.can,f=(e=m==null?void 0:m.options)==null?void 0:e.projectId;return{providers:{auth:t,auditLog:p,live:w,router:s,data:v,i18n:P,notification:g,accessControl:y},version:Us,resourceCount:d.length,projectId:f}},"useTelemetryData"),Ks=l(e=>{try{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")}catch{return}},"encode"),zs=l(e=>{let t=new Image;t.src=e},"throughImage"),Ws=l(e=>{fetch(e)},"throughFetch"),_s=l(e=>{typeof Image<"u"?zs(e):typeof fetch<"u"&&Ws(e)},"transport"),js=l(()=>{let e=Qs(),t=ei.default.useRef(!1);return ei.default.useEffect(()=>{if(t.current)return;let r=Ks(e);r&&(_s(`https://telemetry.refine.dev/telemetry?payload=${r}`),t.current=!0)},[]),null},"Telemetry"),Bs=l(e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(a=>!t.includes(a));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},"checkRouterPropMisuse"),ti=U(C("react")),Vs=l(e=>{let t=ti.default.useRef(!1);ti.default.useEffect(()=>{t.current===!1&&e&&Bs(e)&&(t.current=!0)},[e])},"useRouterMisuseWarning"),Hs=l(({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:a,routerProvider:i,notificationProvider:n,accessControlProvider:o,auditLogProvider:u,resources:c,DashboardPage:d,ReadyPage:m,LoginPage:p,catchAll:w,children:s,liveProvider:v,i18nProvider:P,Title:g,Layout:y,Sider:f,Header:b,Footer:T,OffLayoutArea:I,onLiveEvent:E,options:h})=>{let{optionsWithDefaults:M,disableTelemetryWithDefault:L,reactQueryWithDefaults:q}=Lo({options:h}),O=Wi(()=>{var R;return q.clientConfig instanceof Pr.QueryClient?q.clientConfig:new Pr.QueryClient({...q.clientConfig,defaultOptions:{...q.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(R=q.clientConfig.defaultOptions)==null?void 0:R.queries}}})},[q.clientConfig]);(0,$s.useQuerySubscription)(O);let D=ee.default.useMemo(()=>typeof n=="function"?n:()=>n??{},[n])();if(Vs(i),a&&!i&&(c??[]).length===0)return m?ee.default.createElement(m,null):ee.default.createElement(sn,null);let{RouterComponent:S=ee.default.Fragment}=i?{}:a??{};return ee.default.createElement(Pr.QueryClientProvider,{client:O},ee.default.createElement(Kl,{...D},ee.default.createElement(To,{...e??{},isProvided:!!e},ee.default.createElement(qo,{...t??{},isProvided:!!t},ee.default.createElement(bl,{...r},ee.default.createElement(wl,{liveProvider:v},ee.default.createElement(Nl,{value:a&&!i?"legacy":"new"},ee.default.createElement(Ol,{router:i},ee.default.createElement(us,{...a},ee.default.createElement(xl,{resources:c??[]},ee.default.createElement(Wl,{i18nProvider:P},ee.default.createElement(ms,{...o??{}},ee.default.createElement(Ps,{...u??{}},ee.default.createElement(tl,null,ee.default.createElement(Co,{mutationMode:M.mutationMode,warnWhenUnsavedChanges:M.warnWhenUnsavedChanges,syncWithLocation:M.syncWithLocation,Title:g,undoableTimeout:M.undoableTimeout,catchAll:w,DashboardPage:d,LoginPage:p,Layout:y,Sider:f,Footer:T,Header:b,OffLayoutArea:I,hasDashboard:!!d,liveMode:M.liveMode,onLiveEvent:E,options:M},ee.default.createElement(xo,null,ee.default.createElement(S,null,s,!L&&ee.default.createElement(js,null),ee.default.createElement(cn,null))))))))))))))))))},"Refine"),ri=C("react"),un=l(({notification:e})=>{let t=te(),{notificationDispatch:r}=Pt(),{open:a}=Je(),[i,n]=(0,ri.useState)(),o=l(()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||a==null||a({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:nr(e.seconds)},`You have ${nr(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:nr(e.seconds)}),e.seconds>0)){i&&clearTimeout(i);let u=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);n(u)}},"cancelNotification");return(0,ri.useEffect)(()=>{o()},[e]),null},"UndoableQueue"),Bt=U(C("react")),Xs=l(({children:e,Layout:t,Sider:r,Header:a,Title:i,Footer:n,OffLayoutArea:o})=>{let{Layout:u,Footer:c,Header:d,Sider:m,Title:p,OffLayoutArea:w}=he();return Bt.default.createElement(t??u,{Sider:r??m,Header:a??d,Footer:n??c,Title:i??p,OffLayoutArea:o??w},e,Bt.default.createElement(Gs,null))},"LayoutWrapper"),Gs=l(()=>{let{Prompt:e}=De(),t=te(),{warnWhen:r,setWarnWhen:a}=Mr(),i=l(n=>(n.preventDefault(),n.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),n.returnValue),"warnWhenListener");return(0,Bt.useEffect)(()=>(r&&window.addEventListener("beforeunload",i),window.removeEventListener("beforeunload",i)),[r]),Bt.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:a})},"UnsavedPrompt"),Le=U(C("react")),Zs=l(()=>{let e=Ne(),[t,r]=Le.default.useState(void 0);return Le.default.useEffect(()=>{t&&e(t)},[t]),Le.default.useCallback(a=>{t||r(a)},[t])},"useDeferredGo");function dn({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:a,loading:i}){var n;let o=ue(),u=de(),c=!!(o!=null&&o.isProvided),d=!!(o!=null&&o.isLegacy),m=u==="legacy",p=$e(),w=Ne(),s=Zs(),{replace:v}=ke(),{useLocation:P}=De(),g=P(),{isLoading:y,isFetching:f,isSuccess:b,data:{authenticated:T,redirectTo:I}={},refetch:E}=Gt({v3LegacyAuthProviderCompatible:d});Le.default.useEffect(()=>{E()},[r,a]);let h=Le.default.useRef({status:y?"initial":"pending",content:i??null});f?h.current.status="pending":f||(h.current.status="settled");let M=c?d?b:T:!0;if(h.current.status==="settled")if(M)h.current.content=Le.default.createElement(Le.default.Fragment,null,r??null);else if(typeof a<"u")h.current.content=Le.default.createElement(Le.default.Fragment,null,a);else{let L=`${m?g==null?void 0:g.pathname:p.pathname}`.replace(/(\?.*|#.*)$/,""),q=d?typeof e=="string"?e:"/login":typeof e=="string"?e:I;if(q)if(m){let O=t?`?to=${encodeURIComponent(L)}`:"";v(`${q}${O}`)}else s({to:q,query:t?{to:(n=p.params)!=null&&n.to?p.params.to:w({to:L,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"})}return c?Le.default.createElement(Le.default.Fragment,null,h.current.content):Le.default.createElement(Le.default.Fragment,null,r??null)}Q(dn,"ui");l(dn,"Authenticated");var Ys=C("react"),cn=l(()=>{let{useLocation:e}=De(),{checkAuth:t}=xe(),r=e();return(0,Ys.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},"RouteChangeHandler"),ot=U(C("react")),Js=l(({resource:e,action:t,params:r,fallback:a,onUnauthorized:i,children:n,...o})=>{let{resource:u,id:c,action:d}=X(e),{identifier:m}=X(),p=l(()=>{let g=(r==null?void 0:r.id)??c;return e&&e!==m?r==null?void 0:r.id:g},"getDefaultId")(),w=e??(u==null?void 0:u.name),s=t??d??"",v=r??{id:p,resource:u},{data:P}=an({resource:w,action:s,params:v});return(0,ot.useEffect)(()=>{i&&(P==null?void 0:P.can)===!1&&i({resource:w,action:s,reason:P==null?void 0:P.reason,params:v})},[P==null?void 0:P.can]),P!=null&&P.can?ot.default.isValidElement(n)?ot.default.cloneElement(n,o):ot.default.createElement(ot.default.Fragment,null,n):(P==null?void 0:P.can)===!1?ot.default.createElement(ot.default.Fragment,null,a??null):null},"CanAccess"),lt=U(C("react")),eu=[`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .banner::before,
    .banner::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    `,`
    .banner::before {
        background-image: linear-gradient(
            270deg,
            rgba(255, 76, 77, 0.35) 0%,
            rgba(255, 153, 51, 0.35) 12.5%,
            rgba(255, 191, 0, 0.35) 25%,
            rgba(38, 217, 127, 0.35) 37.5%,
            rgba(71, 235, 235, 0.35) 50%,
            rgba(0, 128, 255, 0.35) 62.5%,
            rgba(51, 51, 255, 0.35) 75%,
            rgba(128, 0, 255, 0.35) 87.5%,
            rgba(237, 94, 201, 0.35) 100%
        );
        background-position: 0 0;
        background-size: 200% 100%;
        background-repeat: repeat-x;
        animation: bgpos 4s linear infinite;
      }
    `,`
    .banner::after {
        background: linear-gradient(
          180deg,
          rgba(13, 13, 13, 0.85) 0%,
          rgba(13, 13, 13, 0) 100%
        );
    }
    `,`
    @keyframes bgpos {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
    `,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `],tu=l(()=>((0,lt.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),eu.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),lt.default.createElement("div",{className:"banner",style:{flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",padding:"8px 16px",backgroundColor:"#0d0d0d",borderBottom:"1px solid rgba(255, 255, 255, 0.15)"}},lt.default.createElement("div",{style:{width:"200px"}}),lt.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer"},lt.default.createElement("div",{className:"content",style:{position:"relative",zIndex:2,color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},lt.default.createElement("span",{className:"wizard",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",fontSize:"32px",lineHeight:"32px"}},"\u{1F9D9}\u200D\u2642\uFE0F"),lt.default.createElement("span",{className:"text",style:{padding:"4px 0",fontSize:"16px",lineHeight:"24px",textShadow:"0px 0px 4px rgba(255, 255, 255, 0.5)"}},"refine grants your wishes! Please give us a \u2B50\uFE0F on GitHub to keep the magic going."))))),"GitHubBanner")});var Mt=C("react"),fn=Mn(vn()),et=C("@tanstack/react-table");var Jt=C("react");var pn=Q(()=>{let e=(0,Jt.useRef)(!0);return(0,Jt.useEffect)(()=>{e.current=!1},[]),e.current},"useIsFirstRender");function ru({refineCoreProps:{hasPagination:e=!0,...t}={},initialState:r={},...a}){var S,R,x;let i=pn(),n=(0,fn.useTable)({...t,hasPagination:e}),o=(((S=t.filters)==null?void 0:S.mode)||"server")==="server",u=(((R=t.sorters)==null?void 0:R.mode)||"server")==="server",c=e===!1?"off":"server",d=(((x=t.pagination)==null?void 0:x.mode)??c)!=="off",{tableQueryResult:{data:m},current:p,setCurrent:w,pageSize:s,setPageSize:v,sorters:P,setSorters:g,filters:y,setFilters:f,pageCount:b}=n,T=[];y.forEach(N=>{N.operator!=="or"&&N.operator!=="and"&&"field"in N&&T.push(N)});let I=(0,et.useReactTable)({data:(m==null?void 0:m.data)??[],getCoreRowModel:(0,et.getCoreRowModel)(),getSortedRowModel:u?void 0:(0,et.getSortedRowModel)(),getFilteredRowModel:o?void 0:(0,et.getFilteredRowModel)(),initialState:{pagination:{pageIndex:p-1,pageSize:s},sorting:P.map(N=>({id:N.field,desc:N.order==="desc"})),columnFilters:T.map(N=>({id:N.field,operator:N.operator,value:N.value})),...r},pageCount:b,manualPagination:!0,manualSorting:u,manualFiltering:o,...a}),{state:E,columns:h}=I.options,{pagination:M,sorting:L,columnFilters:q}=E,{pageIndex:O,pageSize:D}=M??{};return(0,Mt.useEffect)(()=>{O!==void 0&&w(O+1)},[O]),(0,Mt.useEffect)(()=>{D!==void 0&&v(D)},[D]),(0,Mt.useEffect)(()=>{L!==void 0&&(g(L==null?void 0:L.map(N=>({field:N.id,order:N.desc?"desc":"asc"}))),L.length>0&&d&&!i&&w(1))},[L]),(0,Mt.useEffect)(()=>{let N=[];q==null||q.map(A=>{var F,B;let K=A.operator??((B=(F=h.find(z=>z.id===A.id))==null?void 0:F.meta)==null?void 0:B.filterOperator);N.push({field:A.id,operator:K??(Array.isArray(A.value)?"in":"eq"),value:A.value})});let k=T.filter(A=>!N.some(K=>A.field===K.field&&A.operator===K.operator));k==null||k.map(A=>{N.push({field:A.field,operator:A.operator,value:void 0})}),f(N),N.length>0&&d&&!i&&w(1)},[q]),{...I,refineCore:n}}Q(ru,"useTable");})();
//# sourceMappingURL=index.js.map